webpackJsonp([1,0],[,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),s=r(a),u=n(12),l=r(u),c=n(31),f=r(c),h=n(109),d=r(h),p=n(108),v=r(p),_=n(41),m=r(_),y=n(48),g=r(y),b=n(40),x=r(b),w=n(107),M=r(w),T=n(225),P=r(T),S=n(32),E=r(S),O=n(236),R=r(O),k=n(49),A=r(k),C=n(111),D=r(C),I=n(238),L=r(I),F=n(68),j=r(F),N=n(110),z=r(N),U=n(69),B=r(U),V=n(226),H=r(V),X=n(70),q=r(X),G=n(234),Y=r(G),W=n(233),Z=r(W),Q=n(229),$=r(Q),K=n(227),J=r(K),tt=n(228),et=r(tt),nt=n(230),rt=r(nt),it=n(231),ot=r(it),at=n(232),st=r(at),ut=n(239),lt=r(ut),ct=n(235),ft=r(ct),ht="0.0.1",dt=function(){function t(){i(this,t),this.glm=s.default,this.GL=l.default,this.GLTool=l.default,this.GLShader=f.default,this.GLTexture=d.default,this.GLCubeTexture=v.default,this.Mesh=m.default,this.Geom=g.default,this.Batch=x.default,this.FrameBuffer=M.default,this.CubeFrameBuffer=P.default,this.Scheduler=E.default,this.EventDispatcher=R.default,this.EaseNumber=A.default,this.Camera=j.default,this.CameraOrtho=z.default,this.CameraPerspective=B.default,this.CameraCube=H.default,this.OrbitalControl=D.default,this.QuatRotation=L.default,this.BinaryLoader=q.default,this.ObjLoader=Y.default,this.HDRLoader=Z.default,this.BatchCopy=$.default,this.BatchAxis=J.default,this.BatchBall=et.default,this.BatchBall=et.default,this.BatchDotsPlane=rt.default,this.Scene=ot.default,this.View=st.default,this.EffectComposer=ft.default,this.ShaderLibs=lt.default;for(var e in s.default)s.default[e]&&(window[e]=s.default[e])}return o(t,[{key:"log",value:function(){navigator.userAgent.indexOf("Chrome")>-1?console.log("%clib alfrid : VERSION "+ht,"background: #193441; color: #FCFFF5"):console.log("lib alfrid : VERSION ",ht),console.log("%cClasses : ","color: #193441");for(var t in this)this[t]&&console.log("%c - "+t,"color: #3E606F")}}]),t}(),pt=new dt;t.exports=pt},,,function(t,e,n){e.glMatrix=n(19),e.mat2=n(299),e.mat2d=n(300),e.mat3=n(132),e.mat4=n(301),e.quat=n(302),e.vec2=n(303),e.vec3=n(133),e.vec4=n(134)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(e.indexOf("deprecated")!==-1){if(u[e])return;u[e]=!0}e="[react-router] "+e;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s.default.apply(void 0,[t,e].concat(r))}function o(){u={}}e.__esModule=!0,e.default=i,e._resetWarned=o;var a=n(15),s=r(a),u={}},,,function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(void 0===e)throw new Error("invariant requires an error message argument");if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(e.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),s=r(a),u=function(){function t(){i(this,t),this.canvas,this._viewport=[0,0,0,0],this._enabledVertexAttribute=[],this.identityMatrix=s.default.mat4.create(),this._normalMatrix=s.default.mat3.create(),this._inverseModelViewMatrix=s.default.mat3.create(),this._modelMatrix=s.default.mat4.create(),this._matrix=s.default.mat4.create(),s.default.mat4.identity(this.identityMatrix,this.identityMatrix),this.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(this.isMobile=!0)}return o(t,[{key:"init",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(null===t||void 0===t)return void console.error("Canvas not exist");void 0!==this.canvas&&null!==this.canvas&&this.destroy(),this.canvas=t,this.setSize(window.innerWidth,window.innerHeight),this.gl=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e);var n=["EXT_shader_texture_lod","EXT_sRGB","EXT_frag_depth","OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","WEBGL_depth_texture"];this.extensions={};for(var r=0;r<n.length;r++)this.extensions[n[r]]=this.gl.getExtension(n[r]);var i=this.gl;this.VERTEX_SHADER=i.VERTEX_SHADER,this.FRAGMENT_SHADER=i.FRAGMENT_SHADER,this.COMPILE_STATUS=i.COMPILE_STATUS,this.DEPTH_TEST=i.DEPTH_TEST,this.CULL_FACE=i.CULL_FACE,this.BLEND=i.BLEND,this.POINTS=i.POINTS,this.LINES=i.LINES,this.TRIANGLES=i.TRIANGLES,this.LINEAR=i.LINEAR,this.NEAREST=i.NEAREST,this.LINEAR_MIPMAP_NEAREST=i.LINEAR_MIPMAP_NEAREST,this.MIRRORED_REPEAT=i.MIRRORED_REPEAT,this.CLAMP_TO_EDGE=i.CLAMP_TO_EDGE,this.SCISSOR_TEST=i.SCISSOR_TEST,this.enable(this.DEPTH_TEST),this.enable(this.CULL_FACE),this.enable(this.BLEND)}},{key:"setViewport",value:function(t,e,n,r){var i=!1;t!==this._viewport[0]&&(i=!0),e!==this._viewport[1]&&(i=!0),n!==this._viewport[2]&&(i=!0),r!==this._viewport[3]&&(i=!0),i&&(this.gl.viewport(t,e,n,r),this._viewport=[t,e,n,r])}},{key:"scissor",value:function(t,e,n,r){this.gl.scissor(t,e,n,r)}},{key:"clear",value:function(t,e,n,r){this.gl.clearColor(t,e,n,r),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},{key:"setMatrices",value:function(t){this.camera=t,this.rotate(this.identityMatrix)}},{key:"useShader",value:function(t){this.shader=t,this.shaderProgram=this.shader.shaderProgram}},{key:"useLight",value:function(t){t?(this.light=t,this._lightEnabled=!0):this._lightEnabled=!1}},{key:"rotate",value:function(t){s.default.mat4.copy(this._modelMatrix,t),s.default.mat4.multiply(this._matrix,this.camera.matrix,this._modelMatrix),s.default.mat3.fromMat4(this._normalMatrix,this._matrix),s.default.mat3.invert(this._normalMatrix,this._normalMatrix),s.default.mat3.transpose(this._normalMatrix,this._normalMatrix),s.default.mat3.fromMat4(this._inverseModelViewMatrix,this._matrix),s.default.mat3.invert(this._inverseModelViewMatrix,this._inverseModelViewMatrix)}},{key:"_getAttribLoc",value:function(t,e,n){return void 0===e.cacheAttribLoc&&(e.cacheAttribLoc={}),void 0===e.cacheAttribLoc[n]&&(e.cacheAttribLoc[n]=t.getAttribLocation(e,n)),e.cacheAttribLoc[n]}},{key:"draw",value:function(t,e){if(t.length)for(var n=0;n<t.length;n++)this.draw(t[n]);else{for(var r=0;r<t.attributes.length;r++){var i=t.attributes[r];this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i.buffer);var o=this._getAttribLoc(this.gl,this.shaderProgram,i.name);this.gl.vertexAttribPointer(o,i.itemSize,this.gl.FLOAT,!1,0,0),this._enabledVertexAttribute.indexOf(o)===-1&&(this.gl.enableVertexAttribArray(o),this._enabledVertexAttribute.push(o))}this._lightEnabled&&(this.shader.uniform("uLightPosition","vec3",this.light.position),this.shader.uniform("uLightAmbient","vec4",this.light.ambient),this.shader.uniform("uLightDiffuse","vec4",this.light.diffuse)),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t.iBuffer),void 0!==this.camera&&(this.shader.uniform("uProjectionMatrix","mat4",this.camera.projection),this.shader.uniform("uViewMatrix","mat4",this.camera.matrix)),this.shader.uniform("uModelMatrix","mat4",this._modelMatrix),this.shader.uniform("uNormalMatrix","mat3",this._normalMatrix),this.shader.uniform("uModelViewMatrixInverse","mat3",this._inverseModelViewMatrix);var a=t.drawType;void 0!==e&&(a=e),a===this.gl.POINTS?this.gl.drawArrays(a,0,t.vertexSize):this.gl.drawElements(a,t.iBuffer.numItems,this.gl.UNSIGNED_SHORT,0)}}},{key:"setSize",value:function(t,e){this._width=t,this._height=e,this.canvas.width=this._width,this.canvas.height=this._height,this._aspectRatio=this._width/this._height,this.gl&&this.viewport(0,0,this._width,this._height)}},{key:"showExtensions",value:function(){console.log("Extensions : ",this.extensions);for(var t in this.extensions)this.extensions[t]&&console.log(t,":",this.extensions[t])}},{key:"checkExtension",value:function(t){return!!this.extensions[t]}},{key:"getExtension",value:function(t){return this.extensions[t]}},{key:"enableAlphaBlending",value:function(){this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)}},{key:"enableAdditiveBlending",value:function(){this.gl.blendFunc(this.gl.ONE,this.gl.ONE)}},{key:"enable",value:function(t){this.gl.enable(t)}},{key:"disable",value:function(t){this.gl.disable(t)}},{key:"viewport",value:function(t,e,n,r){this.setViewport(t,e,n,r)}},{key:"destroy",value:function(){if(this.canvas.parentNode)try{this.canvas.parentNode.removeChild(this.canvas)}catch(t){console.log("Error : ",t)}this.canvas=null}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"aspectRatio",get:function(){return this._aspectRatio}}]),t}(),l=new u;e.default=l},function(t,e){"use strict";function n(t){for(var e=0;e<assets.length;e++)if(t===assets[e].id)return assets[e].file}function r(t,e){var n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n}Object.defineProperty(e,"__esModule",{value:!0}),e.getAsset=n,e.getMouse=r;var i={calculateNormals:function(t,e){for(var n=0,r=1,i=2,o=[],a=0;a<t.length;a+=3)o[a+n]=0,o[a+r]=0,o[a+i]=0;for(var a=0;a<e.length;a+=3){var s=[],u=[],l=[];for(s[n]=t[3*e[a+2]+n]-t[3*e[a+1]+n],s[r]=t[3*e[a+2]+r]-t[3*e[a+1]+r],s[i]=t[3*e[a+2]+i]-t[3*e[a+1]+i],u[n]=t[3*e[a]+n]-t[3*e[a+1]+n],u[r]=t[3*e[a]+r]-t[3*e[a+1]+r],u[i]=t[3*e[a]+i]-t[3*e[a+1]+i],l[n]=s[r]*u[i]-s[i]*u[r],l[r]=s[i]*u[n]-s[n]*u[i],l[i]=s[n]*u[r]-s[r]*u[n],j=0;j<3;j++)o[3*e[a+j]+n]=o[3*e[a+j]+n]+l[n],o[3*e[a+j]+r]=o[3*e[a+j]+r]+l[r],o[3*e[a+j]+i]=o[3*e[a+j]+i]+l[i]}for(var a=0;a<t.length;a+=3){var c=[];c[n]=o[a+n],c[r]=o[a+r],c[i]=o[a+i];var f=Math.sqrt(c[n]*c[n]+c[r]*c[r]+c[i]*c[i]);0==f&&(f=1),c[n]=c[n]/f,c[r]=c[r]/f,c[i]=c[i]/f,o[a+n]=c[n],o[a+r]=c[r],o[a+i]=c[i]}return o},calculateTangents:function(t,e){for(var n=t,r=[],i=0;i<n.length;i++)r[i]=0;return r},getRandom:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=void 0;if(t.length){for(;!e;){var n=Math.floor(Math.random()*t.length);e=t[n]}return e}},resizeEl:function(t,e,n,r,i,o){var a,s,u,l=n/r,c=i/o;a=l>c?n/i:r/o,l===c?s=u=0:(s=.5*(n-i*a)/a,u=.5*(r-o*a)/a),s=Number(s.toFixed(1)),u=Number(u.toFixed(1)),t.css("transform","scale3d("+a+", "+a+", 1) translate3d("+s+"px,"+u+"px,0)"),t.css("transform-origin","0% 0% 0px")}};e.default=i},,function(t,e,n){"use strict";var r=function(){};r=function(t,e,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var i=2;i<r;i++)n[i-2]=arguments[i];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(!t){var o=0,a="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(s){}}},t.exports=r},,,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return"function"==typeof t||!1},o=function(){function t(){n(this,t),this.listeners=new Map}return r(t,[{key:"on",value:function(t,e){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t).push(e)}},{key:"off",value:function(t,e){var n=this.listeners.get(t),r=void 0;return!!(n&&n.length&&(r=n.reduce(function(t,n,r){return i(n)&&n===e?t=r:t},-1),r>-1))&&(n.splice(r,1),this.listeners.set(t,n),!0)}},{key:"emit",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=this.listeners.get(t);return!(!i||!i.length)&&(i.forEach(function(t){t.apply(void 0,n)}),!0)}}]),t}(),a=new o;e.default=a},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return null==t||d.default.isValidElement(t)}function o(t){return i(t)||Array.isArray(t)&&t.every(i)}function a(t,e,n){t=t||"UnknownComponent";for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r](n,r,t);i instanceof Error&&(0,v.default)(!1,i.message)}}function s(t,e){return f({},t,e)}function u(t){var e=t.type,n=s(e.defaultProps,t.props);if(e.propTypes&&a(e.displayName||e.name,e.propTypes,n),n.children){var r=l(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function l(t,e){var n=[];return d.default.Children.forEach(t,function(t){if(d.default.isValidElement(t))if(t.type.createRouteFromReactElement){var r=t.type.createRouteFromReactElement(t,e);r&&n.push(r)}else n.push(u(t))}),n}function c(t){return o(t)?t=l(t):t&&!Array.isArray(t)&&(t=[t]),t}e.__esModule=!0;var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.isReactChildren=o,e.createRouteFromReactElement=u,e.createRoutesFromReactChildren=l,e.createRoutes=c;var h=n(2),d=r(h),p=n(8),v=r(p)},,,function(t,e){"use strict";e.__esModule=!0;var n="PUSH";e.PUSH=n;var r="REPLACE";e.REPLACE=r;var i="POP";e.POP=i,e.default={PUSH:n,REPLACE:r,POP:i}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=t.match(/^https?:\/\/[^\/]*/);return null==e?t:t.substring(e[0].length)}function o(t){var e=i(t),n="",r="";s.default(t===e,'A path must be pathname + search + hash only, not a fully qualified URL like "%s"',t);var o=e.indexOf("#");o!==-1&&(r=e.substring(o),e=e.substring(0,o));var a=e.indexOf("?");return a!==-1&&(n=e.substring(a),e=e.substring(0,a)),""===e&&(e="/"),{pathname:e,search:n,hash:r}}e.__esModule=!0,e.extractPath=i,e.parsePath=o;var a=n(15),s=r(a)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return function(){return a.default(!1,"[history] "+e),t.apply(this,arguments)}}e.__esModule=!0;var o=n(15),a=r(o);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){if(t[e])return new Error("<"+n+'> should not have a "'+e+'" prop')}e.__esModule=!0,e.routes=e.route=e.components=e.component=e.history=void 0,e.falsy=r;var i=n(2),o=i.PropTypes.func,a=i.PropTypes.object,s=i.PropTypes.arrayOf,u=i.PropTypes.oneOfType,l=i.PropTypes.element,c=i.PropTypes.shape,f=i.PropTypes.string,h=(e.history=c({listen:o.isRequired,push:o.isRequired,replace:o.isRequired,go:o.isRequired,goBack:o.isRequired,goForward:o.isRequired}),e.component=u([o,f])),d=(e.components=u([h,a]),e.route=u([a,l]));e.routes=u([d,s(d)])},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(12),u=r(s),l=function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")},c=void 0,f=n(419),h=n(418),d={"float":"uniform1f",vec2:"uniform2fv",vec3:"uniform3fv",vec4:"uniform4fv","int":"uniform1i",mat3:"uniformMatrix3fv",mat4:"uniformMatrix4fv"},p=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?f:arguments[0],n=arguments.length<=1||void 0===arguments[1]?h:arguments[1];i(this,t),c=u.default.gl,this.parameters=[],this.uniformValues={},this.uniformTextures=[],e||(e=f),n||(n=f);var r=this._createShaderProgram(e,!0),o=this._createShaderProgram(n,!1);this._vsShader=r,this._fsShader=o,this._attachShaderProgram(r,o)}return a(t,[{key:"bind",value:function(){c.useProgram(this.shaderProgram),u.default.useShader(this),this.uniformTextures=[]}},{key:"uniform",value:function(t,e,n){function r(t){return t.slice?t.slice(0):new Float32Array(t)}if(void 0===n||null===n)return void console.warn("mValue Error:",t);for(var i=d[e]||e,a="uniform1i"===i||"uniform1f"===i,s=!1,u=void 0,l=-1,f=0;f<this.parameters.length;f++)if(u=this.parameters[f],u.name===t){s=!0,l=f;break}if(s?this.shaderProgram[t]=u.uniformLoc:(this.shaderProgram[t]=c.getUniformLocation(this.shaderProgram,t),a?this.parameters.push({name:t,type:i,value:n,uniformLoc:this.shaderProgram[t]}):this.parameters.push({name:t,type:i,value:r(n),uniformLoc:this.shaderProgram[t]}),l=this.parameters.length-1),this.parameters[l].uniformLoc)if(i.indexOf("Matrix")===-1)if(a){var h=this.parameters[l].value!==n||!s;h&&(c[i](this.shaderProgram[t],n),this.parameters[l].value=n)}else o(this.parameters[l].value,n)&&s||(c[i](this.shaderProgram[t],n),this.parameters[l].value=r(n));else o(this.parameters[l].value,n)&&s||(c[i](this.shaderProgram[t],!1,n),this.parameters[l].value=r(n))}},{key:"_createShaderProgram",value:function(t,e){var n=e?u.default.VERTEX_SHADER:u.default.FRAGMENT_SHADER,r=c.createShader(n);return c.shaderSource(r,t),c.compileShader(r),c.getShaderParameter(r,c.COMPILE_STATUS)?r:(console.warn("Error in Shader : ",c.getShaderInfoLog(r)),console.log(l(t)),null)}},{key:"_attachShaderProgram",value:function(t,e){this.shaderProgram=c.createProgram(),c.attachShader(this.shaderProgram,t),c.attachShader(this.shaderProgram,e),c.linkProgram(this.shaderProgram)}},{key:"destroy",value:function(){this._deleteShader(this.shaderProgram,this._vsShader),this._deleteShader(this.shaderProgram,this._fsShader),this._deleteShaderProgram(this.shaderProgram)}},{key:"_deleteShader",value:function(t,e){c.detachShader(t,e),c.deleteShader(e)}},{key:"_deleteShaderProgram",value:function(t){c.deleteProgram(t)}}]),t}();e.default=p},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();void 0===window.requestAnimFrame&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}());var i=60,o=function(){function t(){n(this,t),this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this._loop()}return r(t,[{key:"addEF",value:function(t,e){e=e||[];var n=this._idTable;return this._enterframeTasks[n]={func:t,params:e},this._idTable++,n}},{key:"removeEF",value:function(t){return void 0!==this._enterframeTasks[t]&&(this._enterframeTasks[t]=null),-1}},{key:"delay",value:function(t,e,n){var r=(new Date).getTime(),i={func:t,params:e,delay:n,time:r};this._delayTasks.push(i)}},{key:"defer",value:function(t,e){var n={func:t,params:e};this._deferTasks.push(n)}},{key:"next",value:function(t,e){var n={func:t,params:e};this._nextTasks.push(n)}},{key:"usurp",value:function(t,e){var n={func:t,params:e};this._usurpTask.push(n)}},{key:"_process",value:function(){var t=0,e=void 0,n=void 0,r=void 0;for(t=0;t<this._enterframeTasks.length;t++)e=this._enterframeTasks[t],null!==e&&void 0!==e&&e.func(e.params);for(;this._highTasks.length>0;)e=this._highTasks.pop(),e.func(e.params);var o=(new Date).getTime();for(t=0;t<this._delayTasks.length;t++)e=this._delayTasks[t],o-e.time>e.delay&&(e.func(e.params),this._delayTasks.splice(t,1));for(o=(new Date).getTime(),n=1e3/i;this._deferTasks.length>0;){if(e=this._deferTasks.shift(),r=(new Date).getTime(),!(r-o<n)){this._deferTasks.unshift(e);break}e.func(e.params)}for(o=(new Date).getTime(),n=1e3/i;this._usurpTask.length>0&&(e=this._usurpTask.shift(),r=(new Date).getTime(),r-o<n);)e.func(e.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[]}},{key:"_loop",value:function(){var t=this;this._process(),window.requestAnimFrame(function(){return t._loop()})}}]),t}(),a=new o;e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return c.stringify(t).replace(/%20/g,"+")}function o(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&"object"==typeof t[e]&&!Array.isArray(t[e])&&null!==t[e])return!0;return!1}function a(t){return function(){function e(t){if(null==t.query){var e=t.search;t.query=T(e.substring(1)),t[_]={search:e,searchBase:""}}return t}function n(t,e){var n,r=t[_],a=e?M(e):"";if(!r&&!a)return t;l.default(M!==i||!o(e),"useQueries does not stringify nested query objects by default; use a custom stringifyQuery function"),"string"==typeof t&&(t=d.parsePath(t));var u=void 0;u=r&&t.search===r.search?r.searchBase:t.search||"";var c=u;return a&&(c+=(c?"&":"?")+a),s({},t,(n={search:c},n[_]={search:c,searchBase:u},n))}function r(t){return w.listenBefore(function(n,r){h.default(t,e(n),r)})}function a(t){return w.listen(function(n){t(e(n))})}function u(t){w.push(n(t,t.query))}function c(t){w.replace(n(t,t.query))}function f(t,e){return l.default(!e,"the query argument to createPath is deprecated; use a location descriptor instead"),w.createPath(n(t,e||t.query))}function p(t,e){return l.default(!e,"the query argument to createHref is deprecated; use a location descriptor instead"),w.createHref(n(t,e||t.query))}function y(t){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=w.createLocation.apply(w,[n(t,t.query)].concat(i));return t.query&&(a.query=t.query),e(a)}function g(t,e,n){"string"==typeof e&&(e=d.parsePath(e)),u(s({state:t},e,{query:n}))}function b(t,e,n){"string"==typeof e&&(e=d.parsePath(e)),c(s({state:t},e,{query:n}))}var x=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],w=t(x),M=x.stringifyQuery,T=x.parseQueryString;return"function"!=typeof M&&(M=i),"function"!=typeof T&&(T=m),s({},w,{listenBefore:r,listen:a,push:u,replace:c,createPath:f,createHref:p,createLocation:y,pushState:v.default(g,"pushState is deprecated; use push instead"),replaceState:v.default(b,"replaceState is deprecated; use replace instead")})}}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(15),l=r(u),c=n(307),f=n(72),h=r(f),d=n(27),p=n(28),v=r(p),_="$searchBase",m=c.parse;e.default=a,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(t){for(var e="",n=[],r=[],o=void 0,a=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;o=s.exec(t);)o.index!==a&&(r.push(t.slice(a,o.index)),e+=i(t.slice(a,o.index))),o[1]?(e+="([^/]+)",n.push(o[1])):"**"===o[0]?(e+="(.*)",n.push("splat")):"*"===o[0]?(e+="(.*?)",n.push("splat")):"("===o[0]?e+="(?:":")"===o[0]&&(e+=")?"),r.push(o[0]),a=s.lastIndex;return a!==t.length&&(r.push(t.slice(a,t.length)),e+=i(t.slice(a,t.length))),{pattern:t,regexpSource:e,paramNames:n,tokens:r}}function a(t){return t in d||(d[t]=o(t)),d[t]}function s(t,e){"/"!==t.charAt(0)&&(t="/"+t);var n=a(t),r=n.regexpSource,i=n.paramNames,o=n.tokens;"/"!==t.charAt(t.length-1)&&(r+="/?"),"*"===o[o.length-1]&&(r+="$");var s=e.match(new RegExp("^"+r,"i"));if(null==s)return null;var u=s[0],l=e.substr(u.length);if(l){if("/"!==u.charAt(u.length-1))return null;l="/"+l}return{remainingPathname:l,paramNames:i,paramValues:s.slice(1).map(function(t){return t&&decodeURIComponent(t)})}}function u(t){return a(t).paramNames}function l(t,e){var n=s(t,e);if(!n)return null;var r=n.paramNames,i=n.paramValues,o={};return r.forEach(function(t,e){o[t]=i[e]}),o}function c(t,e){e=e||{};for(var n=a(t),r=n.tokens,i=0,o="",s=0,u=void 0,l=void 0,c=void 0,f=0,d=r.length;f<d;++f)u=r[f],"*"===u||"**"===u?(c=Array.isArray(e.splat)?e.splat[s++]:e.splat,null!=c||i>0?void 0:(0,h.default)(!1,'Missing splat #%s for path "%s"',s,t),null!=c&&(o+=encodeURI(c))):"("===u?i+=1:")"===u?i-=1:":"===u.charAt(0)?(l=u.substring(1),c=e[l],null!=c||i>0?void 0:(0,h.default)(!1,'Missing "%s" parameter for path "%s"',l,t),null!=c&&(o+=encodeURIComponent(c))):o+=u;return o.replace(/\/+/g,"/")}e.__esModule=!0,e.compilePattern=a,e.matchPattern=s,e.getParamNames=u,e.getParams=l,e.formatPattern=c;var f=n(11),h=r(f),d={}},,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.connect=e.Provider=void 0;var i=n(314),o=r(i),a=n(315),s=r(a);e.Provider=o.default,e.connect=s.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.createMemoryHistory=e.hashHistory=e.browserHistory=e.applyRouterMiddleware=e.formatPattern=e.useRouterHistory=e.match=e.routerShape=e.locationShape=e.PropTypes=e.RoutingContext=e.RouterContext=e.createRoutes=e.useRoutes=e.RouteContext=e.Lifecycle=e.History=e.Route=e.Redirect=e.IndexRoute=e.IndexRedirect=e.withRouter=e.IndexLink=e.Link=e.Router=void 0;var i=n(23);Object.defineProperty(e,"createRoutes",{enumerable:!0,get:function(){return i.createRoutes}});var o=n(76);Object.defineProperty(e,"locationShape",{enumerable:!0,get:function(){return o.locationShape}}),Object.defineProperty(e,"routerShape",{enumerable:!0,get:function(){return o.routerShape}});var a=n(34);Object.defineProperty(e,"formatPattern",{enumerable:!0,get:function(){return a.formatPattern}});var s=n(327),u=r(s),l=n(148),c=r(l),f=n(321),h=r(f),d=n(340),p=r(d),v=n(322),_=r(v),m=n(323),y=r(m),g=n(149),b=r(g),x=n(325),w=r(x),M=n(320),T=r(M),P=n(324),S=r(P),E=n(326),O=r(E),R=n(339),k=r(R),A=n(54),C=r(A),D=n(328),I=r(D),L=r(o),F=n(337),j=r(F),N=n(154),z=r(N),U=n(330),B=r(U),V=n(331),H=r(V),X=n(335),q=r(X),G=n(151),Y=r(G);e.Router=u.default,e.Link=c.default,e.IndexLink=h.default,e.withRouter=p.default,e.IndexRedirect=_.default,e.IndexRoute=y.default,e.Redirect=b.default,e.Route=w.default,e.History=T.default,e.Lifecycle=S.default,e.RouteContext=O.default,e.useRoutes=k.default,e.RouterContext=C.default,e.RoutingContext=I.default,e.PropTypes=L.default,e.match=j.default,e.useRouterHistory=z.default,e.applyRouterMiddleware=B.default,e.browserHistory=H.default,e.hashHistory=q.default,e.createMemoryHistory=Y.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(18),s=r(a),u=256,l=1536,c=256,f=256,h=-l/2,d=1,p=function(){function t(){i(this,t),this._z=h,this._passes=0,this._height=l,this._width=u,this._start=h,this._offset=c,this._reset=f,this._incre=0,this._maxPasses=0,this._needsUpdate=!0}return o(t,[{key:"setParams",value:function(t){var e=this;Object.keys(t).forEach(function(n){e[n]=t[n]})}},{key:"update",value:function(){this._paused||(this._incre+=d,this._z+=d,this._needsUpdate=!1,this._z>this._reset&&(this._z=this._start,this._passes++,this._worldMaxZ=this._height*this._passes+this._height,this._worldMinZ=this._height*this._passes,s.default.emit("movement:complete"),this._needsUpdate=!0,this._passes>this._maxPasses&&(this._passes=0,this._incre=0,this._z=0)))}},{key:"z",get:function(){return this._z},set:function(t){this._z=t}},{key:"width",set:function(t){this._width=t}},{key:"height",set:function(t){this._height=t,console.log(this._height),this._z=this._start+4}},{key:"maxPasses",set:function(t){this._maxPasses=t}},{key:"start",set:function(t){this._start=t}},{key:"offset",set:function(t){this._offset=t}},{key:"reset",set:function(t){this._reset=t}},{key:"worldZ",get:function(){return this._height*this._passes+this._z}},{key:"worldZMin",get:function(){return this._worldMinZ||0}},{key:"worldZMax",get:function(){return this._worldMaxZ||this._height}},{key:"needsUpdate",get:function(){return this._needsUpdate}},{key:"incre",get:function(){return this._incre}},{key:"pause",set:function(t){this._paused=t},get:function(){return this._paused||!1}}]),t}(),v=new p;e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(12),s=r(a),u=function(){function t(e,n){i(this,t),this._mesh=e,this._shader=n}return o(t,[{key:"draw",value:function(){this._shader.bind(),s.default.draw(this.mesh)}},{key:"mesh",get:function(){return this._mesh}},{key:"shader",get:function(){return this._shader}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(12),s=r(a),u=n(7),l=r(u),c=void 0,f=l.default.vec3,h=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?s.default.gl.TRIANGLES:arguments[0];i(this,t),c=s.default.gl,this.drawType=e,this._attributes=[],this._vertexSize=0,this._vertices=[],this._texCoords=[],this._normals=[],this._faceNormals=[],this._tangents=[],this._indices=[],this._faces=[]}return o(t,[{key:"bufferVertex",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this._vertexSize=t.length,this.bufferData(t,"aVertexPosition",3,e),this._vertices=t}},{key:"bufferTexCoords",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.bufferData(t,"aTextureCoord",2,e),this._texCoords=t}},{key:"bufferNormal",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.bufferData(t,"aNormal",3,e),this._normals=t}},{key:"bufferIndices",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=e?c.DYNAMIC_DRAW:c.STATIC_DRAW;
this._indices=t,this.iBuffer=c.createBuffer(),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.iBuffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),n),this.iBuffer.itemSize=1,this.iBuffer.numItems=t.length,this._indices=t}},{key:"bufferData",value:function e(t,n,r){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],o=-1,a=0,s=i?c.DYNAMIC_DRAW:c.STATIC_DRAW,e=[],u=void 0,l=void 0;for(a=0;a<this._attributes.length;a++)if(this._attributes[a].name===n){this._attributes[a].data=t,o=a;break}for(a=0;a<t.length;a++)for(var f=0;f<t[a].length;f++)e.push(t[a][f]);if(o===-1)u=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,u),l=new Float32Array(e),c.bufferData(c.ARRAY_BUFFER,l,s),this._attributes.push({name:n,data:t,itemSize:r,buffer:u,dataArray:l});else{for(u=this._attributes[o].buffer,c.bindBuffer(c.ARRAY_BUFFER,u),l=this._attributes[o].dataArray,a=0;a<e.length;a++)l[a]=e[a];c.bufferData(c.ARRAY_BUFFER,l,s)}}},{key:"computeNormals",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this._generateFaces(),t?this._computeFaceNormals():this._computeVertexNormals()}},{key:"computeTangents",value:function(){}},{key:"_computeFaceNormals",value:function(){for(var t=void 0,e=void 0,n=[],r=0;r<this._indices.length;r+=3){t=r/3,e=this._faces[t];var i=e.normal;n[e.indices[0]]=i,n[e.indices[1]]=i,n[e.indices[2]]=i}this.bufferNormal(n)}},{key:"_computeVertexNormals",value:function(){for(var t=f.create(),e=void 0,n=[],r=0;r<this._vertices.length;r++){f.set(t,0,0,0);for(var i=0;i<this._faces.length;i++)e=this._faces[i],e.indices.indexOf(r)>=0&&(t[0]+=e.normal[0],t[1]+=e.normal[1],t[2]+=e.normal[2]);f.normalize(t,t),n.push([t[0],t[1],t[2]])}this.bufferNormal(n)}},{key:"_generateFaces",value:function(){for(var t=void 0,e=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=f.create(),s=f.create(),u=f.create(),l=0;l<this._indices.length;l+=3){t=this._indices[l],e=this._indices[l+1],n=this._indices[l+2],r=f.clone(this._vertices[t]),i=f.clone(this._vertices[e]),o=f.clone(this._vertices[n]),f.sub(a,i,r),f.sub(s,o,r),f.cross(u,a,s),f.normalize(u,u);var c=[u[0],u[1],u[2]],h={indices:[t,e,n],normal:c};this._faces.push(h)}}},{key:"destroy",value:function(){for(var t=0;t<this._attributes.length;t++){var e=this._attributes[t].buffer;"WebGLBuffer"==typeof e&&c.deleteBuffer(e)}this._attributes.length=0,this._vertices.length=0,this._texCoords.length=0,this._normals.length=0,this._faceNormals.length=0,this._tangents.length=0,this._indices.length=0,this._faces.length=0,this._vertices=null,this._texCoords=null,this._normals=null,this._faceNormals=null,this._tangents=null,this._indices=null,this._faces=null,console.log("destroy mesh")}},{key:"vertices",get:function(){return this._vertices}},{key:"normals",get:function(){return this._normals}},{key:"attributes",get:function(){return this._attributes}},{key:"vertexSize",get:function(){return this._vertexSize}},{key:"hasNormals",get:function(){return 0!==this._normals.length}},{key:"hasTangents",get:function(){return 0!==this._tangents.length}}]),t}();e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.spotFrag=e.spotVert=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function m(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:m(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=n(4),f=r(c),h=n(7),d=f.default.GL,p="\n    uniform vec3 lightPosition;\n    uniform mat4 lightViewMat;\n    uniform mat4 lightProjectionMat;\n\n    varying vec3 vLightToPoint;\n    varying vec3 vEyeToPoint;\n    varying vec4 vShadowPosition;\n\n    const mat4 depthScaleMatrix = mat4(0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.5, 0.5, 0.5, 1.0);\n\n    void setupLight(vec3 worldPosition) {\n       vLightToPoint = lightPosition - worldPosition;\n       vEyeToPoint = -worldPosition;\n    }\n\n    void setupShadow(vec4 worldPosition) {\n       //vShadowPosition = depthScaleMatrix * lightProjectionMat * lightViewMat * worldPosition;\n       vShadowPosition = depthScaleMatrix * lightProjectionMat * lightViewMat * worldPosition;\n    }\n",v="    \n    varying vec3 vLightToPoint;\n    varying vec3 vEyeToPoint;\n    varying vec4 vShadowPosition;\n\n    uniform vec3 lightPosition;\n    uniform sampler2D shadowMap;\n    uniform vec3 lightColor;\n    uniform float lightRadius;\n\n    uniform vec3 lightSpotDirection;\n    uniform float lightSpotInnerAngle;\n    uniform float lightSpotOuterAngle;\n\n    vec3 computeLight(vec3 normal, float specularLevel) {\n    // Lambert term\n       vec3 l = normalize(vLightToPoint);\n       vec3 n = normalize(normal);\n       float lambertTerm = max(dot(n, l), 0.0);\n\n    if(lambertTerm < 0.0) { return vec3(0.0, 0.0, 0.0); }\n\n    // Light attenuation\n       float lightDist = length(vLightToPoint);\n       float d = max(lightDist - lightRadius, 0.0) / lightRadius + 1.0;\n       float distAttn = 1.0 / (d * d);\n\n    // Spot attenuation\n       vec3 sd = normalize(lightSpotDirection);\n       float spotAngleDelta = lightSpotInnerAngle - lightSpotOuterAngle;\n       float spotAngle = dot(-l, sd);\n       float spotAttn = clamp((spotAngle - lightSpotOuterAngle) / spotAngleDelta, 0.0, 1.0);\n\n       vec3 lightValue = (lightColor * lambertTerm * distAttn * spotAttn);\n\n    // Specular\n       vec3 e = normalize(vEyeToPoint);\n       vec3 r = reflect(-l, n);\n       float shininess = 8.0;\n       float specularFactor = pow(clamp(dot(r, e), 0.0, 1.0), shininess) * specularLevel;\n       vec3 specularColor = lightColor;\n       lightValue += (specularColor * specularFactor);\n\n       return lightValue;//vec3(lambertTerm);\n    }\n\n    float computeShadow() {\n       vec3 depth = vShadowPosition.xyz / vShadowPosition.w;\n       float shadowValue = texture2D(shadowMap, depth.xy).r;\n       depth.z *= 0.9999;\n      // float ff = smoothstep(0.999, 1., depth.z);\n       float step = step(0.999, shadowValue);\n       float mm = max(step, (1.-vShadowPosition.x));\n       return mm;\n       return mm + -vShadowPosition.y;\n       //return (vTextureCoord.x * .3) * mm;\n       //return  * mm;\n\n       return smoothstep(mm - 0.05, mm + 0.05, 0.5);\n       //if(shadowValue < depth.z) { return 0.0 + (1.-vShadowPosition.x); }\n       //return ff;\n       //if(shadowValue < depth.z) { return (1.-vTextureCoord.x) * .2 + (1.-vShadowPosition.x); }\n       //if(shadowValue < depth.z) { return 0.0 + (1.-vShadowPosition.x); }\n       return 1.0;\n    }\n";e.spotVert=p,e.spotFrag=v;var _=function(t){function e(t,n,r){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return i._position=h.vec3.fromValues(4,2,4),i._target=h.vec3.fromValues(0,0,0),i._direction=h.vec3.create(),i._viewMat=h.mat4.create(),i._upVec=h.vec3.fromValues(0,0,1),i._projectionMat=h.mat4.create(),i._dirty=!0,i._cameraViewMat=h.mat4.create(),i._cameraProjMat=h.mat4.create(),i.color=h.vec3.fromValues(1,1,1),i.brightness=0,i._scaledColor=h.vec3.create(),i.radius=100,i.innerAngle=.1*Math.PI,i.outerAngle=.15*Math.PI,i.bound=!1,i}return s(e,t),u(e,[{key:"bind",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this);var t=d.gl;d.gl.colorMask(!1,!1,!1,!1),d.gl.clear(t.DEPTH_BUFFER_BIT),this._camera&&(h.mat4.copy(this._cameraViewMat,this._camera.matrix),h.mat4.copy(this._cameraProjMat,this._camera.projection),h.mat4.copy(this._camera.matrix,this._getViewMat()),h.mat4.copy(this._camera.projection,this._getProjectionMat())),this.bound=!0}},{key:"unbind",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbind",this).call(this),d.gl.colorMask(!0,!0,!0,!0),this._camera&&(h.mat4.copy(this._camera.matrix,this._cameraViewMat),h.mat4.copy(this._camera.projection,this._cameraProjMat)),this.bound=!1}},{key:"bindUniforms",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1];h.vec3.subtract(this._direction,this._target,this._position),h.vec3.scale(this._scaledColor,this.color,this.brightness),t.uniform("lightPosition","vec3",this._position),t.uniform("lightColor","vec3",this._scaledColor),t.uniform("lightSpotDirection","vec3",this._direction),t.uniform("lightRadius","float",this.radius),t.uniform("lightSpotInnerAngle","float",Math.cos(this.innerAngle)),t.uniform("lightSpotOuterAngle","float",Math.cos(this.outerAngle)),t.uniform("lightViewMat","mat4",this._getViewMat()),t.uniform("lightProjectionMat","mat4",this._getProjectionMat()),t.uniform("shadowMap","uniform1i",e),this.getDepthTexture().bind(e)}},{key:"_getProjectionMat",value:function(){if(!this._camera)return this._projectionMat;this.outerAngle*(180/Math.PI)*2;return h.mat4.perspective(this._projectionMat,this._camera._fov,this._camera._aspectRatio,.1,128),this._projectionMat}},{key:"_getViewMat",value:function(){return h.mat4.lookAt(this._viewMat,this._position,this._target,this._upVec),this._viewMat}},{key:"camera",set:function(t){this._camera=t}},{key:"position",set:function(t){h.vec3.fromValues.apply(h.vec3,i(t));h.vec3.set.apply(h.vec3,[this._position].concat(i(t)))},get:function(){return this._position}},{key:"target",set:function(t){h.vec3.set.apply(h.vec3,[this._target].concat(i(t)))},get:function(){return this._target}},{key:"dotProduct",get:function(){return h.vec3.dot(this._target,this._position)}}]),e}(f.default.FrameBuffer);e.default=_},function(t,e){"use strict";e.__esModule=!0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);e.canUseDOM=n},,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return s.default.has(t,e)?[t]:s.default.flattenDeep(s.default.map(t,function(t){return"object"==("undefined"==typeof t?"undefined":o(t))?i(t,e):[]}),!0)}Object.defineProperty(e,"__esModule",{value:!0}),e.MARS_COLORS=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.findObjectsWithKey=i;var a=n(9),s=r(a),u=Math.PI/2,l={darkColor:[151,92,54],baseColor:[204,131,88],lightColor:[237,174,126],fogColor:[155,134,144]},c=768,f=256,h=512,d={everythingone:8};e.MARS_COLORS=l;var p=[{id:"intro",type:"intro",scenes:[{duration:2,transitionDuration:1,camera:{position:[0,0,0]},scale:1,marsUniforms:{atmosphereIntensity:.4,fresnelBias:.03,fresnelAmp:1},outUniforms:{atmosphereIntensity:0}},{duration:2,transitionDuration:1,camera:{position:[0,-20,-30]},scale:1,marsUniforms:{atmosphereIntensity:.4,fresnelBias:.05,fresnelAmp:1},outUniforms:{atmosphereIntensity:0}},{camera:{position:[30,0,-60]},scale:1,duration:2,transitionDuration:1,marsUniforms:{atmosphereIntensity:1,fresnelBias:.1,fresnelAmp:.98},outUniforms:{noiseAtmosphere:1,atmosphereIntensity:0}},{animations:{moveTo:{value:[30.5,0,-100],props:{duration:2,delay:2}},outUniforms:{atmosphereIntensity:3}},camera:{position:[30,0,-90]},scale:1,duration:2,transitionDuration:1,shake:!0,shakeIntensity:.2,marsUniforms:{atmosphereIntensity:1.2,fresnelBias:.3,fresnelAmp:.6},outUniforms:{atmosphereIntensity:1}}],animation:[{getMoveTo:{value:[0,0,0],delay:10},rotate:{value:-u,delay:10},radiusTo:{value:50,delay:10,limit:[15,800]}}],textures:[{id:"space",url:"assets/intro/space2.jpg"},{id:"nebula",url:"assets/intro/nebula.jpg"},{id:"diffuse",url:"assets/intro/final.png"},{id:"albedo",url:"assets/intro/albedo.png"},{id:"height",url:"assets/intro/height.jpg"},{id:"ao",url:"assets/intro/ao.jpg"},{id:"irr_posx",url:"assets/intro/hdr/irr_posx.hdr",type:"binary"},{id:"irr_posy",url:"assets/intro/hdr/irr_posy.hdr",type:"binary"},{id:"irr_posz",url:"assets/intro/hdr/irr_posz.hdr",type:"binary"},{id:"irr_negx",url:"assets/intro/hdr/irr_negx.hdr",type:"binary"},{id:"irr_negy",url:"assets/intro/hdr/irr_negy.hdr",type:"binary"},{id:"irr_negz",url:"assets/intro/hdr/irr_negz.hdr",type:"binary"}]},{id:"crater",type:"mars",camera:{start:{radius:20,p:[0,0,0],rx:.1},animation:[{type:"rotate",props:{duration:1.2,delay:.4},value:.7},{type:"moveToMesh",id:"everythingone",props:{duration:4,delay:1,y:3,offset:-.5}},{type:"radius",props:{duration:1.2,delay:.4,offset:-.5},value:20}],end:[]},views:{sky:{id:"horizon",radius:2e3},terrain:{id:"terrain_heightmap",movement:{reset:128,offset:h,start:-(c-144),width:f,height:c,verbose:!1,verboseLeft:340},mesh:{scale:1,amp:20,position:[0,-20,0],height:c+h,width:f,widthSegments:f/2,heightSegments:(c+h)/2,color:[1,.765557,.336057],heightmaps:["heightmap1","heightmap2","heightmap3"],textures:["ao1","ao2","ao3"],sides:{left:{movement:{offset:128,width:256,height:512,verbose:!1,verboseHeight:!1,verboseAo:!1,verboseLeft:0},position:[-376,-20,-64],scale:2,amp:10,width:256,height:640,widthSegments:16,heightSegments:32,heightmaps:["left_sides_height","right_sides_height"],textures:["left_sides_ao","right_sides_ao"]},right:{movement:{offset:128,width:256,height:512,verbose:!1,verboseHeight:!1,verboseAo:!1,verboseLeft:560},position:[376,-20,-64],scale:2,amp:10,width:256,height:640,widthSegments:16,heightSegments:32,heightmaps:["right_sides_height","left_sides_height"],textures:["right_sides_ao","left_sides_ao"]}},mountains:{position:[0,-10,-128],scale:4,amp:60,width:512,height:512,widthSegments:64,heightSegments:64,heightmaps:["sides_heightmap"],textures:["sides_ao"]}},width:f,height:c},sculptures:[{id:"everythingone",url:"assets/models/everything/everythingone_good_reduced.obj",type:"binary",rotation:u,position:[0,-20,256],scale:d.everythingone,textures:[{id:"everythingone_diffuse"},{id:"everythingone_ao"}],maxYToScale:4.5,minY:21,maxY:24,hotspots:[{rotate:{value:0},rx:{value:.1,limit:[.1,u]},radius:{value:8*d.everythingone,limit:[2*d.everythingone,700]},local:[0,-2,0]},{rotate:{value:3},rx:{value:-.3,limit:[-.3,u]},radius:{value:2,limit:[2,700]},local:[0,5,0]}]},{id:"everythingone2",url:"assets/models/imotehp/imotehp_reduced.obj",type:"binary",rotation:u,position:[10,-20,1800],scale:8,textures:[{id:"imotehp_diffuse"}],maxYToScale:4.5,minY:21,maxY:24,hotspots:[{rotate:{value:0},rx:{value:.1,limit:[.1,u]},radius:{value:8,limit:[2,700]},local:[0,2,0]},{rotate:{value:3},rx:{value:-.3,limit:[-.3,u]},radius:{value:2,limit:[2,700]},local:[0,5,0]}]}]},textures:[]}];e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),o=r(i),a={};a.plane=function(t,e,n){for(var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=arguments.length<=4||void 0===arguments[4]?"xy":arguments[4],a=arguments.length<=5||void 0===arguments[5]?4:arguments[5],s=[],u=[],l=[],c=[],f=t/n,h=e/n,d=1/n,p=0,v=.5*-t,_=.5*-e,m=0;m<n;m++)for(var y=0;y<n;y++){var g=f*m+v,b=h*y+_;"xz"===i?(s.push([g,0,-b+h]),s.push([g+f,0,-b+h]),s.push([g+f,0,-b]),s.push([g,0,-b]),c.push([0,1,0]),c.push([0,1,0]),c.push([0,1,0]),c.push([0,1,0])):"yz"===i?(s.push([0,g,b]),s.push([0,g+f,b]),s.push([0,g+f,b+h]),s.push([0,g,b+h]),c.push([1,0,0]),c.push([1,0,0]),c.push([1,0,0]),c.push([1,0,0])):(s.push([g,b,0]),s.push([g+f,b,0]),s.push([g+f,b+h,0]),s.push([g,b+h,0]),c.push([0,0,1]),c.push([0,0,1]),c.push([0,0,1]),c.push([0,0,1]));var x=m/n,w=y/n;u.push([x,w]),u.push([x+d,w]),u.push([x+d,w+d]),u.push([x,w+d]),l.push(4*p+0),l.push(4*p+1),l.push(4*p+2),l.push(4*p+0),l.push(4*p+2),l.push(4*p+3),p++}var M=new o.default(a);return M.bufferVertex(s),M.bufferTexCoords(u),M.bufferIndices(l),r&&M.bufferNormal(c),M},a.sphere=function(t,e){for(var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=arguments.length<=4||void 0===arguments[4]?4:arguments[4],a=[],s=[],u=[],l=[],c=0,f=1/e,h=function(n,r){var i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=n/e*Math.PI-.5*Math.PI,a=r/e*Math.PI*2,s=i?1:t,u=[];u[1]=Math.sin(o)*s;var l=Math.cos(o)*s;u[0]=Math.cos(a)*l,u[2]=Math.sin(a)*l;var c=1e4;return u[0]=Math.floor(u[0]*c)/c,u[1]=Math.floor(u[1]*c)/c,u[2]=Math.floor(u[2]*c)/c,u},d=0;d<e;d++)for(var p=0;p<e;p++){a.push(h(d,p)),a.push(h(d+1,p)),a.push(h(d+1,p+1)),a.push(h(d,p+1)),n&&(l.push(h(d,p,!0)),l.push(h(d+1,p,!0)),l.push(h(d+1,p+1,!0)),l.push(h(d,p+1,!0)));var v=p/e,_=d/e;s.push([1-v,_]),s.push([1-v,_+f]),s.push([1-v-f,_+f]),s.push([1-v-f,_]),u.push(4*c+0),u.push(4*c+1),u.push(4*c+2),u.push(4*c+0),u.push(4*c+2),u.push(4*c+3),c++}r&&u.reverse();var m=new o.default(i);return m.bufferVertex(a),m.bufferTexCoords(s),m.bufferIndices(u),n&&m.bufferNormal(l),m},a.cube=function(t,e,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=arguments.length<=4||void 0===arguments[4]?4:arguments[4];e=e||t,n=n||t;var a=t/2,s=e/2,u=n/2,l=[],c=[],f=[],h=[],d=0;l.push([-a,s,-u]),l.push([a,s,-u]),l.push([a,-s,-u]),l.push([-a,-s,-u]),h.push([0,0,-1]),h.push([0,0,-1]),h.push([0,0,-1]),h.push([0,0,-1]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),f.push(4*d+0),f.push(4*d+1),f.push(4*d+2),f.push(4*d+0),f.push(4*d+2),f.push(4*d+3),d++,l.push([a,s,-u]),l.push([a,s,u]),l.push([a,-s,u]),l.push([a,-s,-u]),h.push([1,0,0]),h.push([1,0,0]),h.push([1,0,0]),h.push([1,0,0]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),f.push(4*d+0),f.push(4*d+1),f.push(4*d+2),f.push(4*d+0),f.push(4*d+2),f.push(4*d+3),d++,l.push([a,s,u]),l.push([-a,s,u]),l.push([-a,-s,u]),l.push([a,-s,u]),h.push([0,0,1]),h.push([0,0,1]),h.push([0,0,1]),h.push([0,0,1]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),f.push(4*d+0),f.push(4*d+1),f.push(4*d+2),f.push(4*d+0),f.push(4*d+2),f.push(4*d+3),d++,l.push([-a,s,u]),l.push([-a,s,-u]),l.push([-a,-s,-u]),l.push([-a,-s,u]),h.push([-1,0,0]),h.push([-1,0,0]),h.push([-1,0,0]),h.push([-1,0,0]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),f.push(4*d+0),f.push(4*d+1),f.push(4*d+2),f.push(4*d+0),f.push(4*d+2),f.push(4*d+3),d++,l.push([-a,s,u]),l.push([a,s,u]),l.push([a,s,-u]),l.push([-a,s,-u]),h.push([0,1,0]),h.push([0,1,0]),h.push([0,1,0]),h.push([0,1,0]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),f.push(4*d+0),f.push(4*d+1),f.push(4*d+2),f.push(4*d+0),f.push(4*d+2),f.push(4*d+3),d++,l.push([-a,-s,-u]),l.push([a,-s,-u]),l.push([a,-s,u]),l.push([-a,-s,u]),h.push([0,-1,0]),h.push([0,-1,0]),h.push([0,-1,0]),h.push([0,-1,0]),c.push([0,0]),c.push([1,0]),c.push([1,1]),c.push([0,1]),f.push(4*d+0),f.push(4*d+1),f.push(4*d+2),f.push(4*d+0),f.push(4*d+2),f.push(4*d+3),d++;var p=new o.default(i);return p.bufferVertex(l),p.bufferTexCoords(c),p.bufferIndices(f),r&&p.bufferNormal(h),p},a.skybox=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=arguments.length<=2||void 0===arguments[2]?4:arguments[2],r=[],i=[],a=[],s=[],u=0;r.push([t,t,-t]),r.push([-t,t,-t]),r.push([-t,-t,-t]),r.push([t,-t,-t]),s.push([0,0,-1]),s.push([0,0,-1]),s.push([0,0,-1]),s.push([0,0,-1]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),a.push(4*u+0),a.push(4*u+1),a.push(4*u+2),a.push(4*u+0),a.push(4*u+2),a.push(4*u+3),u++,r.push([t,-t,-t]),r.push([t,-t,t]),r.push([t,t,t]),r.push([t,t,-t]),s.push([1,0,0]),s.push([1,0,0]),s.push([1,0,0]),s.push([1,0,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),a.push(4*u+0),a.push(4*u+1),a.push(4*u+2),a.push(4*u+0),a.push(4*u+2),a.push(4*u+3),u++,r.push([-t,t,t]),r.push([t,t,t]),r.push([t,-t,t]),r.push([-t,-t,t]),s.push([0,0,1]),s.push([0,0,1]),s.push([0,0,1]),s.push([0,0,1]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),a.push(4*u+0),a.push(4*u+1),a.push(4*u+2),a.push(4*u+0),a.push(4*u+2),a.push(4*u+3),u++,r.push([-t,-t,t]),r.push([-t,-t,-t]),r.push([-t,t,-t]),r.push([-t,t,t]),s.push([-1,0,0]),s.push([-1,0,0]),s.push([-1,0,0]),s.push([-1,0,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),a.push(4*u+0),a.push(4*u+1),a.push(4*u+2),a.push(4*u+0),a.push(4*u+2),a.push(4*u+3),u++,r.push([t,t,t]),r.push([-t,t,t]),r.push([-t,t,-t]),r.push([t,t,-t]),s.push([0,1,0]),s.push([0,1,0]),s.push([0,1,0]),s.push([0,1,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),a.push(4*u+0),a.push(4*u+1),a.push(4*u+2),a.push(4*u+0),a.push(4*u+2),a.push(4*u+3),u++,r.push([t,-t,-t]),r.push([-t,-t,-t]),r.push([-t,-t,t]),r.push([t,-t,t]),s.push([0,-1,0]),s.push([0,-1,0]),s.push([0,-1,0]),s.push([0,-1,0]),i.push([0,0]),i.push([1,0]),i.push([1,1]),i.push([0,1]),a.push(4*u+0),a.push(4*u+1),a.push(4*u+2),a.push(4*u+0),a.push(4*u+2),a.push(4*u+3);var l=new o.default(n);return l.bufferVertex(r),l.bufferTexCoords(i),l.bufferIndices(a),e&&l.bufferNormal(s),l},a.bigTriangle=function(){var t=[2,1,0],e=[[-1,-1],[-1,4],[4,-1]],n=new o.default;return n.bufferData(e,"aPosition",2),n.bufferIndices(t),n},e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(32),s=r(a),u=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?.1:arguments[1];i(this,t),this.easing=r,this._value=e,this._targetValue=e,s.default.addEF(function(){return n._update()})}return o(t,[{key:"_update",value:function(){this._checkLimit(),this._value+=(this._targetValue-this._value)*this.easing}},{key:"setTo",value:function(t){this._targetValue=this._value=t}},{key:"add",value:function(t){this._targetValue+=t}},{key:"limit",value:function(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return t>e?void this.limit(e,t):(this._loop=n,this._min=t,this._max=e,void this._checkLimit())}},{key:"_checkLimit",value:function(){void 0!==this._min&&this._targetValue<this._min&&(this._loop?this._targetValue=this._max:this._targetValue=this._min),void 0!==this._max&&this._targetValue>this._max&&(this._loop?this._targetValue=this._min:this._targetValue=this._max)}},{key:"value",set:function(t){this._targetValue=t},get:function(){return this._value}},{key:"targetValue",get:function(){return this._targetValue}}]),t}();e.default=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\nfloat sunSkyPosition(in float _sinSun){\n\tfloat _sunSkyPosition = -1. * _sinSun  * (1. - (_sinSun - step(_sinSun, 0.)));\n\treturn _sunSkyPosition;\n}\n",r="\n\tconst vec3 SUN_MORNING = vec3(.819607843, .635294118, .431372549);\n",i="\n\tconst vec3 SUN_EVENING = vec3(.116862745, .126666667, .22745098);\n",o="\n\tvec3 mixMorningEvening(in float amount){\n\t\tvec3 skyHue = mix(SUN_EVENING, SUN_MORNING, amount);\n\t\treturn skyHue;\n\t}\n";e.sunSkyPosition=n,e.SUN_MORNING=r,e.SUN_EVENING=i,e.mixMorningEvening=o},,,function(t,e){"use strict";function n(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function r(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function i(){return window.location.href.split("#")[1]||""}function o(t){window.location.replace(window.location.pathname+window.location.search+"#"+t)}function a(){return window.location.pathname+window.location.search+window.location.hash}function s(t){t&&window.history.go(t)}function u(t,e){e(window.confirm(t))}function l(){var t=navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}function c(){var t=navigator.userAgent;return t.indexOf("Firefox")===-1}e.__esModule=!0,e.addEventListener=n,e.removeEventListener=r,e.getHashPath=i,e.replaceHashPath=o,e.getWindowPath=a,e.go=s,e.getUserConfirmation=u,e.supportsHistory=l,e.supportsGoWithoutReloadUsingHash=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(11),s=r(a),u=n(2),l=r(u),c=n(55),f=r(c),h=n(334),d=r(h),p=n(23),v=n(8),_=r(v),m=l.default.PropTypes,y=m.array,g=m.func,b=m.object,x=l.default.createClass({displayName:"RouterContext",propTypes:{history:b,router:b.isRequired,location:b.isRequired,routes:y.isRequired,params:b.isRequired,components:y.isRequired,createElement:g.isRequired},getDefaultProps:function(){return{createElement:l.default.createElement}},childContextTypes:{history:b,location:b.isRequired,router:b.isRequired},getChildContext:function(){var t=this.props,e=t.router,n=t.history,r=t.location;return e||((0,_.default)(!1,"`<RouterContext>` expects a `router` rather than a `history`"),e=o({},n,{setRouteLeaveHook:n.listenBeforeLeavingRoute}),delete e.listenBeforeLeavingRoute),r=(0,f.default)(r,"`context.location` is deprecated, please use a route component's `props.location` instead. http://tiny.cc/router-accessinglocation"),{history:n,location:r,router:e}},createElement:function(t,e){return null==t?null:this.props.createElement(t,e)},render:function(){var t=this,e=this.props,n=e.history,r=e.location,a=e.routes,u=e.params,c=e.components,f=null;return c&&(f=c.reduceRight(function(e,s,l){if(null==s)return e;var c=a[l],f=(0,d.default)(c,u),h={history:n,location:r,params:u,route:c,routeParams:f,routes:a};if((0,p.isReactChildren)(e))h.children=e;else if(e)for(var v in e)Object.prototype.hasOwnProperty.call(e,v)&&(h[v]=e[v]);if("object"===("undefined"==typeof s?"undefined":i(s))){var _={};for(var m in s)Object.prototype.hasOwnProperty.call(s,m)&&(_[m]=t.createElement(s[m],o({key:m},h)));return _}return t.createElement(s,h)},f)),null===f||f===!1||l.default.isValidElement(f)?void 0:(0,s.default)(!1,"The root route must render a single element"),f}});e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.canUseMembrane=void 0;var i=n(8),o=r(i),a=e.canUseMembrane=!1,s=function(t){return t};try{Object.defineProperty({},"x",{get:function(){return!0}}).x&&(e.canUseMembrane=a=!0)}catch(u){}a&&(s=function(t,e){var n={},r=function(r){return Object.prototype.hasOwnProperty.call(t,r)?"function"==typeof t[r]?(n[r]=function(){return(0,o.default)(!1,e),t[r].apply(t,arguments)},"continue"):void Object.defineProperty(n,r,{get:function(){return(0,o.default)(!1,e),t[r]}}):"continue"};for(var i in t){r(i)}return n}),e.default=s},,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.routerMiddleware=e.routerActions=e.goForward=e.goBack=e.go=e.replace=e.push=e.CALL_HISTORY_METHOD=e.routerReducer=e.LOCATION_CHANGE=e.syncHistoryWithStore=void 0;var i=n(147);Object.defineProperty(e,"LOCATION_CHANGE",{enumerable:!0,get:function(){return i.LOCATION_CHANGE}}),Object.defineProperty(e,"routerReducer",{enumerable:!0,get:function(){return i.routerReducer}});var o=n(146);Object.defineProperty(e,"CALL_HISTORY_METHOD",{enumerable:!0,get:function(){return o.CALL_HISTORY_METHOD}}),Object.defineProperty(e,"push",{enumerable:!0,get:function(){return o.push}}),Object.defineProperty(e,"replace",{enumerable:!0,get:function(){return o.replace}}),Object.defineProperty(e,"go",{enumerable:!0,get:function(){return o.go}}),Object.defineProperty(e,"goBack",{enumerable:!0,get:function(){return o.goBack}}),Object.defineProperty(e,"goForward",{enumerable:!0,get:function(){return o.goForward}}),Object.defineProperty(e,"routerActions",{enumerable:!0,get:function(){return o.routerActions}});var a=n(319),s=r(a),u=n(318),l=r(u);e.syncHistoryWithStore=s.default,e.routerMiddleware=l.default},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),s=r(a),u=function(){function t(){i(this,t),this._matrix=s.default.mat4.create(),this._projection=s.default.mat4.create(),this.position=s.default.vec3.create()}return o(t,[{key:"lookAt",value:function(t,e,n){s.default.vec3.copy(this.position,t),s.default.mat4.identity(this._matrix),s.default.mat4.lookAt(this._matrix,t,e,n)}},{key:"matrix",get:function(){return this._matrix}},{key:"viewMatrix",get:function(){return this._matrix}},{key:"projection",get:function(){return this._projection}},{key:"projectionMatrix",get:function(){return this._projection}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(68),l=r(u),c=n(7),f=r(c),h=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return a(e,t),s(e,[{key:"setPerspective",value:function(t,e,n,r){this._fov=t,this._near=n,this._far=r,this._aspectRatio=e,f.default.mat4.perspective(this._projection,t,e,n,r)}},{key:"reset",value:function(){f.default.mat4.perspective(this._projection,this._fov,this._aspectRatio,this._near,this._far)}},{key:"setAspectRatio",value:function(t){this._aspectRatio=t,f.default.mat4.perspective(this.projection,this._fov,t,this._near,this._far)}}]),e}(l.default);e.default=h},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){
var e=this,r=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];n(this,t),this._req=new XMLHttpRequest,this._req.addEventListener("load",function(t){return e._onLoaded(t)}),this._req.addEventListener("progress",function(t){return e._onProgress(t)}),r&&(this._req.responseType="arraybuffer")}return r(t,[{key:"load",value:function(t,e){console.log("Loading : ",t),this._callback=e,this._req.open("GET",t),this._req.send()}},{key:"_onLoaded",value:function(){this._callback(this._req.response)}},{key:"_onProgress",value:function(){}}]),t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return"string"==typeof t&&"/"===t.charAt(0)}function o(){var t=y.getHashPath();return!!i(t)||(y.replaceHashPath("/"+t),!1)}function a(t,e,n){return t+(t.indexOf("?")===-1?"?":"&")+(e+"="+n)}function s(t,e){return t.replace(new RegExp("[?&]?"+e+"=[a-zA-Z0-9]+"),"")}function u(t,e){var n=t.match(new RegExp("\\?.*?\\b"+e+"=(.+?)\\b"));return n&&n[1]}function l(){function t(){var t=y.getHashPath(),e=void 0,n=void 0;O?(e=u(t,O),t=s(t,O),e?n=g.readState(e):(n=null,e=R.createKey(),y.replaceHashPath(a(t,O,e)))):e=n=null;var r=_.parsePath(t);return R.createLocation(c({},r,{state:n}),void 0,e)}function e(e){function n(){o()&&r(t())}var r=e.transitionTo;return o(),y.addEventListener(window,"hashchange",n),function(){y.removeEventListener(window,"hashchange",n)}}function n(t){var e=t.basename,n=t.pathname,r=t.search,i=t.state,o=t.action,s=t.key;if(o!==v.POP){var u=(e||"")+n+r;O?(u=a(u,O,s),g.saveState(s,i)):t.key=t.state=null;var l=y.getHashPath();o===v.PUSH?l!==u?window.location.hash=u:h.default(!1,"You cannot PUSH the same path using hash history"):l!==u&&y.replaceHashPath(u)}}function r(t){1===++k&&(A=e(R));var n=R.listenBefore(t);return function(){n(),0===--k&&A()}}function i(t){1===++k&&(A=e(R));var n=R.listen(t);return function(){n(),0===--k&&A()}}function l(t){h.default(O||null==t.state,"You cannot use state without a queryKey it will be dropped"),R.push(t)}function f(t){h.default(O||null==t.state,"You cannot use state without a queryKey it will be dropped"),R.replace(t)}function d(t){h.default(C,"Hash history go(n) causes a full page reload in this browser"),R.go(t)}function b(t){return"#"+R.createHref(t)}function M(t){1===++k&&(A=e(R)),R.registerTransitionHook(t)}function T(t){R.unregisterTransitionHook(t),0===--k&&A()}function P(t,e){h.default(O||null==t,"You cannot use state without a queryKey it will be dropped"),R.pushState(t,e)}function S(t,e){h.default(O||null==t,"You cannot use state without a queryKey it will be dropped"),R.replaceState(t,e)}var E=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];m.canUseDOM?void 0:p.default(!1,"Hash history needs a DOM");var O=E.queryKey;(void 0===O||O)&&(O="string"==typeof O?O:w);var R=x.default(c({},E,{getCurrentLocation:t,finishTransition:n,saveState:g.saveState})),k=0,A=void 0,C=y.supportsGoWithoutReloadUsingHash();return c({},R,{listenBefore:r,listen:i,push:l,replace:f,go:d,createHref:b,registerTransitionHook:M,unregisterTransitionHook:T,pushState:P,replaceState:S})}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(15),h=r(f),d=n(11),p=r(d),v=n(26),_=n(27),m=n(43),y=n(53),g=n(136),b=n(138),x=r(b),w="_k";e.default=l,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){var r=t(e,n);t.length<2?n(r):a.default(void 0===r,'You should not "return" in a transition hook with a callback argument; call the callback instead')}e.__esModule=!0;var o=n(15),a=r(o);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){function e(){if(!w){if(null==x&&u.canUseDOM){var t=document.getElementsByTagName("base")[0],e=t&&t.getAttribute("href");null!=e&&(x=e,s.default(!1,"Automatically setting basename using <base href> is deprecated and will be removed in the next major release. The semantics of <base href> are subtly different from basename. Please pass the basename explicitly in the options to createHistory"))}w=!0}}function n(t){return e(),x&&null==t.basename&&(0===t.pathname.indexOf(x)?(t.pathname=t.pathname.substring(x.length),t.basename=x,""===t.pathname&&(t.pathname="/")):t.basename=""),t}function r(t){if(e(),!x)return t;"string"==typeof t&&(t=l.parsePath(t));var n=t.pathname,r="/"===x.slice(-1)?x:x+"/",i="/"===n.charAt(0)?n.slice(1):n,a=r+i;return o({},t,{pathname:a})}function i(t){return b.listenBefore(function(e,r){f.default(t,n(e),r)})}function a(t){return b.listen(function(e){t(n(e))})}function c(t){b.push(r(t))}function h(t){b.replace(r(t))}function p(t){return b.createPath(r(t))}function v(t){return b.createHref(r(t))}function _(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return n(b.createLocation.apply(b,[r(t)].concat(i)))}function m(t,e){"string"==typeof e&&(e=l.parsePath(e)),c(o({state:t},e))}function y(t,e){"string"==typeof e&&(e=l.parsePath(e)),h(o({state:t},e))}var g=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=t(g),x=g.basename,w=!1;return o({},b,{listenBefore:i,listen:a,push:c,replace:h,createPath:p,createHref:v,createLocation:_,pushState:d.default(m,"pushState is deprecated; use push instead"),replaceState:d.default(y,"replaceState is deprecated; use replace instead")})}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(15),s=r(a),u=n(43),l=n(27),c=n(72),f=r(c),h=n(28),d=r(h);e.default=i,t.exports=e.default},function(t,e,n){function r(t){if(!a(t)||h.call(t)!=s||o(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}var i=n(309),o=n(310),a=n(311),s="[object Object]",u=Object.prototype,l=Function.prototype.toString,c=u.hasOwnProperty,f=l.call(Object),h=u.toString;t.exports=r},function(t,e){"use strict";function n(t,e,n){function r(){return a=!0,s?void(l=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function i(){if(!a&&(u=!0,!s)){for(s=!0;!a&&o<t&&u;)u=!1,e.call(this,o++,i,r);return s=!1,a?void n.apply(this,l):void(o>=t&&u&&(a=!0,n()))}}var o=0,a=!1,s=!1,u=!1,l=void 0;i()}function r(t,e,n){function r(t,e,r){a||(e?(a=!0,n(e)):(o[t]=r,a=++s===i,a&&n(null,o)))}var i=t.length,o=[];if(0===i)return n(null,o);var a=!1,s=0;t.forEach(function(t,n){e(t,n,function(t,e){r(n,t,e)})})}e.__esModule=!0,e.loopAsync=n,e.mapAsync=r},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.router=e.routes=e.route=e.components=e.component=e.location=e.history=e.falsy=e.locationShape=e.routerShape=void 0;var o=n(2),a=n(55),s=i(a),u=n(29),l=r(u),c=n(8),f=i(c),h=o.PropTypes.func,d=o.PropTypes.object,p=o.PropTypes.shape,v=o.PropTypes.string,_=e.routerShape=p({push:h.isRequired,replace:h.isRequired,go:h.isRequired,goBack:h.isRequired,goForward:h.isRequired,setRouteLeaveHook:h.isRequired,isActive:h.isRequired}),m=e.locationShape=p({pathname:v.isRequired,search:v.isRequired,state:d,action:v.isRequired,key:v}),y=e.falsy=l.falsy,g=e.history=l.history,b=e.location=m,x=e.component=l.component,w=e.components=l.components,M=e.route=l.route,T=e.routes=l.routes,P=e.router=_;!function(){var t=function(t,e){return function(){return(0,f.default)(!1,e),t.apply(void 0,arguments)}},n=function(e){return t(e,"This prop type is not intended for external use, and was previously exported by mistake. These internal prop types are deprecated for external use, and will be removed in a later version.")},r=function(e,n){return t(e,"The `"+n+"` prop type is now exported as `"+n+"Shape` to avoid name conflicts. This export is deprecated and will be removed in a later version.")};e.falsy=y=n(y),e.history=g=n(g),e.component=x=n(x),e.components=w=n(w),e.route=M=n(M),e.routes=T=n(T),e.location=b=r(b,"location"),e.router=P=r(P,"router")}();var S={falsy:y,history:g,location:b,component:x,components:w,route:M,router:P};S=(0,s.default)(S,"The default export from `react-router/lib/PropTypes` is deprecated. Please use the named exports instead."),e.default=S},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}function o(t,e){function n(e){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=void 0;return n&&n!==!0||null!==r?((0,u.default)(!1,"`isActive(pathname, query, indexOnly) is deprecated; use `isActive(location, indexOnly)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated"),e={pathname:e,query:n},i=r||!1):(e=t.createLocation(e),i=n),(0,p.default)(e,i,w.location,w.routes,w.params)}function r(e){return t.createLocation(e,l.REPLACE)}function o(t,n){M&&M.location===t?s(M,n):(0,y.default)(e,t,function(e,r){e?n(e):r?s(a({},r,{location:t}),n):n()})}function s(t,e){function n(n,r){return n||r?i(n,r):void(0,_.default)(t,function(n,r){n?e(n):e(null,null,w=a({},t,{components:r}))})}function i(t,n){t?e(t):e(null,r(n))}var o=(0,f.default)(w,t),s=o.leaveRoutes,u=o.changeRoutes,l=o.enterRoutes;(0,h.runLeaveHooks)(s),s.filter(function(t){return l.indexOf(t)===-1}).forEach(g),(0,h.runChangeHooks)(u,w,t,function(e,r){return e||r?i(e,r):void(0,h.runEnterHooks)(l,t,n)})}function c(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];return t.__id__||e&&(t.__id__=T++)}function d(t){return t.reduce(function(t,e){return t.push.apply(t,P[c(e)]),t},[])}function v(t,n){(0,y.default)(e,t,function(e,r){if(null==r)return void n();M=a({},r,{location:t});for(var i=d((0,f.default)(w,M).leaveRoutes),o=void 0,s=0,u=i.length;null==o&&s<u;++s)o=i[s](t);n(o)})}function m(){if(w.routes){for(var t=d(w.routes),e=void 0,n=0,r=t.length;"string"!=typeof e&&n<r;++n)e=t[n]();return e}}function g(t){var e=c(t,!1);e&&(delete P[e],i(P)||(S&&(S(),S=null),E&&(E(),E=null)))}function b(e,n){var r=c(e),o=P[r];if(o)o.indexOf(n)===-1&&((0,u.default)(!1,"adding multiple leave hooks for the same route is deprecated; manage multiple confirmations in your own code instead"),o.push(n));else{var a=!i(P);P[r]=[n],a&&(S=t.listenBefore(v),t.listenBeforeUnload&&(E=t.listenBeforeUnload(m)))}return function(){var t=P[r];if(t){var i=t.filter(function(t){return t!==n});0===i.length?g(e):P[r]=i}}}function x(e){return t.listen(function(n){w.location===n?e(null,w):o(n,function(r,i,o){r?e(r):i?t.transitionTo(i):o?e(null,o):(0,u.default)(!1,'Location "%s" did not match any routes',n.pathname+n.search+n.hash)})})}var w={},M=void 0,T=1,P=Object.create(null),S=void 0,E=void 0;return{isActive:n,match:o,listenBeforeLeavingRoute:b,listen:x}}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var s=n(8),u=r(s),l=n(26),c=n(332),f=r(c),h=n(329),d=n(336),p=r(d),v=n(333),_=r(v),m=n(338),y=r(m);t.exports=e.default},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var o=n(190),a=r(o),s=n(414),u=r(s),l=n(413),c=r(l),f=n(412),h=r(f),d=n(189),p=r(d),v=n(191),_=r(v);"string"==typeof i.name&&"isCrushed"!==i.name&&(0,_.default)("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),e.createStore=a.default,e.combineReducers=u.default,e.bindActionCreators=c.default,e.applyMiddleware=h.default,e.compose=p.default},function(t,e){t.exports="// simpleColor.frag\n\n#define SHADER_NAME SIMPLE_COLOR\n\nprecision highp float;\n\nuniform vec3 color;\nuniform float opacity;\n\nvoid main(void) {\n    gl_FragColor = vec4(color, opacity);\n}"},function(t,e,n){"use strict";function r(){i.call(this),this.setMaxListeners(20)}var i=n(279).EventEmitter;r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.prototype.off=function(t,e){return e?this.removeListener(t,e):t?this.removeAllListeners(t):this.removeAllListeners()},t.exports=r},function(t,e){"use strict";t.exports={mbs:0,secs:0,update:function(t,e,n,r){var i,o=t.getAllResponseHeaders();if(o){var a=o.match(/content-length: (\d+)/i);a&&a.length&&(i=a[1])}if(i){i=parseInt(i,10);var s=i/1024/1024,u=(Date.now()-e)/1e3;this.secs+=u,this.mbs+=s,r&&this.log(n,s,u)}else r&&console.warn.call(console,"Can't get Content-Length:",n)},log:function(t,e,n){if(t){var r="File loaded: "+t.substr(t.lastIndexOf("/")+1)+" size:"+e.toFixed(2)+"mb time:"+n.toFixed(2)+"s speed:"+(e/n).toFixed(2)+"mbps";console.log.call(console,r)}var i="Total loaded: "+this.mbs.toFixed(2)+"mb time:"+this.secs.toFixed(2)+"s speed:"+this.getMbps().toFixed(2)+"mbps";console.log.call(console,i)},getMbps:function(){return this.mbs/this.secs}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(135),u=(r(s),n(7)),l=r(u),c=n(9),f=(r(c),n(32)),h=r(f),d=n(4),p=r(d),v=n(13),_=n(18),m=r(_),y=p.default.GL,g=(2*Math.PI,.4),b=.05,x=Math.PI/2,w=Math.PI,M=function(){function t(e){var n=this;arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),this.controls=e,this.rx=this.controls.rx,this.ry=this.controls.ry,this.radius=this.controls.radius,this._mouse={},this.controls.rx.limit(0,Math.PI/2),this._baseRadius=this.controls.radius.value,this._coordTransfer=[],this._rotateValue=0,this._ascendValue=0,m.default.on("set:meshdata",function(t){n._setMeshData(t)}),m.default.on("camera:hotspot",function(t){n._goToHotspot(t)}),this.COORDS={x:this.controls.positionOffset[0],y:this.controls.positionOffset[1],z:this.controls.positionOffset[2]},this.ROTATE={ry:this.controls.ry.value},this.RX={rx:this.controls.rx.value},this._tweenCoordObj=Object.assign({},this.COORDS),this._tweenRotateObj=Object.assign({},this.ROTATE),this._tweenRxObj=Object.assign({},this.RX),this._tweenRadiusObj={radius:this.controls.radius.value},this._preventLooseControls=!0,this._scheduleId=h.default.addEF(function(){return n._loop()})}return a(t,[{key:"init",value:function(t,e){var n=e.start;this._sculptures=t,this.controls.rx.value=n.rx,this.controls.radius.value=n.radius||this.controls.radius.value,this.controls.setCenter(n.p),this.controls.setPositionOffset(n.p)}},{key:"enterProductMode",value:function(){this.ry.limit(-w,w),this._removeCruiseControls()}},{key:"leaveProductMode",value:function(){this.ry.limit(-x,x),this._addCruiseControls()}},{key:"animate",value:function(t){this.controls.lock(!0),this._timeline=new TimelineMax({paused:!0,onComplete:this._introAnimationComplete.bind(this)});var e=this._sculptures.activeMesh.data.hotspots[0];this._goToHotspot(e),this._addExploreControls()}},{key:"goToNext",value:function(){}},{key:"moveToActive",value:function(){var t=this._sculptures.activeMesh;this._moveTo(t.position,{y:this._tweenCoordObj.y})}},{key:"_introAnimationComplete",value:function(){var t=this._sculptures.activeMesh.data.hotspots[0];this._goToHotspot(t)}},{key:"_addCruiseControls",value:function(){var t=this;window.addEventListener("mousemove",function(e){return t._onCruiseMove(e)}),window.addEventListener("touchmove",function(e){return t._onCruiseMove(e)})}},{key:"_removeCruiseControls",value:function(){var t=this;window.removeEventListener("mousemove",function(e){return t._onCruiseMove(e)}),window.removeEventListener("touchmove",function(e){return t._onCruiseMove(e)})}},{key:"_addExploreControls",value:function(){var t=this;this.controls.lock(!1),window.addEventListener("mousemove",function(e){return t._onMouseMove(e)}),window.addEventListener("touchmove",function(e){return t._onMouseMove(e)}),window.addEventListener("mousedown",function(e){return t._onDown(e)}),window.addEventListener("touchstart",function(e){return t._onDown(e)}),window.addEventListener("touchend",function(){return t._onUp()}),window.addEventListener("mouseup",function(){return t._onUp()}),this._preventLooseControls=!1}},{key:"_removeExploreControls",value:function(){var t=this;this.controls.lock(!0),window.removeEventListener("mousemove",function(e){return t._onMouseMove(e)}),window.removeEventListener("touchmove",function(e){return t._onMouseMove(e)}),window.removeEventListener("mousedown",function(e){return t._onDown(e)}),window.removeEventListener("touchstart",function(e){return t._onDown(e)}),window.removeEventListener("touchend",function(){return t._onUp()}),window.removeEventListener("mouseup",function(){return t._onUp()}),this._preventLooseControls=!0}},{key:"_goToHotspot",value:function(t){var e,n;this._preventLooseControls=!0,console.log(t),this._removeExploreControls(),this._addExploreControls();var r=t.rotate,o=t.rx;t.radius;if(o.limit){var a;this.rx.setTo(this.rx.value<o.limit[0]?o.limit[0]:this.rx.value),this.rx.setTo(this.rx.value>o.limit[1]?o.limit[1]:this.rx.value),(a=this.rx).limit.apply(a,i(o.limit))}r&&this.rotate(r.value),this.rxTo(o.value),this.radiusTo(t.radius.value),(e=this.radius).limit.apply(e,i(t.radius.limit));var s=t.local||[0,0,0],u=l.default.vec3.create();l.default.vec3.copy(u,this._sculptures.activeMesh.position),u[1]=0,l.default.vec3.add(u,u,(n=l.default.vec3).fromValues.apply(n,i(s))),this._moveTo(u),console.log(u)}},{key:"_setMeshData",value:function(t){this._meshData=t}},{key:"_loop",value:function(){return}},{key:"_onDown",value:function(t){this._preventLooseControls=!0}},{key:"_onUp",value:function(){this._preventLooseControls=!1}},{key:"_onCruiseMove",value:function(t){(0,v.getMouse)(t,this._mouse);var e=y.width,n=y.height;1-this._mouse.y/n-.5,1-this._mouse.x/e-.5}},{key:"_onMouseMove",value:function(t){if(!this._preventLooseControls){(0,v.getMouse)(t,this._mouse);var e=y.width,n=y.height,r=1-this._mouse.y/n,i=(r-.5)*b,o=(1-this._mouse.x/e-.5)*g;this._ascendValue=i,this._rotateValue=o}}},{key:"setCamera",value:function(t){this.controls.setPositionOffset(t),this.controls.setCenter(t)}},{key:"_getDotRotation",value:function(t,e){return l.default.vec3.dot(e,t)}},{key:"moveTo",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this._moveTo(t,e)}},{key:"rotate",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this._rotate(t,e)}},{key:"radiusTo",value:function(t){var e,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(e=TweenMax).to.apply(e,i(this._getRadius(t,n)))}},{key:"rxTo",value:function(t){var e,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(e=TweenMax).to.apply(e,i(this._getRx(t,n)))}},{key:"_lookAtMesh",value:function(t){var e=this._getDotRotation(this.controls.getNormalizedPosition(),t.normalizedPosition)-t.rotation;this._rotate(this.ry.value+e)}},{key:"_moveTo",value:function(t){var e,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=this._assignPropsToModel(t,this.COORDS),o=this._createCoordTween(r,n);(e=TweenMax).to.apply(e,i(o))}},{key:"_rotate",value:function(t){var e,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(e=TweenMax).to.apply(e,i(this._getRotate(t,n)))}},{key:"getMoveTo",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this._assignPropsToModel(t,this.COORDS),r=this._createCoordTween(n,e);return r}},{key:"_getRadius",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=Object.assign({},{radius:t,overwrite:1,ease:Power1.easeInOut,onUpdate:function(){e.controls.radius.value=e._tweenRadiusObj.radius}},n);return[this._tweenRadiusObj,n.duration||1,r]}},{key:"_getRotate",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this._createRotationTween(t,e)}},{key:"_getRx",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=Object.assign({},{rx:t,overwrite:1,ease:Power1.easeInOut,onUpdate:function(){e.rx.value=e._tweenRxObj.rx}},n);return[this._tweenRxObj,n.duration||1,r]}},{key:"_createCoordTween",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=Object.assign({},t,{onUpdate:function(){e._coordTransfer[0]=e._tweenCoordObj.x,
//!!!!!!!HACK
e._coordTransfer[1]=e._tweenCoordObj.y,e._coordTransfer[2]=e._tweenCoordObj.z,e.setCamera(e._coordTransfer)}},n);return[this._tweenCoordObj,n.duration||1,r]}},{key:"_createRotationTween",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=Object.assign({},{ry:t,overwrite:1,ease:Power1.easeInOut,onUpdate:function(){e.controls.ry.value=e._tweenRotateObj.ry}},n);return[this._tweenRotateObj,n.duration||1,r]}},{key:"_activeMesh",value:function(){return this._sculptures.activeMesh}},{key:"_assignPropsToModel",value:function(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],r={};return Object.keys(e).forEach(function(i,o){n?e[i]=t[o]:r[i]=t[o]}),n&&(r=e),r}},{key:"_getNewAscendValue",value:function(){var t=this.controls.positionOffset[1]+this._ascendValue;return t=Math.min(t,this._activeMesh().data.maxY),t=Math.max(t,this._activeMesh().data.minY)}},{key:"_allowAscend",value:function(){}},{key:"_fly",value:function(t){var e={};return Object.keys(this.coords).forEach(function(n,r){e[n]=.5*t[r]}),e.y=20,e}},{key:"start",value:function(){this.anim.start()}},{key:"destroy",value:function(){h.default.removeEF(this._scheduleId),this._removeExploreControls()}},{key:"positionTransfer",get:function(){return this._coordTransfer},set:function(t){this._assignPropsToModel(t,this._tweenCoordObj,!0),this._coordTransfer=t}}]),t}();e.default=M},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(49),u=r(s),l=n(32),c=r(l),f=n(7),h=r(f),d=function(t,e){var n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n},p=(2*Math.PI,function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?window:arguments[1],i=arguments.length<=2||void 0===arguments[2]?500:arguments[2];o(this,t),this._target=e,this._listenerTarget=r,this._mouse={},this._preMouse={},this.center=h.default.vec3.fromValues(0,0,0),this._up=h.default.vec3.fromValues(0,1,0),this.radius=new u.default(i),this.position=h.default.vec3.fromValues(0,0,0),this.positionOffset=h.default.vec3.fromValues(1,1,1),this.positionOffsetNorm=h.default.vec3.create(),this._rx=new u.default(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new u.default(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this._listenerTarget.addEventListener("mousewheel",function(t){return n._onWheel(t)}),this._listenerTarget.addEventListener("DOMMouseScroll",function(t){return n._onWheel(t)}),this._listenerTarget.addEventListener("mousedown",function(t){return n._onDown(t)}),this._listenerTarget.addEventListener("touchstart",function(t){return n._onDown(t)}),this._listenerTarget.addEventListener("mousemove",function(t){return n._onMove(t)}),this._listenerTarget.addEventListener("touchmove",function(t){return n._onMove(t)}),window.addEventListener("touchend",function(){return n._onUp()}),window.addEventListener("mouseup",function(){return n._onUp()}),c.default.addEF(function(){return n._loop()})}return a(t,[{key:"limit",value:function(t,e){this._rx.limit(t,e)}},{key:"lock",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isLockZoom=t,this._isLockRotation=t}},{key:"lockZoom",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isLockZoom=t}},{key:"lockRotation",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isLockRotation=t}},{key:"inverseControl",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isInvert=t}},{key:"removePress",value:function(t){this._removePress=t}},{key:"_onDown",value:function(t){this._isLockRotation||(this._isMouseDown=!0,d(t,this._mouse),d(t,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}},{key:"_onMove",value:function(t){if(!this._isLockRotation&&(d(t,this._mouse),t.touches&&t.preventDefault(),this._isMouseDown)){var e=-(this._mouse.x-this._preMouse.x);this._isInvert&&(e*=-1),this._ry.value=this._preRY-.01*e;var n=-(this._mouse.y-this._preMouse.y);this._isInvert&&(n*=-1),this._rx.value=this._preRX-.01*n}}},{key:"_onUp",value:function(){this._isLockRotation||(this._isMouseDown=!1)}},{key:"_onWheel",value:function(t){if(!this._isLockZoom){var e=t.wheelDelta,n=t.detail,r=0;r=n?e?e/n/40*n>0?1:-1:-n/3:e/120,this.radius.add(2*-r)}}},{key:"_loop",value:function(){this._updatePosition(),this._target&&this._updateCamera()}},{key:"setPositionOffset",value:function(t){var e;(e=h.default.vec3).set.apply(e,[this.positionOffset].concat(i(t))),this._updatePosition(),this._updateCamera()}},{key:"setCenter",value:function(t){var e;(e=h.default.vec3).set.apply(e,[this.center].concat(i(t))),this._updateCamera()}},{key:"_updatePosition",value:function(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;var t=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*t,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*t,h.default.vec3.add(this.position,this.position,this.positionOffset)}},{key:"getNormalizedPosition",value:function(){return h.default.vec3.normalize(this.positionOffsetNorm,this.positionOffset),this.positionOffsetNorm}},{key:"_updateCamera",value:function(){this._target.lookAt(this.position,this.center,this._up)}},{key:"rx",get:function(){return this._rx}},{key:"ry",get:function(){return this._ry}}]),t}());e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(105),o=r(i),a=n(106),s=r(a),u="\n\nconst vec3 ATMOSPHERE_COLOR = vec3(.607843137, .525490196, .564705882);\nconst vec3 ATMOSPHERE_COLOR_RED = vec3(.62745098, .250980392, .223529412);\n\n"+o.default+"\n\n"+s.default+"\n\nvec3 atmosphere(in vec2 p, in float time, in float amp){\n\tfloat fbm = fBm(p, time, amp);\n\tvec3 baseColor = ATMOSPHERE_COLOR_RED * fbm;\n\tvec3 highlightsColor = ATMOSPHERE_COLOR * (1. - fbm);\n\tvec3 color = baseColor + highlightsColor;\n\tfloat _r = random(p);\n\tvec3 noise = vec3 (_r,_r,_r);\n\tvec3 final = mix(noise, color, 0.92);\n\treturn final;\n}\n\n";e.default=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\nfloat blendScreen_20_19(float base, float blend) {\n\treturn 1.0-((1.0-base)*(1.0-blend));\n}\n\nvec3 blendScreen_20_19(vec3 base, vec3 blend) {\n\treturn vec3(blendScreen_20_19(base.r,blend.r),blendScreen_20_19(base.g,blend.g),blendScreen_20_19(base.b,blend.b));\n}\n\nvec3 blendScreen_20_19(vec3 base, vec3 blend, float opacity) {\n\treturn (blendScreen_20_19(base, blend) * opacity + blend * (1.0 - opacity));\n}";e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="//----------------------------------------------------------------------------------------\n\n#define FBM_NOISE_RES 2\n\nfloat Hash(in vec2 p, in float scale)\n{\n\t// This is tiling part, adjusts with the scale...\n\tp = mod(p, scale);\n\treturn fract(sin(dot(p, vec2(27.16898, 38.90563))) * 5151.5473453);\n}\n\n//----------------------------------------------------------------------------------------\nfloat Noise(in vec2 p, in float scale )\n{\n\tvec2 f;\n\t\n\tp *= scale;\n\n\t\n\tf = fract(p);\t\t// Separate integer from fractional\n    p = floor(p);\n\t\n    f = f*f*(3.0-2.0*f);\t// Cosine interpolation approximation\n\t\n    float res = mix(mix(Hash(p, \t\t\t\t scale),\n\t\t\t\t\t\tHash(p + vec2(1.0, 0.0), scale), f.x),\n\t\t\t\t\tmix(Hash(p + vec2(0.0, 1.0), scale),\n\t\t\t\t\t\tHash(p + vec2(1.0, 1.0), scale), f.x), f.y);\n    return res;\n}\n\n//----------------------------------------------------------------------------------------\nfloat fBm(in vec2 p, in float time, in float amp)\n{\n\tfloat _s = sin(time * .7);\n\tfloat _c = cos(time * .45);\n    p += vec2(_s, _c)*(.01);\n    p += vec2(_s, _c)*(.01);\n    p += vec2(_s, _c)*(.01);\n\tfloat f = 0.0;\n\t// Change starting scale to any integer value...\n\tfloat scale = 7.;\n    p = mod(p, scale);\n\t\n\tfor (int i = 0; i < FBM_NOISE_RES; i++)\n\t{\n\t\tf += Noise(p, scale) * amp;\n\t\tamp *= .5;\n\t\t// Scale must be multiplied by an integer value...\n\t\tscale *= 2.;\n\t}\n\t// Clamp it just in case....\n\treturn min(f, 1.0);\n}";e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="highp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}";e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(12),s=r(a),u=n(109),l=r(u),c=function(t){return 0!==t&&!(t&t-1)},f=void 0,h=void 0,d=function(){function t(e,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];i(this,t),f=s.default.gl,h=s.default.checkExtension("WEBGL_depth_texture"),this.width=e,this.height=n,this.magFilter=r.magFilter||f.LINEAR,this.minFilter=r.minFilter||f.LINEAR,this.wrapS=r.wrapS||f.CLAMP_TO_EDGE,this.wrapT=r.wrapT||f.CLAMP_TO_EDGE,this.useDepth=r.useDepth||!0,this.useStencil=r.useStencil||!1,c(this.width)&&c(this.height)||(this.wrapS=this.wrapT=f.CLAMP_TO_EDGE,this.minFilter===f.LINEAR_MIPMAP_NEAREST&&(this.minFilter=f.LINEAR)),this._init()}return o(t,[{key:"_init",value:function(){this.texture=f.createTexture(),this.glTexture=new l.default(this.texture,(!0)),this.depthTexture=f.createTexture(),this.glDepthTexture=new l.default(this.depthTexture,(!0)),this.frameBuffer=f.createFramebuffer(),f.bindFramebuffer(f.FRAMEBUFFER,this.frameBuffer),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,this.magFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.minFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,this.wrapS),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,this.wrapT),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,this.width,this.height,0,f.RGBA,s.default.isMobile?f.UNSIGNED_BYTE:f.FLOAT,null),h&&(f.bindTexture(f.TEXTURE_2D,this.depthTexture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,this.magFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,this.minFilter),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,this.wrapS),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,this.wrapT),f.texImage2D(f.TEXTURE_2D,0,f.DEPTH_COMPONENT,this.width,this.height,0,f.DEPTH_COMPONENT,f.UNSIGNED_SHORT,null)),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,this.texture,0),f.framebufferTexture2D(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.TEXTURE_2D,this.depthTexture,0),this.minFilter===f.LINEAR_MIPMAP_NEAREST&&(f.bindTexture(f.TEXTURE_2D,this.texture),f.generateMipmap(f.TEXTURE_2D)),f.bindTexture(f.TEXTURE_2D,null),f.bindRenderbuffer(f.RENDERBUFFER,null),f.bindFramebuffer(f.FRAMEBUFFER,null),this.clear()}},{key:"bind",value:function(){s.default.viewport(0,0,this.width,this.height),f.bindFramebuffer(f.FRAMEBUFFER,this.frameBuffer)}},{key:"unbind",value:function(){f.bindFramebuffer(f.FRAMEBUFFER,null),s.default.viewport(0,0,s.default.width,s.default.height)}},{key:"clear",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3];this.bind(),s.default.clear(t,e,n,r),this.unbind()}},{key:"getTexture",value:function(){return this.glTexture}},{key:"getDepthTexture",value:function(){return this.glDepthTexture}},{key:"minFilter",value:function(t){return t!==f.LINEAR&&t!==f.NEAREST&&t!==f.LINEAR_MIPMAP_NEAREST?this:(this.minFilter=t,this)}},{key:"magFilter",value:function(t){return t!==f.LINEAR&&t!==f.NEAREST&&t!==f.LINEAR_MIPMAP_NEAREST?this:(this.magFilter=t,this)}},{key:"wrapS",value:function(t){return t!==f.CLAMP_TO_EDGE&&t!==f.REPEAT&&t!==f.MIRRORED_REPEAT?this:(this.wrapS=t,this)}},{key:"wrapT",value:function(t){return t!==f.CLAMP_TO_EDGE&&t!==f.REPEAT&&t!==f.MIRRORED_REPEAT?this:(this.wrapT=t,this)}}]),t}();e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(12),s=r(a),u=void 0,l=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if(i(this,t),u=s.default.gl,r)return void(this.texture=e);this.texture=u.createTexture(),this.magFilter=n.magFilter||u.LINEAR,this.minFilter=n.minFilter||u.LINEAR_MIPMAP_NEAREST,this.wrapS=n.wrapS||u.CLAMP_TO_EDGE,this.wrapT=n.wrapT||u.CLAMP_TO_EDGE,u.bindTexture(u.TEXTURE_CUBE_MAP,this.texture);for(var o=[u.TEXTURE_CUBE_MAP_POSITIVE_X,u.TEXTURE_CUBE_MAP_NEGATIVE_X,u.TEXTURE_CUBE_MAP_POSITIVE_Y,u.TEXTURE_CUBE_MAP_NEGATIVE_Y,u.TEXTURE_CUBE_MAP_POSITIVE_Z,u.TEXTURE_CUBE_MAP_NEGATIVE_Z],a=0;a<6;a++)u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!1),e[a].exposure?u.texImage2D(o[a],0,u.RGBA,e[a].shape[0],e[a].shape[1],0,u.RGBA,u.FLOAT,e[a].data):u.texImage2D(o[a],0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,e[a]),u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_WRAP_S,this.wrapS),u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_WRAP_T,this.wrapT),u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_MAG_FILTER,this.magFilter),u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_MIN_FILTER,this.minFilter);u.generateMipmap(u.TEXTURE_CUBE_MAP),u.bindTexture(u.TEXTURE_CUBE_MAP,null)}return o(t,[{key:"bind",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];s.default.shader&&(u.activeTexture(u.TEXTURE0+t),u.bindTexture(u.TEXTURE_CUBE_MAP,this.texture),u.uniform1i(s.default.shader.uniformTextures[t],t),this._bindIndex=t)}},{key:"unbind",value:function(){u.bindTexture(u.TEXTURE_CUBE_MAP,null)}}]),t}();e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(12),s=r(a),u=function(t){return 0!==t&&!(t&t-1)},l=function(t){var e=t.width||t.videoWidth,n=t.height||t.videoHeight;return!(!e||!n)&&(u(e)&&u(n))},c=void 0,f=function(){function t(e){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(i(this,t),c=s.default.gl,n)this.texture=e;else{this._mSource=e,this.texture=c.createTexture(),this._isVideo="VIDEO"===e.tagName,this.magFilter=r.magFilter||c.LINEAR,this.minFilter=r.minFilter||c.LINEAR_MIPMAP_NEAREST,this.wrapS=r.wrapS||c.MIRRORED_REPEAT,this.wrapT=r.wrapT||c.MIRRORED_REPEAT;var o=e.width||e.videoWidth;o?l(e)||(this.wrapS=this.wrapT=c.CLAMP_TO_EDGE,this.minFilter===c.LINEAR_MIPMAP_NEAREST&&(this.minFilter=c.LINEAR)):(this.wrapS=this.wrapT=c.CLAMP_TO_EDGE,this.minFilter===c.LINEAR_MIPMAP_NEAREST&&(this.minFilter=c.LINEAR)),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),e.exposure?(console.log(this._mSource),console.log(this._mSource.data),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,e.shape[0],e.shape[1],0,c.RGBA,c.UNSIGNED_BYTE,e.data)):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,e),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,this.magFilter),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.minFilter),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,this.wrapS),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,this.wrapT),this.minFilter===c.LINEAR_MIPMAP_NEAREST&&c.generateMipmap(c.TEXTURE_2D),c.bindTexture(c.TEXTURE_2D,null)}}return o(t,[{key:"minFilter",value:function(t){return t!==c.LINEAR&&t!==c.NEAREST&&t!==c.LINEAR_MIPMAP_NEAREST?this:(this.minFilter=t,this)}},{key:"magFilter",value:function(t){return t!==c.LINEAR&&t!==c.NEAREST&&t!==c.LINEAR_MIPMAP_NEAREST?this:(this.magFilter=t,this)}},{key:"wrapS",value:function(t){return t!==c.CLAMP_TO_EDGE&&t!==c.REPEAT&&t!==c.MIRRORED_REPEAT?this:(this.wrapS=t,this)}},{key:"wrapT",value:function(t){return t!==c.CLAMP_TO_EDGE&&t!==c.REPEAT&&t!==c.MIRRORED_REPEAT?this:(this.wrapT=t,this)}},{key:"updateTexture",value:function(t){t&&(this._mSource=t),c.bindTexture(c.TEXTURE_2D,this.texture),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,this._mSource),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,this.magFilter),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.minFilter),this.minFilter===c.LINEAR_MIPMAP_NEAREST&&c.generateMipmap(c.TEXTURE_2D),c.bindTexture(c.TEXTURE_2D,null)}},{key:"bind",value:function(t){void 0===t&&(t=0),s.default.shader&&(c.activeTexture(c.TEXTURE0+t),c.bindTexture(c.TEXTURE_2D,this.texture),c.uniform1i(s.default.shader.uniformTextures[t],t),this._bindIndex=t)}},{key:"destroy",value:function(){c.deleteTexture(this.texture)}}]),t}();e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(68),l=r(u),c=n(7),f=r(c),h=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=f.default.vec3.clone([0,0,0]),r=f.default.vec3.create(),a=f.default.vec3.clone([0,-1,0]);return t.lookAt(n,r,a),t.ortho(1,-1,1,-1),t}return a(e,t),s(e,[{key:"setBoundary",value:function(t,e,n,r){this.ortho(t,e,n,r)}},{key:"ortho",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?-1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],r=arguments.length<=3||void 0===arguments[3]?-1:arguments[3];this.left=t,this.right=e,this.top=n,this.bottom=r,f.default.mat4.ortho(this._projection,t,e,n,r,0,1e4)}}]),e}(l.default);e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(49),s=r(a),u=n(32),l=r(u),c=n(7),f=r(c),h=function(t,e){var n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n},d=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?window:arguments[1],o=arguments.length<=2||void 0===arguments[2]?500:arguments[2];i(this,t),this._target=e,this._listenerTarget=r,this._mouse={},this._preMouse={},this.center=f.default.vec3.fromValues(0,0,0),this._up=f.default.vec3.fromValues(0,1,0),this.radius=new s.default(o),this.position=f.default.vec3.fromValues(0,0,this.radius.value),this.positionOffset=f.default.vec3.create(0,0,0),this._rx=new s.default(0),this._rx.limit(-Math.PI/2,Math.PI/2),this._ry=new s.default(0),this._preRX=0,this._preRY=0,this._isLockZoom=!1,this._isLockRotation=!1,this._isInvert=!1,this._listenerTarget.addEventListener("mousewheel",function(t){return n._onWheel(t)}),this._listenerTarget.addEventListener("DOMMouseScroll",function(t){return n._onWheel(t)}),this._listenerTarget.addEventListener("mousedown",function(t){return n._onDown(t)}),this._listenerTarget.addEventListener("touchstart",function(t){return n._onDown(t)}),this._listenerTarget.addEventListener("mousemove",function(t){return n._onMove(t)}),this._listenerTarget.addEventListener("touchmove",function(t){return n._onMove(t)}),window.addEventListener("touchend",function(){return n._onUp()}),window.addEventListener("mouseup",function(){return n._onUp()}),l.default.addEF(function(){return n._loop()})}return o(t,[{key:"lock",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isLockZoom=t,this._isLockRotation=t}},{key:"lockZoom",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isLockZoom=t}},{key:"lockRotation",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isLockRotation=t}},{key:"inverseControl",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isInvert=t}},{key:"_onDown",value:function(t){this._isLockRotation||(this._isMouseDown=!0,h(t,this._mouse),h(t,this._preMouse),this._preRX=this._rx.targetValue,this._preRY=this._ry.targetValue)}},{key:"_onMove",value:function(t){if(!this._isLockRotation&&(h(t,this._mouse),t.touches&&t.preventDefault(),this._isMouseDown)){var e=-(this._mouse.x-this._preMouse.x);this._isInvert&&(e*=-1),this._ry.value=this._preRY-.01*e;var n=-(this._mouse.y-this._preMouse.y);this._isInvert&&(n*=-1),this._rx.value=this._preRX-.01*n}}},{key:"_onUp",value:function(){this._isLockRotation||(this._isMouseDown=!1)}},{key:"_onWheel",value:function(t){if(!this._isLockZoom){var e=t.wheelDelta,n=t.detail,r=0;r=n?e?e/n/40*n>0?1:-1:-n/3:e/120,this.radius.add(2*-r)}}},{key:"_loop",value:function(){this._updatePosition(),this._target&&this._updateCamera()}},{key:"_updatePosition",value:function(){this.position[1]=Math.sin(this._rx.value)*this.radius.value;var t=Math.cos(this._rx.value)*this.radius.value;this.position[0]=Math.cos(this._ry.value+.5*Math.PI)*t,this.position[2]=Math.sin(this._ry.value+.5*Math.PI)*t,f.default.vec3.add(this.position,this.position,this.positionOffset)}},{key:"_updateCamera",value:function(){this._target.lookAt(this.position,this.center,this._up)}},{key:"rx",get:function(){return this._rx}},{key:"ry",get:function(){return this._ry}}]),t}();e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),s=r(a),u=s.default.GL,l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),this._id=name,this._position=e.position||[0,10,0],this._ambient=[1,1,1,1],this._diffuse=[165/255,93/255,53/255,1]||e.diffuse,this._specular=[0,0,0,0],this._uniforms=["uLightAmbient","uLightDiffuse","uLightPosition"]}return o(t,[{key:"setPosition",value:function(t){this._position=t.slice(0)}},{key:"setDiffuse",value:function(t){this._diffuse=t.slice(0)}},{key:"setAmbient",value:function(t){this._ambient=t.slice(0)}},{key:"setSpecular",value:function(t){this._specular=t.slice(0)}},{key:"bind",value:function(){u.useLight(this)}},{key:"unbind",value:function(){u.useLight(null)}},{key:"position",get:function(){return this._position}},{key:"ambient",get:function(){return this._ambient}},{key:"diffuse",get:function(){return this._diffuse}},{key:"specular",get:function(){return this._specular}},{key:"uniforms",get:function(){return this._uniforms}}]),t}();e.default=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(13),a=40,s=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),this._imageWidth=e.width||256,this._imageHeight=e.height||768,this._offset=e.offset||256,this._verbose=e.verbose,this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._canvas.width=this._imageWidth,this._canvas.height=this._imageHeight+this._offset,this._verbose&&(this._canvas.style.position="absolute",this._canvas.style.left=e.verboseLeft+"px",this._canvas.style.transformOrigin="50% 5%",this._canvas.style.transform="scale(0.5)",document.body.appendChild(this._canvas)),this._y=0,this._idIndex=0,this._sampleY=0,this._placeY=this._imageHeight+this._offset,this._goingDown=!0,this._assetId&&this.init(this._assetId),this._needsUpdate=!0}return i(t,[{key:"setTerrains",value:function(t){this._ids=t,this._draw(this._ids[this._idIndex])}},{key:"getNextTerrainId",value:function(){var t=this._idIndex+1;return t>this._ids.length-1&&(t=0),this._ids[t]}},{key:"getPixelValueAt",value:function(t,e){var n=Math.floor(e/this._imageHeight)%this._ids.length;this._draw(this._ids[n]),t=Math.round(t)+this._imageWidth/2,e=Math.round(e%this._imageHeight)+this._imageHeight/2;var r=this._ctx.getImageData(t,e,1,1),i=r.data;return this._draw(this._ids[this._idIndex]),i[0]/255}},{key:"next",value:function(){this._idIndex++,this._idIndex>this._ids.length-1&&(this._idIndex=0),this._draw(this._ids[this._idIndex])}},{key:"_completed",value:function(){this._idIndex++,this._idIndex>this._ids.length-1&&(this._idIndex=0),this._draw(this._ids[this._idIndex])}},{key:"_draw",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];t=t||this._ids[this._idIndex],this._drawSource(t,e)}},{key:"_drawSource",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=e?-this._imageWidth:0;this._ctx.save(),e?this._ctx.scale(-1,1):this._ctx.scale(1,1),this._ctx.drawImage((0,o.getAsset)(t),n,this._offset);var r=this.getNextTerrainId();this._ctx.drawImage((0,o.getAsset)(r),n,this._imageHeight-this._offset,this._imageWidth,this._offset,0,0,this._imageWidth,this._offset),this._ctx.restore(),this._blendWithNext(this._ctx)}},{key:"_blendWithNext",value:function(t){for(var e=t.getImageData(0,0,this._imageWidth,this._imageHeight+this._offset),n=4*this._imageWidth*(this._offset-a),r=4*this._imageWidth*(this._offset+a),i=4*this._imageWidth*a,o=i;o--;){var s=o/i,u=Math.floor(e.data[n-o]*s),l=Math.floor(e.data[r-o]*(1-s));e.data[r-o]=u+l}t.putImageData(e,0,0)}},{key:"blendSide",value:function(t,e){var n=t.data.length,r=e?0:this._imageWidth-a,i=this._imageHeight+this._offset,o=this._ctx.getImageData(r,0,a,i),s=4*i*a,u=e?0:s;u=0;var l=e?s:0;l=s;var c=e?4:-4;for(c=4,u;u<l;u+=c){var f=1,h=u%n;f=u%(4*a)/(4*a),e||(f=1-f);var d=Math.floor(t.data[h]*(1-f)),p=Math.floor(t.data[h+1]*(1-f)),v=Math.floor(t.data[h+2]*(1-f)),_=(Math.floor(t.data[h+3]),Math.floor(o.data[u]*f)),m=Math.floor(o.data[u+1]*f),y=Math.floor(o.data[u+2]*f);Math.floor(o.data[u+3]);o.data[u]=d+_,o.data[u+1]=p+m,o.data[u+2]=v+y,o.data[u+3]=255}this._ctx.putImageData(o,r,0)}},{key:"getSide",value:function(t){var e=t?0:this._imageWidth-a,n=this._imageHeight+this._offset;this._draw(null,!0);var r=this._ctx.getImageData(e,0,a,n);return this._draw(null,!1),r}},{key:"init",value:function(t){this._drawSource(t)}},{key:"_getMap",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?256:arguments[2],r=arguments.length<=3||void 0===arguments[3]?256:arguments[3];return this._ctx.getImageData(t,e,n,r)}},{key:"update",value:function(){var t=arguments.length<=0||void 0===arguments[0]?INCRE:arguments[0],e=t;this._countingUp&&(e*=-1),this._sampleY+=e,this._placeY-=t;this._needsUpdate=!1,(this._sampleY<=0||this._sampleY>=this._imageHeight)&&(this._countingUp=!this._countingUp),this._placeY<this._offset&&(this._placeY=this._imageHeight+this._offset,this._completed(),this._needsUpdate=!0);this._placeY-this._imageHeight}},{key:"offset",get:function(){return this._offset},set:function(){var t=arguments.length<=0||void 0===arguments[0]?[0,0]:arguments[0];this._offset=t}},{key:"canvas",get:function(){return this._canvas}},{key:"needsUpdate",get:function(){return this._needsUpdate}}]),t}();e.default=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\nfloat blendColorDodge_11_0(float base, float blend) {\n\treturn (blend==1.0)?blend:min(base/(1.0-blend),1.0);\n}\n\nvec3 blendColorDodge_11_0(vec3 base, vec3 blend) {\n\treturn vec3(blendColorDodge_11_0(base.r,blend.r),blendColorDodge_11_0(base.g,blend.g),blendColorDodge_11_0(base.b,blend.b));\n}\n\nvec3 blendColorDodge_11_0(vec3 base, vec3 blend, float opacity) {\n\treturn (blendColorDodge_11_0(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nfloat blendColorBurn_12_1(float base, float blend) {\n\treturn (blend==0.0)?blend:max((1.0-((1.0-base)/blend)),0.0);\n}\n\nvec3 blendColorBurn_12_1(vec3 base, vec3 blend) {\n\treturn vec3(blendColorBurn_12_1(base.r,blend.r),blendColorBurn_12_1(base.g,blend.g),blendColorBurn_12_1(base.b,blend.b));\n}\n\nvec3 blendColorBurn_12_1(vec3 base, vec3 blend, float opacity) {\n\treturn (blendColorBurn_12_1(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nfloat blendVividLight_2_2(float base, float blend) {\n\treturn (blend<0.5)?blendColorBurn_12_1(base,(2.0*blend)):blendColorDodge_11_0(base,(2.0*(blend-0.5)));\n}\n\nvec3 blendVividLight_2_2(vec3 base, vec3 blend) {\n\treturn vec3(blendVividLight_2_2(base.r,blend.r),blendVividLight_2_2(base.g,blend.g),blendVividLight_2_2(base.b,blend.b));\n}\n\nvec3 blendVividLight_2_2(vec3 base, vec3 blend, float opacity) {\n\treturn (blendVividLight_2_2(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nfloat blendHardMix_1_3(float base, float blend) {\n\treturn (blendVividLight_2_2(base,blend)<0.5)?0.0:1.0;\n}\n\nvec3 blendHardMix_1_3(vec3 base, vec3 blend) {\n\treturn vec3(blendHardMix_1_3(base.r,blend.r),blendHardMix_1_3(base.g,blend.g),blendHardMix_1_3(base.b,blend.b));\n}\n\nvec3 blendHardMix_1_3(vec3 base, vec3 blend, float opacity) {\n\treturn (blendHardMix_1_3(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nfloat blendLinearDodge_13_4(float base, float blend) {\n\t// Note : Same implementation as BlendAddf\n\treturn min(base+blend,1.0);\n}\n\nvec3 blendLinearDodge_13_4(vec3 base, vec3 blend) {\n\t// Note : Same implementation as BlendAdd\n\treturn min(base+blend,vec3(1.0));\n}\n\nvec3 blendLinearDodge_13_4(vec3 base, vec3 blend, float opacity) {\n\treturn (blendLinearDodge_13_4(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nfloat blendLinearBurn_14_5(float base, float blend) {\n\t// Note : Same implementation as BlendSubstractf\n\treturn max(base+blend-1.0,0.0);\n}\n\nvec3 blendLinearBurn_14_5(vec3 base, vec3 blend) {\n\t// Note : Same implementation as BlendSubstract\n\treturn max(base+blend-vec3(1.0),vec3(0.0));\n}\n\nvec3 blendLinearBurn_14_5(vec3 base, vec3 blend, float opacity) {\n\treturn (blendLinearBurn_14_5(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nfloat blendLinearLight_3_6(float base, float blend) {\n\treturn blend<0.5?blendLinearBurn_14_5(base,(2.0*blend)):blendLinearDodge_13_4(base,(2.0*(blend-0.5)));\n}\n\nvec3 blendLinearLight_3_6(vec3 base, vec3 blend) {\n\treturn vec3(blendLinearLight_3_6(base.r,blend.r),blendLinearLight_3_6(base.g,blend.g),blendLinearLight_3_6(base.b,blend.b));\n}\n\nvec3 blendLinearLight_3_6(vec3 base, vec3 blend, float opacity) {\n\treturn (blendLinearLight_3_6(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nfloat blendLighten_15_7(float base, float blend) {\n\treturn max(blend,base);\n}\n\nvec3 blendLighten_15_7(vec3 base, vec3 blend) {\n\treturn vec3(blendLighten_15_7(base.r,blend.r),blendLighten_15_7(base.g,blend.g),blendLighten_15_7(base.b,blend.b));\n}\n\nvec3 blendLighten_15_7(vec3 base, vec3 blend, float opacity) {\n\treturn (blendLighten_15_7(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nfloat blendDarken_16_8(float base, float blend) {\n\treturn min(blend,base);\n}\n\nvec3 blendDarken_16_8(vec3 base, vec3 blend) {\n\treturn vec3(blendDarken_16_8(base.r,blend.r),blendDarken_16_8(base.g,blend.g),blendDarken_16_8(base.b,blend.b));\n}\n\nvec3 blendDarken_16_8(vec3 base, vec3 blend, float opacity) {\n\treturn (blendDarken_16_8(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nfloat blendPinLight_4_9(float base, float blend) {\n\treturn (blend<0.5)?blendDarken_16_8(base,(2.0*blend)):blendLighten_15_7(base,(2.0*(blend-0.5)));\n}\n\nvec3 blendPinLight_4_9(vec3 base, vec3 blend) {\n\treturn vec3(blendPinLight_4_9(base.r,blend.r),blendPinLight_4_9(base.g,blend.g),blendPinLight_4_9(base.b,blend.b));\n}\n\nvec3 blendPinLight_4_9(vec3 base, vec3 blend, float opacity) {\n\treturn (blendPinLight_4_9(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nfloat blendReflect_17_10(float base, float blend) {\n\treturn (blend==1.0)?blend:min(base*base/(1.0-blend),1.0);\n}\n\nvec3 blendReflect_17_10(vec3 base, vec3 blend) {\n\treturn vec3(blendReflect_17_10(base.r,blend.r),blendReflect_17_10(base.g,blend.g),blendReflect_17_10(base.b,blend.b));\n}\n\nvec3 blendReflect_17_10(vec3 base, vec3 blend, float opacity) {\n\treturn (blendReflect_17_10(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nvec3 blendGlow_5_11(vec3 base, vec3 blend) {\n\treturn blendReflect_17_10(blend,base);\n}\n\nvec3 blendGlow_5_11(vec3 base, vec3 blend, float opacity) {\n\treturn (blendGlow_5_11(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nfloat blendOverlay_8_12(float base, float blend) {\n\treturn base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));\n}\n\nvec3 blendOverlay_8_12(vec3 base, vec3 blend) {\n\treturn vec3(blendOverlay_8_12(base.r,blend.r),blendOverlay_8_12(base.g,blend.g),blendOverlay_8_12(base.b,blend.b));\n}\n\nvec3 blendOverlay_8_12(vec3 base, vec3 blend, float opacity) {\n\treturn (blendOverlay_8_12(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nvec3 blendHardLight_6_13(vec3 base, vec3 blend) {\n\treturn blendOverlay_8_12(blend,base);\n}\n\nvec3 blendHardLight_6_13(vec3 base, vec3 blend, float opacity) {\n\treturn (blendHardLight_6_13(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nvec3 blendPhoenix_7_14(vec3 base, vec3 blend) {\n\treturn min(base,blend)-max(base,blend)+vec3(1.0);\n}\n\nvec3 blendPhoenix_7_14(vec3 base, vec3 blend, float opacity) {\n\treturn (blendPhoenix_7_14(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nvec3 blendNormal_9_15(vec3 base, vec3 blend) {\n\treturn blend;\n}\n\nvec3 blendNormal_9_15(vec3 base, vec3 blend, float opacity) {\n\treturn (blendNormal_9_15(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nvec3 blendNegation_10_16(vec3 base, vec3 blend) {\n\treturn vec3(1.0)-abs(vec3(1.0)-base-blend);\n}\n\nvec3 blendNegation_10_16(vec3 base, vec3 blend, float opacity) {\n\treturn (blendNegation_10_16(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nvec3 blendMultiply_18_17(vec3 base, vec3 blend) {\n\treturn base*blend;\n}\n\nvec3 blendMultiply_18_17(vec3 base, vec3 blend, float opacity) {\n\treturn (blendMultiply_18_17(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\nvec3 blendAverage_19_18(vec3 base, vec3 blend) {\n\treturn (base+blend)/2.0;\n}\n\nvec3 blendAverage_19_18(vec3 base, vec3 blend, float opacity) {\n\treturn (blendAverage_19_18(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\n\n\nfloat blendScreen_20_19(float base, float blend) {\n\treturn 1.0-((1.0-base)*(1.0-blend));\n}\n\nvec3 blendScreen_20_19(vec3 base, vec3 blend) {\n\treturn vec3(blendScreen_20_19(base.r,blend.r),blendScreen_20_19(base.g,blend.g),blendScreen_20_19(base.b,blend.b));\n}\n\nvec3 blendScreen_20_19(vec3 base, vec3 blend, float opacity) {\n\treturn (blendScreen_20_19(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nfloat blendSoftLight_21_20(float base, float blend) {\n\treturn (blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));\n}\n\nvec3 blendSoftLight_21_20(vec3 base, vec3 blend) {\n\treturn vec3(blendSoftLight_21_20(base.r,blend.r),blendSoftLight_21_20(base.g,blend.g),blendSoftLight_21_20(base.b,blend.b));\n}\n\nvec3 blendSoftLight_21_20(vec3 base, vec3 blend, float opacity) {\n\treturn (blendSoftLight_21_20(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nfloat blendSubstract_22_21(float base, float blend) {\n\treturn max(base+blend-1.0,0.0);\n}\n\nvec3 blendSubstract_22_21(vec3 base, vec3 blend) {\n\treturn max(base+blend-vec3(1.0),vec3(0.0));\n}\n\nvec3 blendSubstract_22_21(vec3 base, vec3 blend, float opacity) {\n\treturn (blendSubstract_22_21(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nvec3 blendExclusion_23_22(vec3 base, vec3 blend) {\n\treturn base+blend-2.0*base*blend;\n}\n\nvec3 blendExclusion_23_22(vec3 base, vec3 blend, float opacity) {\n\treturn (blendExclusion_23_22(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nvec3 blendDifference_24_23(vec3 base, vec3 blend) {\n\treturn abs(base-blend);\n}\n\nvec3 blendDifference_24_23(vec3 base, vec3 blend, float opacity) {\n\treturn (blendDifference_24_23(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n\nfloat blendAdd_25_24(float base, float blend) {\n\treturn min(base+blend,1.0);\n}\n\nvec3 blendAdd_25_24(vec3 base, vec3 blend) {\n\treturn min(base+blend,vec3(1.0));\n}\n\nvec3 blendAdd_25_24(vec3 base, vec3 blend, float opacity) {\n\treturn (blendAdd_25_24(base, blend) * opacity + blend * (1.0 - opacity));\n}\n\n";
e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\n";e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\t\tuniform sampler2D tDepth;\n\n\t\tconst float PI = 3.14159265;\n\n\t\tfloat width = 1.0; //texture width\n\t\tfloat height = 1.0; //texture height\n\n\t\tvec2 texel = vec2(1.0/width,1.0/height);\n\n\t\tuniform float focalDepth;  //focal distance value in meters, but you may use autofocus option below\n\t\tuniform float focalLength; //focal length in mm\n\t\tuniform float fstop; //f-stop value\n\t\tuniform bool showFocus; //show debug focus point and focal range (red = focal point, green = focal range)\n\n\t\t/*\n\t\tmake sure that these two values are the same for your camera, otherwise distances will be wrong.\n\t\t*/\n\n\t\tuniform float znear; // camera clipping start\n\t\tuniform float zfar; // camera clipping end\n\n\t\t//------------------------------------------\n\t\t//user variables\n\n\t\tconst int samples = 4; //samples on the first ring\n\t\tconst int rings = 2; //ring count\n\n\t\tconst int maxringsamples = rings * samples;\n\n\t\tuniform bool manualdof; // manual dof calculation\n\t\tfloat ndofstart = 1.0; // near dof blur start\n\t\tfloat ndofdist = 2.0; // near dof blur falloff distance\n\t\tfloat fdofstart = 1.0; // far dof blur start\n\t\tfloat fdofdist = 3.0; // far dof blur falloff distance\n\n\t\tfloat CoC = 0.03; //circle of confusion size in mm (35mm film = 0.03mm)\n\n\t\tuniform bool vignetting; // use optical lens vignetting\n\n\t\tfloat vignout = 1.3; // vignetting outer border\n\t\tfloat vignin = 0.0; // vignetting inner border\n\t\tfloat vignfade = 22.0; // f-stops till vignete fades\n\n\t\tuniform bool shaderFocus;\n\n\t\tbool autofocus = shaderFocus;\n\t\t//use autofocus in shader - use with focusCoords\n\t\t// disable if you use external focalDepth value\n\n\t\tuniform vec2 focusCoords;\n\t\t// autofocus point on screen (0.0,0.0 - left lower corner, 1.0,1.0 - upper right)\n\t\t// if center of screen use vec2(0.5, 0.5);\n\n\t\tuniform float maxblur;\n\t\t//clamp value of max blur (0.0 = no blur, 1.0 default)\n\n\t\tuniform float threshold; // highlight threshold;\n\t\tuniform float gain; // highlight gain;\n\n\t\tuniform float bias; // bokeh edge bias\n\t\tuniform float fringe; // bokeh chromatic aberration / fringing\n\n\t\tuniform bool noise; //use noise instead of pattern for sample dithering\n\n\t\tuniform float dithering;\n\t\tfloat namount = dithering; //dither amount\n\n\t\tuniform bool depthblur; // blur the depth buffer\n\t\tfloat dbsize = 1.25; // depth blur size\n\n\t\t/*\n\t\tnext part is experimental\n\t\tnot looking good with small sample and ring count\n\t\tlooks okay starting from samples = 4, rings = 4\n\t\t*/\n\n\t\tuniform bool pentagon; //use pentagon as bokeh shape?\n\t\tfloat feather = 0.4; //pentagon shape feather\n\n\t\t//------------------------------------------\n\nfloat penta(vec2 coords) {\n    //pentagonal shape\n    float scale = float(rings) - 1.3;\n    vec4 HS0 = vec4(1.0, 0.0, 0.0, 1.0);\n    vec4 HS1 = vec4(0.309016994, 0.951056516, 0.0, 1.0);\n    vec4 HS2 = vec4(-0.809016994, 0.587785252, 0.0, 1.0);\n    vec4 HS3 = vec4(-0.809016994, -0.587785252, 0.0, 1.0);\n    vec4 HS4 = vec4(0.309016994, -0.951056516, 0.0, 1.0);\n    vec4 HS5 = vec4(0.0, 0.0, 1.0, 1.0);\n\n    vec4 one = vec4(1.0);\n\n    vec4 P = vec4((coords), vec2(scale, scale));\n\n    vec4 dist = vec4(0.0);\n    float inorout = -4.0;\n\n    dist.x = dot(P, HS0);\n    dist.y = dot(P, HS1);\n    dist.z = dot(P, HS2);\n    dist.w = dot(P, HS3);\n\n    dist = smoothstep(-feather, feather, dist);\n\n    inorout += dot(dist, one);\n\n    dist.x = dot(P, HS4);\n    dist.y = HS5.w - abs(P.z);\n\n    dist = smoothstep(-feather, feather, dist);\n    inorout += dist.x;\n\n    return clamp(inorout, 0.0, 1.0);\n}\n\nfloat bdepth(vec2 coords) {\n    // Depth buffer blur\n    float d = 0.0;\n    float kernel[9];\n    vec2 offset[9];\n\n    vec2 wh = vec2(texel.x, texel.y) * dbsize;\n\n    offset[0] = vec2(-wh.x, -wh.y);\n    offset[1] = vec2(0.0, -wh.y);\n    offset[2] = vec2(wh.x - wh.y);\n\n    offset[3] = vec2(-wh.x, 0.0);\n    offset[4] = vec2(0.0, 0.0);\n    offset[5] = vec2(wh.x, 0.0);\n\n    offset[6] = vec2(-wh.x, wh.y);\n    offset[7] = vec2(0.0, wh.y);\n    offset[8] = vec2(wh.x, wh.y);\n\n    kernel[0] = 1.0 / 16.0;\n    kernel[1] = 2.0 / 16.0;\n    kernel[2] = 1.0 / 16.0;\n    kernel[3] = 2.0 / 16.0;\n    kernel[4] = 4.0 / 16.0;\n    kernel[5] = 2.0 / 16.0;\n    kernel[6] = 1.0 / 16.0;\n    kernel[7] = 2.0 / 16.0;\n    kernel[8] = 1.0 / 16.0;\n\n\n    for (int i = 0; i < 9; i++) {\n        float tmp = texture2D(tDepth, coords + offset[i]).r;\n        d += tmp * kernel[i];\n    }\n\n    return d;\n}\n\n\n// vec3 color(vec2 coords, float blur) {\n//     //processing the sample\n\n//     vec3 col = vec3(0.0);\n\n//     col.r = texture2D(tColor, coords + vec2(0.0, 1.0) * texel * fringe * blur).r;\n//     col.g = texture2D(tColor, coords + vec2(-0.866, -0.5) * texel * fringe * blur).g;\n//     col.b = texture2D(tColor, coords + vec2(0.866, -0.5) * texel * fringe * blur).b;\n\n//     vec3 lumcoeff = vec3(0.299, 0.587, 0.114);\n//     float lum = dot(col.rgb, lumcoeff);\n//     float thresh = max((lum - threshold) * gain, 0.0);\n//     return col + mix(vec3(0.0), col, thresh * blur);\n// }\n\nvec2 rand(vec2 coord) {\n    // generating noise / pattern texture for dithering\n\n    float noiseX = ((fract(1.0 - coord.s * (width / 2.0)) * 0.25) + (fract(coord.t * (height / 2.0)) * 0.75)) * 2.0 - 1.0;\n    float noiseY = ((fract(1.0 - coord.s * (width / 2.0)) * 0.75) + (fract(coord.t * (height / 2.0)) * 0.25)) * 2.0 - 1.0;\n\n    if (noise) {\n        noiseX = clamp(fract(sin(dot(coord, vec2(12.9898, 78.233))) * 43758.5453), 0.0, 1.0) * 2.0 - 1.0;\n        noiseY = clamp(fract(sin(dot(coord, vec2(12.9898, 78.233) * 2.0)) * 43758.5453), 0.0, 1.0) * 2.0 - 1.0;\n    }\n\n    return vec2(noiseX, noiseY);\n}\n\nvec3 debugFocus(vec3 col, float blur, float depth) {\n    float edge = 0.002 * depth; //distance based edge smoothing\n    float m = clamp(smoothstep(0.0, edge, blur), 0.0, 1.0);\n    float e = clamp(smoothstep(1.0 - edge, 1.0, blur), 0.0, 1.0);\n\n    col = mix(col, vec3(1.0, 0.5, 0.0), (1.0 - m) * 0.6);\n    col = mix(col, vec3(0.0, 0.5, 1.0), ((1.0 - e) - (1.0 - m)) * 0.2);\n\n    return col;\n}\n\nfloat linearize(float depth) {\n    return -zfar * znear / (depth * (zfar - znear) - zfar);\n}\n\n\nfloat vignette() {\n\tfloat dist = distance(vTextureCoord.xy, vec2(0.5, 0.5));\n    dist = smoothstep(vignout + (fstop / vignfade), vignin + (fstop / vignfade), dist);\n    return clamp(dist, 0.0, 1.0);\n}\n\nfloat gather(float i, float j, int ringsamples, inout vec3 col, float w, float h, float blur) {\n    float rings2 = float(rings);\n    float step = PI * 2.0 / float(ringsamples);\n    float pw = cos(j * step) * i;\n    float ph = sin(j * step) * i;\n    float p = 1.0;\n    if (pentagon) {\n        p = penta(vec2(pw, ph));\n    }\n    //col += color(vTextureCoord.xy + vec2(pw * w, ph * h), blur) * mix(1.0, i / rings2, bias) * p;\n    return 1.0 * mix(1.0, i / rings2, bias) * p;\n}\n\n\n//****************\n//****************\n\n";e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\nvec3 changeContrast( vec3 color, float amount )\n{\n\treturn (color - 0.5) * (amount + 1.0) + 0.5;\n}\n\n";e.changeContrast=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\nvec3 applyFog( in vec3  rgb, vec3 fogColor, in float distance, in float amp ) \n{\n    float fogAmount = 1.0 - exp( -distance * amp);\n    return mix( rgb, fogColor, fogAmount );\n}\n\n";e.applyFog=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\nfloat wiggleWaveLeft(vec2 st, float size, float intensity) {\n\tsize *= 2.0 - 1.0;\n\tintensity -= 0.5;\n\treturn smoothstep(size, 0.636, 1.080 - abs(intensity*(st.x+st.y*0.0*-intensity - 0.5)));\n}\n\nfloat wiggleWaveRight(vec2 st, float size, float intensity) {\n\tsize *= 2.0 - 1.0;\n\tintensity -= 0.5;\n\treturn smoothstep(size, 0.636, 1.048 - abs(intensity*(st.x+st.y*0.*-intensity - -0.508)));\n}\n\nfloat wiggleWaveTop(vec2 st, float size, float intensity) {\n\tsize *= 2.0 - 1.0;\n\tintensity -= 0.5;\n\treturn smoothstep(size, 0.780, 1.144 - abs(intensity*(st.y*-5.616 - 6.428)));\n}\n\nfloat wiggleWaveBottom(vec2 st, float size, float intensity) {\n\tsize *= 2.0 - 1.0;\n\tintensity -= 0.5;\n\treturn smoothstep(size, 0.780, 1.224 - abs(intensity*(st.y*-4.720 - 0.204)));\n}\n\nfloat horizonBlend(vec2 st){\n\tvec2 leftBlurPos = vec2(0.500,0.00)-st;\n    float leftBlur = wiggleWaveLeft(leftBlurPos, 1.248, 1.744);\n    vec2 rightBlurPos = vec2(0.500,0.00)-st;\n    float rightBlur = wiggleWaveRight(rightBlurPos, 1.248, 1.744);\n    vec2 topBlurPos = vec2(0.980,-0.120)-st;\n    float topBlur = wiggleWaveTop(topBlurPos, 1.248, 0.224);\n    vec2 bottomBlurPos = vec2(0.980,-0.120)-st;\n    float bottomBlur = wiggleWaveBottom(bottomBlurPos, 1.248, 0.224);\n\n\tfloat finalC = topBlur * leftBlur * bottomBlur * rightBlur;\n\treturn finalC;\n}\n\n";e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(123),o=n(50),a=n(117),s=n(114),u=r(s),l=n(119),c=r(l),f=n(116),h=(r(f),n(115)),d=(r(h),n(118)),p=n(42),v="\n\n#extension GL_EXT_shader_texture_lod : enable\n#define EXPOSURE 4.6\n#define GAMMA 1.\n#define FOG 0.8\n//*** USED FOR THE HORIZON\n#define NEAR -1024.\n#define FAR 1024.\n#define SHADOW_INTENSITY .7\n\n\nprecision highp float;\n\nuniform float rotation;\nuniform sampler2D \tuHeightMap;\nuniform sampler2D \tuAoMap;\n\nuniform mat4 uViewMatrix;\n\nuniform vec3 uLightPosition;\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\nuniform vec3 baseColor;\nuniform vec3 uLightColor;\nuniform vec3 darkColor;\nuniform vec3 fogColor;\n\nuniform vec3 sunPosition;\nuniform vec3 position;\n\nuniform int sceneDepth;\nuniform float heightMap;\nuniform float washOutFactor;\nuniform float uAngle;\n\nvarying vec3        vNormal;\nvarying vec3        vPosition;\nvarying vec3\t\tvEyePosition;\nvarying vec3\t\tvWsNormal;\nvarying vec3\t\tvWsPosition;\nvarying vec3\t\tvVertexPosition;\n\nvarying vec2 \t\tvTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\n\n\n// Filmic tonemapping from\n// http://filmicgames.com/archives/75\n\nconst float A = 0.15;\nconst float B = 0.50;\nconst float C = 0.10;\nconst float D = 0.20;\nconst float E = 0.02;\nconst float F = 0.30;\n\n\n\n"+i.Uncharted2Tonemap+"\n"+i.EnvBRDFApprox+"\n"+i.FixCubeLookup+"\n"+i.correctGamma+"\n"+i.COLOR0+"\n"+i.COLOR1+"\n\n"+a.changeContrast+"\n\n"+u.default+"\n\n//"+p.spotFrag+"\n\n"+o.SUN_MORNING+"\n"+o.SUN_EVENING+"\n"+o.sunSkyPosition+"\n"+o.mixMorningEvening+"\n\n//"+d.applyFog+"\n\n"+c.default+"\n\n\nvoid main() {\n\tvec2 st = vTextureCoord;\n\n\t//vec4 dv = texture2D( uHeightMap, vTextureCoord );\n\tvec3 L = normalize(sunPosition);\n\tvec3 N = normalize(vNormal * 2.0 - 1.0);\n\n\tL.y *= -1.;\n\tL.x *= -1.;\n\tL.x *= 4.;\n\tfloat _lDot = dot(N, -L);\n\tfloat lambertTerm = max(_lDot,.1);\n\n\n\t//float shadowValue = min(computeShadow(), 1.);\n\n\t// vec3 E = normalize(vEyePosition);\n\t// vec3 P = normalize(vPosition);\n\t// vec3 _pp = P - E;\n\n\n\t//****** THIS IS THE HORIZON linearDepth\n\tfloat _sinSun = sin(-uAngle);\n\tfloat _sunSkyPosition = sunSkyPosition(_sinSun);\n\tvec3 skyHue = mixMorningEvening(_sunSkyPosition);\n\n\t//****** THIS IS FOCAL LENGTH\n\tfloat _near = NEAR + position.z;\n\tfloat _far = FAR + position.z;\n\tfloat linearDepth = clamp(length(vPosition) / (_far - _near), 0., .9);\n\n\t//vec3 mixFogColor = mix(mix(fogColor, baseColor, clamp(_sunSkyPosition, 0., 1.)), skyHue, 0.2);\n\n\t//vec3 color = mix(skyHue, vec3(1.), 0.2);\n\tvec2 _st = st;\n\t_st.y *=2.0;\n\t_st.y = fract(_st.y);\n\tfloat heightMod  = texture2D( uHeightMap, _st ).x;\n\t//****reduce the height 0.5-1.0\n\tfloat heightMapReduced = heightMod * .5 + 0.5;\n\n\t//**** color contrast from the textures\n\tst.y *= 2.0;\n\tst.y = fract(st.y);\n\tvec3 color \t\t = texture2D(uAoMap, st).rgb;\n\tvec3 colorLambert = color * (lambertTerm * 0.2);\n\tcolor +=  colorLambert;\n\tcolor = clamp(color, 0., 1.);\n\n\tcolor *= changeContrast(color, heightMod * 2.5);\n\tfloat ssao \t\t\t= smoothstep(0.02, 1.0, heightMapReduced);\n\tcolor \t\t\t\t*= ssao;\n\n\tcolor += 0.2;\n\n\tvec3 gradientMap = mix(darkColor, lightColor, 1.-heightMod);\n\tgradientMap *= max((lambertTerm - 0.3),.4);\n\n\tvec3 gradientWithSky = mix(skyHue, gradientMap, 0.9);\n\n\tvec3 nColor = color * gradientWithSky;\n\tnColor = changeContrast(nColor, 0.1);\n\t//gradientMap = mix(skyHue, gr)\n\t//gradientMap + mix(skyHue, baseColor, clamp(_sunSkyPosition * 0.8, 0., 0.8 ));\n\n\t//color *= gradientMap;\n\n\t//color += color * lambertTerm;\n\t//color *= lambertTerm;\n\t//color *= clamp((1. - heightMod),0.1, 1.0);\n\n\t//vec3 nColor = blendScreen_20_19(color, gradientMap);\n\n\t//nColor = mix(nColor, baseColor, clamp(_sunSkyPosition * 0.8, 0., 0.8 ));\n\n\t//nColor *= min(shadowValue + step(sunPosition.y, heightMod * heightMap) + SHADOW_INTENSITY, 1.0);\n\t//********* NO GAMMA\n\t// nColor\t\t\t\t= Uncharted2Tonemap( nColor * EXPOSURE );\n\t// nColor\t\t\t\t= nColor * ( 1.0 / Uncharted2Tonemap( vec3( 40.0 ) ) );\n\t// nColor\t\t\t\t= pow( nColor, vec3( 1.0 / GAMMA ) );\n\n\t//vec3 finalColor =  applyFog(nColor, mixFogColor, linearDepth * 0.5, FOG);\n\tvec3 horizonColor = skyHue * linearDepth;\n\tnColor += horizonColor;\n\t//nColor *= (1. - linearDepth);\n\n\tnColor += (skyHue * (1. - horizonBlend(vTextureCoord)) * .2);\n\t//finalColor += (skyHue *= (linearDepth));\n\n\tvec3 washOut = vec3(skyHue) * washOutFactor;\n\n\tgl_FragColor = vec4((nColor *(1. - washOutFactor)) + washOut, 1.0);//vec4(1.0, 0.0, 0.0, 1.0);\n\t//gl_FragColor = vec4(vec3(heightMod), 1.0);//vec4(1.0, 0.0, 0.0, 1.0);\n\t//gl_FragColor = vec4(vec3(horizonColor), 1.0);//vec4(1.0, 0.0, 0.0, 1.0);\n\t//gl_FragColor = vec4(vec3((1. - linearDepth)),1.0);\n}\n\n";e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(122),o=r(i),a=n(258),s=(r(a),n(257)),u=r(s),l="\n\n#define SHADER_NAME REFLECTION_VERTEX\n#define SPEED  0.2\n#define BELL  40.\nprecision highp float;\n\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform sampler2D \tuHeightMap;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform mat3 uModelViewMatrixInverse;\n\nuniform vec3 position;\nuniform vec3 scale;\nuniform float rotationX;\nuniform float rotationY;\nuniform float heightMap;\nuniform float time;\n\nuniform vec3 uLightPosition;\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\nvarying vec2 vTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\nvarying vec3 vVertexPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 vWsPosition;\nvarying vec3 vEyePosition;\nvarying vec3 vWsNormal;\n\n"+u.default+"\n"+o.default+"\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nvoid main(void) {\n\tvec3 pos \t\t\t\t= aVertexPosition;\n\tvec2 st = aTextureCoord.xy;\n\tst.y *=2.0;\n\tst.y = fract(st.y);\n\tvec3 dv                 = texture2D( uHeightMap, st ).xyz;\n\tfloat _time = time;\n\t//float _s = sin(_time  * SPEED * (aTextureCoord.y +1.)) * 0.5 + 0.5;\n\t//tCoord.y = _s;\n\t//float _perlin = snoise(tCoord);\n\n\tfloat _heightTex  = dv.x;\n\n\t// float pct = 0.0;\n \t// pct = 1.- distance(aTextureCoord,vec2(0.5, _s));\n \t// pct *= BELL;\n\n\t// pos.z += pct;\n\t// pos.z -= BELL / 2.;\n\n\tpos.z += _heightTex * heightMap;\n\t//pos.z = pct;\n\n\tpos.yz \t\t\t\t\t= rotate(pos.yz, rotationX);\n\t//pos.xz \t\t\t\t\t= rotate(pos.xz, rotation);\n\tpos \t\t\t\t\t=  pos * scale + position;\n\tvec4 worldSpacePosition\t= uModelMatrix * vec4(pos, 1.0);\n    vec4 viewSpacePosition\t= uViewMatrix * worldSpacePosition;\n\n\n\tvVertexPosition = pos;\n\t\n    vNormal\t\t\t\t\t= uNormalMatrix * aNormal;\n    vPosition\t\t\t\t= viewSpacePosition.xyz;\n\tvWsPosition\t\t\t\t= worldSpacePosition.xyz;\n\t\n\tvec4 eyeDirViewSpace\t= viewSpacePosition - vec4( 0, 0, 0, 1 );\n\tvEyePosition\t\t\t= -vec3( uModelViewMatrixInverse * eyeDirViewSpace.xyz );\n\tvWsNormal\t\t\t\t= normalize( uModelViewMatrixInverse * vNormal );\n\t\n    gl_Position\t\t\t\t= uProjectionMatrix * viewSpacePosition;\n\n    vNormal = calculateNormals(uHeightMap, aTextureCoord);\n\n\tvTextureCoord\t\t\t= aTextureCoord;\n}\n";e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(256),o=r(i),a="\n\t"+o.default+"\n\t\n\tconst float SHIFT = .001;\n\n\tvec3 calculateNormals(in sampler2D texture, in vec2 texCoord)\n\t{\n\t\tconst float XZScale = 2.0;\n\t\tconst float YSCale = 1.0;\n\t\tfloat gap = map(SHIFT, 0.0, 1.0, 0.0, 2.0);\n\t\t// float gap = SHIFT;\n\n\t\tvec3 pixelCurr  = vec3(texCoord.x, texture2D(texture, texCoord).r, texCoord.y);\n\t\tvec3 pixelRight = vec3(texCoord.x+gap, texture2D(texture, texCoord+vec2(SHIFT, 0.0)).r, texCoord.y);\n\t\tvec3 pixelUp    = vec3(texCoord.x, texture2D(texture, texCoord+vec2(0.0, SHIFT)).r, texCoord.y+gap);\n\n\t\tpixelCurr  *= vec3(XZScale, YSCale, XZScale);\n\t\tpixelRight *= vec3(XZScale, YSCale, XZScale);\n\t\tpixelUp    *= vec3(XZScale, YSCale, XZScale);\n\n\t\tvec3 vRight = pixelRight - pixelCurr;\n\t\tvec3 vUp = pixelUp - pixelCurr;\n\n\t\t// vec3 normal = (normalize(cross(vRight, vUp)) + 1.0) * .5;\n\t\tvec3 normal = (normalize(cross(vUp, vRight)) + 1.0) * .5;\n\t\treturn normal;\n\t}\n";e.default=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile\nvec3 EnvBRDFApprox( vec3 SpecularColor, float Roughness, float NoV )\n{\n\tconst vec4 c0 = vec4( -1, -0.0275, -0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, -0.04 );\n\tvec4 r = Roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( -9.28 * NoV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn SpecularColor * AB.x + AB.y;\n}\n\n",r="\n\n// http://the-witness.net/news/2012/02/seamless-cube-map-filtering/\nvec3 fix_cube_lookup( vec3 v, float cube_size, float lod ) {\n\tfloat M = max(max(abs(v.x), abs(v.y)), abs(v.z));\n\tfloat scale = 1.0 - exp2(lod) / cube_size;\n\tif (abs(v.x) != M) v.x *= scale;\n\tif (abs(v.y) != M) v.y *= scale;\n\tif (abs(v.z) != M) v.z *= scale;\n\treturn v;\n}\n\n",i="\nvec3 Uncharted2Tonemap( vec3 x )\n{\n\treturn ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\n}\n\n",o="\nvec3 correctGamma(vec3 color, float g) {\n\treturn pow(color, vec3(1.0/g));\n}\n\n",a="const vec3 COLOR0 = 1.0 - vec3(198.0, 151.0, 75.0)/255.0;",s="const vec3 COLOR1 = vec3(1.0);";e.Uncharted2Tonemap=i,e.EnvBRDFApprox=n,e.FixCubeLookup=r,e.correctGamma=o,e.COLOR0=a,e.COLOR1=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(50),o=n(259),a=n(260),s=r(a),u="\n\n// basic.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n#define SUN_RADIUS 0.000001\n#define SUN_AMP 1. //HIgh is smaller\n#define SUN_SPEED 0.08\n#define SUN_INTENS 0.2\n\nprecision highp float;\nuniform sampler2D uHorizon;\nuniform float uTime;\nuniform float uAngle;\nuniform float washOutFactor;\nuniform vec3 sunTarget;\nuniform vec3 sunPosition;\nvarying vec2 vTextureCoord;\n\n"+i.SUN_MORNING+"\n"+i.SUN_EVENING+"\n"+o.circle+"\n"+i.sunSkyPosition+"\n"+i.mixMorningEvening+"\n\n"+s.default+"\n\nfloat qinticIn(float t) {\n  return pow(t, 5.0);\n}\n\n\nvoid main(void) {\n\tvec2 st = vTextureCoord;\n\tvec4 color = texture2D(uHorizon, vTextureCoord);\n\tfloat noise = fBm(st, uTime, 0.5);\n\n\t//float sunAngle = dot(normalize(sunTarget), -normalize(sunPosition));\n\tfloat _angle = uAngle + ((noise * 2. - 1.));\n\tfloat _sinSun = sin(-_angle);\n\tvec2 translateSun = vec2(cos(-_angle),_sinSun);\n\t//vec2 translateSun = vec2(sunPosition.xy);\n\tst.x+=0.25; //90degs\n\tst+=translateSun*SUN_SPEED;\n\n\tfloat _sunSkyPosition = sunSkyPosition(_sinSun);\n\tvec3 skyHue = mixMorningEvening(_sunSkyPosition);\n\n\tvec3 sunColor = vec3(circle(st, SUN_RADIUS / 8., SUN_RADIUS, 0.5 ,SUN_AMP));\n\n\tfloat sunGlowSlope = qinticIn(circle(st, 0.05 / 8., 0.05, 100. ,500.));\n\tvec3 sunGlow = skyHue * vec3(sunGlowSlope);\n\tsunGlow *= SUN_INTENS;\n\tsunGlow += sunColor * (skyHue*vec3(.8,.8,.8));\n\n\tskyHue += sunGlow;\n\n\tvec3 finalColor = mix(color.rgb, skyHue, clamp(_sunSkyPosition, 0.3, .5));\n\n\tfinalColor += sunColor * (skyHue*vec3(.8,.8,.8));\n\n  vec3 washOut = vec3(skyHue) * washOutFactor;\n\n    //gl_FragColor = vec4(color.rgb,1.0);\n    //gl_FragColor = vec4(skyHue + sunGlow,1.0);\n    //gl_FragColor = vec4(vec3(noise),1.0);\n    //gl_FragColor = vec4(skyHue,1.0);\n    gl_FragColor = vec4((finalColor *(1. - washOutFactor)) + washOut, 1.0);//vec4(1.0, 0.0, 0.0, 1.0);\n}\n\n";e.default=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n// basic.vert\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec3 position;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n\tvec3 pos \t\t\t\t= aVertexPosition;\n\tpos \t\t\t\t\t=  pos + position;\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n\n";e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(280);var u=n(2),l=r(u),c=(n(38),n(9)),f=(r(c),n(37)),h=n(4),d=r(h),p=n(206),v=r(p),_=d.default.GL,m=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={loadingProgress:0},n}return a(e,t),s(e,[{key:"componentDidMount",value:function(){var t=this;this.props.browser;_.init(this.refs.glCtx),this.scene=new v.default,this.scene.on("progress",function(e){t.setState({loadingProgress:(100*e).toFixed(1)})}),this.scene.on("loaded",function(){t.refs.loading.classList.add("is-hidden")})}},{key:"componentWillReceiveProps",value:function(t){this.props.browser}},{key:"render",value:function(){this.props.browser;return l.default.createElement("div",{ref:"mars-exp",className:"o-page mars-exp"},l.default.createElement("div",{ref:"loading",className:"mars-loading"},l.default.createElement("span",null,"LOADING ",this.state.loadingProgress)),l.default.createElement("canvas",{ref:"glCtx"}))}}]),e}(u.Component);e.default=(0,f.connect)(function(t){var e=t.browser;return{browser:e}},{})(m)},,,,,,function(t,e,n){var r=n(19),i={};i.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromValues=function(t,e,n,i,o,a,s,u,l){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c},i.set=function(t,e,n,r,i,o,a,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=c*a-s*l,h=-c*o+s*u,d=l*o-a*u,p=n*f+r*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*a)*p,t[3]=h*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-l*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null},i.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*a,t[3]=s*u-o*c,t[4]=n*c-i*u,t[5]=i*o-n*s,t[6]=o*l-a*u,t[7]=r*u-n*l,t[8]=n*a-r*o,t},i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=n[0],d=n[1],p=n[2],v=n[3],_=n[4],m=n[5],y=n[6],g=n[7],b=n[8];return t[0]=h*r+d*a+p*l,t[1]=h*i+d*s+p*c,t[2]=h*o+d*u+p*f,t[3]=v*r+_*a+m*l,t[4]=v*i+_*s+m*c,t[5]=v*o+_*u+m*f,t[6]=y*r+g*a+b*l,t[7]=y*i+g*s+b*c,t[8]=y*o+g*u+b*f,t},i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=h*r+d*a+l,t[7]=h*i+d*s+c,t[8]=h*o+d*u+f,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*a,t[1]=d*i+h*s,t[2]=d*o+h*u,t[3]=d*a-h*r,t[4]=d*s-h*i,t[5]=d*u-h*o,t[6]=l,t[7]=c,t[8]=f,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*u,v=o*a,_=o*s,m=o*u;return t[0]=1-f-p,t[3]=c-m,t[6]=h+_,t[1]=c+m,t[4]=1-l-p,t[7]=d-v,t[2]=h-_,t[5]=d+v,t[8]=1-l-f,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],_=e[14],m=e[15],y=n*s-r*a,g=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,M=i*l-o*u,T=c*v-f*p,P=c*_-h*p,S=c*m-d*p,E=f*_-h*v,O=f*m-d*v,R=h*m-d*_,k=y*R-g*O+b*E+x*S-w*P+M*T;return k?(k=1/k,t[0]=(s*R-u*O+l*E)*k,t[1]=(u*S-a*R-l*P)*k,t[2]=(a*O-s*S+l*T)*k,t[3]=(i*O-r*R-o*E)*k,t[4]=(n*R-i*S+o*P)*k,t[5]=(r*S-n*O-o*T)*k,t[6]=(v*M-_*w+m*x)*k,t[7]=(_*b-p*M-m*g)*k,t[8]=(p*w-v*b+m*y)*k,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=e[0],d=e[1],p=e[2],v=e[3],_=e[4],m=e[5],y=t[6],g=e[7],b=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-v)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-_)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(u-m)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-y)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-g)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-b)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))},t.exports=i},function(t,e,n){var r=n(19),i={};i.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r);
},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},i.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t},i.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,f=3*u*a,h=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*f+i[0]*h,t[1]=e[1]*l+n[1]*c+r[1]*f+i[1]*h,t[2]=e[2]*l+n[2]*c+r[2]*f+i[2]*h,t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,f=l*i+u*r-a*o,h=l*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=c*l+d*-a+f*-u-h*-s,t[1]=f*l+d*-s+h*-a-c*-u,t[2]=h*l+d*-u+c*-s-f*-a,t},i.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},t.exports=i},function(t,e,n){var r=n(19),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.fromValues=function(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,f=l*i+u*r-a*o,h=l*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=c*l+d*-a+f*-u-h*-s,t[1]=f*l+d*-s+h*-a-c*-u,t[2]=h*l+d*-u+c*-s-f*-a,t[3]=e[3],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},t.exports=i},function(t,e,n){(function(r){var i,o,a="undefined"!=typeof t&&t.exports&&"undefined"!=typeof r?r:this||window;(a._gsQueue||(a._gsQueue=[])).push(function(){"use strict";a._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var r=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},i=function(t,e,n){var r,i,o=t.cycle;for(r in o)i=o[r],t[r]="function"==typeof i?i(n,e[n]):i[n%i.length];delete t.cycle},o=function(t,e,r){n.call(this,t,e,r),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},a=1e-10,s=n._internals,u=s.isSelector,l=s.isArray,c=o.prototype=n.to({},.1,{}),f=[];o.version="1.19.0",c.constructor=o,c.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=n.killTweensOf,o.getTweensOf=n.getTweensOf,o.lagSmoothing=n.lagSmoothing,o.ticker=n.ticker,o.render=n.render,c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},c.updateTo=function(t,e){var r,i=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(r in t)this.vars[r]=t[r];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,u=1/(1-i),l=this._firstPT;l;)s=l.s+l.c,l.c*=u,l.s=s-l.c,l=l._next;return this},c.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,i,o,u,l,c,f,h,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,v=this._totalTime,_=this._cycle,m=this._duration,y=this._rawPrevTime;if(t>=d-1e-7?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=m,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===m&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(y<0||t<=0&&t>=-1e-7||y===a&&"isPause"!==this.data)&&y!==t&&(n=!0,y>a&&(i="onReverseComplete")),this._rawPrevTime=h=!e||t||y===t?t:a)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==v||0===m&&y>0)&&(i="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===m&&(this._initted||!this.vars.lazy||n)&&(y>=0&&(n=!0),this._rawPrevTime=h=!e||t||y===t?t:a)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(u=m+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=m-this._time),this._time>m?this._time=m:this._time<0&&(this._time=0)),this._easeType?(l=this._time/m,c=this._easeType,f=this._easePower,(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===f?l*=l:2===f?l*=l*l:3===f?l*=l*l*l:4===f&&(l*=l*l*l*l),1===c?this.ratio=1-l:2===c?this.ratio=l:this._time/m<.5?this.ratio=l/2:this.ratio=1-l/2):this.ratio=this._ease.getRatio(this._time/m)),p===this._time&&!n&&_===this._cycle)return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=v,this._rawPrevTime=y,this._cycle=_,s.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/m):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===v&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==m||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,n),e||(this._totalTime!==v||i)&&this._callback("onUpdate")),this._cycle!==_&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),i&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this._callback(i),0===m&&this._rawPrevTime===a&&h!==a&&(this._rawPrevTime=0)))},o.to=function(t,e,n){return new o(t,e,n)},o.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new o(t,e,n)},o.fromTo=function(t,e,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new o(t,e,r)},o.staggerTo=o.allTo=function(t,e,a,s,c,h,d){s=s||0;var p,v,_,m,y=0,g=[],b=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),c.apply(d||a.callbackScope||this,h||f)},x=a.cycle,w=a.startAt&&a.startAt.cycle;for(l(t)||("string"==typeof t&&(t=n.selector(t)||t),u(t)&&(t=r(t))),t=t||[],s<0&&(t=r(t),t.reverse(),s*=-1),p=t.length-1,_=0;_<=p;_++){v={};for(m in a)v[m]=a[m];if(x&&(i(v,t,_),null!=v.duration&&(e=v.duration,delete v.duration)),w){w=v.startAt={};for(m in a.startAt)w[m]=a.startAt[m];i(v.startAt,t,_)}v.delay=y+(v.delay||0),_===p&&c&&(v.onComplete=b),g[_]=new o(t[_],e,v),y+=s}return g},o.staggerFrom=o.allFrom=function(t,e,n,r,i,a,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,o.staggerTo(t,e,n,r,i,a,s)},o.staggerFromTo=o.allFromTo=function(t,e,n,r,i,a,s,u){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,o.staggerTo(t,e,r,i,a,s,u)},o.delayedCall=function(t,e,n,r,i){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,useFrames:i,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return n.getTweensOf(t,!0).length>0};var h=function(t,e){for(var r=[],i=0,o=t._first;o;)o instanceof n?r[i++]=o:(e&&(r[i++]=o),r=r.concat(h(o,e)),i=r.length),o=o._next;return r},d=o.getAllTweens=function(e){return h(t._rootTimeline,e).concat(h(t._rootFramesTimeline,e))};o.killAll=function(t,n,r,i){null==n&&(n=!0),null==r&&(r=!0);var o,a,s,u=d(0!=i),l=u.length,c=n&&r&&i;for(s=0;s<l;s++)a=u[s],(c||a instanceof e||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var i,a,c,f,h,d=s.tweenLookup;if("string"==typeof t&&(t=n.selector(t)||t),u(t)&&(t=r(t)),l(t))for(f=t.length;--f>-1;)o.killChildTweensOf(t[f],e);else{i=[];for(c in d)for(a=d[c].target.parentNode;a;)a===t&&(i=i.concat(d[c].tweens)),a=a.parentNode;for(h=i.length,f=0;f<h;f++)e&&i[f].totalTime(i[f].totalDuration()),i[f]._enabled(!1,!1)}}};var p=function(t,n,r,i){n=n!==!1,r=r!==!1,i=i!==!1;for(var o,a,s=d(i),u=n&&r&&i,l=s.length;--l>-1;)a=s[l],(u||a instanceof e||(o=a.target===a.vars.onComplete)&&r||n&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,n){p(!0,t,e,n)},o.resumeAll=function(t,e,n){p(!1,t,e,n)},o.globalTimeScale=function(e){var r=t._rootTimeline,i=n.ticker.time;return arguments.length?(e=e||a,r._startTime=i-(i-r._startTime)*r._timeScale/e,r=t._rootFramesTimeline,i=n.ticker.frame,r._startTime=i-(i-r._startTime)*r._timeScale/e,r._timeScale=t._rootTimeline._timeScale=e,e):r._timeScale},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},c.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),a._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,r,i=this.vars;for(r in i)n=i[r],l(n)&&n.join("").indexOf("{self}")!==-1&&(i[r]=this._swapSelfInParams(n));l(i.tweens)&&this.add(i.tweens,0,i.align,i.stagger)},i=1e-10,o=n._internals,s=r._internals={},u=o.isSelector,l=o.isArray,c=o.lazyTweens,f=o.lazyRender,h=a._gsDefine.globals,d=function(t){var e,n={};for(e in t)n[e]=t[e];return n},p=function(t,e,n){var r,i,o=t.cycle;for(r in o)i=o[r],t[r]="function"==typeof i?i.call(e[n],n):i[n%i.length];delete t.cycle},v=s.pauseCallback=function(){},_=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},m=r.prototype=new e;return r.version="1.19.0",m.constructor=r,m.kill()._gc=m._forcingPlayhead=m._hasPause=!1,m.to=function(t,e,r,i){var o=r.repeat&&h.TweenMax||n;return e?this.add(new o(t,e,r),i):this.set(t,r,i)},m.from=function(t,e,r,i){return this.add((r.repeat&&h.TweenMax||n).from(t,e,r),i)},m.fromTo=function(t,e,r,i,o){var a=i.repeat&&h.TweenMax||n;return e?this.add(a.fromTo(t,e,r,i),o):this.set(t,i,o)},m.staggerTo=function(t,e,i,o,a,s,l,c){var f,h,v=new r({onComplete:s,onCompleteParams:l,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),m=i.cycle;for("string"==typeof t&&(t=n.selector(t)||t),t=t||[],u(t)&&(t=_(t)),o=o||0,o<0&&(t=_(t),t.reverse(),o*=-1),h=0;h<t.length;h++)f=d(i),f.startAt&&(f.startAt=d(f.startAt),f.startAt.cycle&&p(f.startAt,t,h)),m&&(p(f,t,h),null!=f.duration&&(e=f.duration,delete f.duration)),v.to(t[h],e,f,h*o);return this.add(v,a)},m.staggerFrom=function(t,e,n,r,i,o,a,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(t,e,n,r,i,o,a,s)},m.staggerFromTo=function(t,e,n,r,i,o,a,s,u){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,this.staggerTo(t,e,r,i,o,a,s,u)},m.call=function(t,e,r,i){return this.add(n.delayedCall(0,t,e,r),i)},m.set=function(t,e,r){return r=this._parseTimeOrLabel(r,0,!0),null==e.immediateRender&&(e.immediateRender=r===this._time&&!this._paused),this.add(new n(t,0,e),r)},r.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var i,o,a=new r(t),s=a._timeline;for(null==e&&(e=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,i=s._first;i;)o=i._next,e&&i instanceof n&&i.target===i.vars.onComplete||a.add(i,i._startTime-i._delay),i=o;return s.add(a,0),a},m.add=function(i,o,a,s){var u,c,f,h,d,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,i)),!(i instanceof t)){if(i instanceof Array||i&&i.push&&l(i)){for(a=a||"normal",s=s||0,u=o,c=i.length,f=0;f<c;f++)l(h=i[f])&&(h=new r({tweens:h})),this.add(h,u),"string"!=typeof h&&"function"!=typeof h&&("sequence"===a?u=h._startTime+h.totalDuration()/h._timeScale:"start"===a&&(h._startTime-=h.delay())),u+=s;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,o);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=n.delayedCall(0,i)}if(e.prototype.add.call(this,i,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,p=d.rawTime()>i._startTime;d._timeline;)p&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},m.remove=function(e){if(e instanceof t){this._remove(e,!1);var n=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:n._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var r=e.length;--r>-1;)this.remove(e[r]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},m._remove=function(t,n){e.prototype._remove.call(this,t,n);var r=this._last;return r?this._time>r._startTime+r._totalDuration/r._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},m.insert=m.insertMultiple=function(t,e,n,r){return this.add(t,e||0,n,r)},m.appendMultiple=function(t,e,n,r){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),n,r)},m.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},m.addPause=function(t,e,r,i){var o=n.delayedCall(0,v,r,i||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},m.removeLabel=function(t){return delete this._labels[t],this},m.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},m._parseTimeOrLabel=function(e,n,r,i){var o;if(i instanceof t&&i.timeline===this)this.remove(i);else if(i&&(i instanceof Array||i.push&&l(i)))for(o=i.length;--o>-1;)i[o]instanceof t&&i[o].timeline===this&&this.remove(i[o]);if("string"==typeof n)return this._parseTimeOrLabel(n,r&&"number"==typeof e&&null==this._labels[n]?e-this.duration():0,r);if(n=n||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),o===-1)return null==this._labels[e]?r?this._labels[e]=this.duration()+n:n:this._labels[e]+n;n=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,r):this.duration()}return Number(e)+n},m.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(t,e){return this.play(t,e)},m.gotoAndStop=function(t,e){return this.pause(t,e)},m.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var r,o,a,s,u,l,h,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,v=this._startTime,_=this._timeScale,m=this._paused;if(t>=d-1e-7)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===i)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>i&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:i,t=d+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==i&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:i,0===t&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;t=0,this._initted||(u=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(r=this._first;r&&r._startTime<=t&&!l;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(l=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!l;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(l=r),r=r._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||n||u||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),h=this._time,h>=p)for(r=this._first;r&&(a=r._next,h===this._time&&(!this._paused||m));)(r._active||r._startTime<=h&&!r._paused&&!r._gc)&&(l===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=a;else for(r=this._last;r&&(a=r._prev,h===this._time&&(!this._paused||m));){if(r._active||r._startTime<=p&&!r._paused&&!r._gc){if(l===r){for(l=r._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,n),l=l._prev;l=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)}r=a}this._onUpdate&&(e||(c.length&&f(),this._callback("onUpdate"))),s&&(this._gc||v!==this._startTime&&_===this._timeScale||(0===this._time||d>=this.totalDuration())&&(o&&(c.length&&f(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},m._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},m.getChildren=function(t,e,r,i){i=i||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<i||(a instanceof n?e!==!1&&(o[s++]=a):(r!==!1&&(o[s++]=a),t!==!1&&(o=o.concat(a.getChildren(!0,e,r)),s=o.length))),a=a._next;return o},m.getTweensOf=function(t,e){var r,i,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),r=n.getTweensOf(t),i=r.length;--i>-1;)(r[i].timeline===this||e&&this._contains(r[i]))&&(a[s++]=r[i]);return o&&this._enabled(!1,!0),a},m.recent=function(){return this._recent},m._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},m.shiftChildren=function(t,e,n){n=n||0;for(var r,i=this._first,o=this._labels;i;)i._startTime>=n&&(i._startTime+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return this._uncache(!0)},m._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var n=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),r=n.length,i=!1;--r>-1;)n[r]._kill(t,e)&&(i=!0);return i},m.clear=function(t){var e=this.getChildren(!1,!0,!0),n=e.length;for(this._time=this._totalTime=0;--n>-1;)e[n]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},m._enabled=function(t,n){if(t===this._gc)for(var r=this._first;r;)r._enabled(t,!0),r=r._next;return e.prototype._enabled.call(this,t,n)},m.totalTime=function(e,n,r){this._forcingPlayhead=!0;var i=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,i},m.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,n,r=0,i=this._last,o=999999999999;i;)e=i._prev,i._dirty&&i.totalDuration(),i._startTime>o&&this._sortChildren&&!i._paused?this.add(i,i._startTime-i._delay):o=i._startTime,i._startTime<0&&!i._paused&&(r-=i._startTime,this._timeline.smoothChildTiming&&(this._startTime+=i._startTime/this._timeScale),this.shiftChildren(-i._startTime,!1,-9999999999),o=0),n=i._startTime+i._totalDuration/i._timeScale,n>r&&(r=n),i=e;this._duration=this._totalDuration=r,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},m.paused=function(e){if(!e)for(var n=this._first,r=this._time;n;)n._startTime===r&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return t.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},m.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),a._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,n){var r=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},i=1e-10,o=e._internals,s=o.lazyTweens,u=o.lazyRender,l=a._gsDefine.globals,c=new n(null,null,1,0),f=r.prototype=new t;return f.constructor=r,f.kill()._gc=!1,r.version="1.19.0",f.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},f.addCallback=function(t,n,r,i){return this.add(e.delayedCall(0,t,r,i),n)},f.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var n=this.getTweensOf(t,!1),r=n.length,i=this._parseTimeOrLabel(e);--r>-1;)n[r]._startTime===i&&n[r]._enabled(!1,!1);return this},f.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},f.tweenTo=function(t,n){n=n||{};var r,i,o,a={ease:c,useFrames:this.usesFrames(),immediateRender:!1},s=n.repeat&&l.TweenMax||e;for(i in n)a[i]=n[i];return a.time=this._parseTimeOrLabel(t),r=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new s(this,r,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&r===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),n.onStart&&o._callback("onStart")},o},f.tweenFromTo=function(t,e,n){n=n||{},t=this._parseTimeOrLabel(t),n.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},n.immediateRender=n.immediateRender!==!1;var r=this.tweenTo(e,n);return r.duration(Math.abs(r.vars.time-t)/this._timeScale||.001)},f.render=function(t,e,n){this._gc&&this._enabled(!0,!1);var r,o,a,l,c,f,h,d,p=this._dirty?this.totalDuration():this._totalDuration,v=this._duration,_=this._time,m=this._totalTime,y=this._startTime,g=this._timeScale,b=this._rawPrevTime,x=this._paused,w=this._cycle;if(t>=p-1e-7)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,l="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||b<0||b===i)&&b!==t&&this._first&&(c=!0,b>i&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:i,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=v,t=v+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==_||0===v&&b!==i&&(b>0||t<0&&b>=0)&&!this._locked)&&(l="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=o=!0,l="onReverseComplete"):b>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=v||!e||t||this._rawPrevTime===t?t:i,0===t&&o)for(r=this._first;r&&0===r._startTime;)r._duration||(o=!1),r=r._next;t=0,this._initted||(c=!0)}else if(0===v&&b<0&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(f=v+this._repeatDelay,this._cycle=this._totalTime/f>>0,0!==this._cycle&&this._cycle===this._totalTime/f&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*f,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?(this._time=v,t=v+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=_)for(r=this._first;r&&r._startTime<=t&&!h;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(h=r),r=r._next;else for(r=this._last;r&&r._startTime>=t&&!h;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(h=r),r=r._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var M=this._yoyo&&0!==(1&w),T=M===(this._yoyo&&0!==(1&this._cycle)),P=this._totalTime,S=this._cycle,E=this._rawPrevTime,O=this._time;
if(this._totalTime=w*v,this._cycle<w?M=!M:this._totalTime+=v,this._time=_,this._rawPrevTime=0===v?b-1e-4:b,this._cycle=w,this._locked=!0,_=M?0:v,this.render(_,e,0===v),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),_!==this._time)return;if(T&&(_=M?v+1e-4:-1e-4,this.render(_,!0,!1)),this._locked=!1,this._paused&&!x)return;this._time=O,this._totalTime=P,this._cycle=S,this._rawPrevTime=E}if(!(this._time!==_&&this._first||n||c||h))return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),d=this._time,d>=_)for(r=this._first;r&&(a=r._next,d===this._time&&(!this._paused||x));)(r._active||r._startTime<=this._time&&!r._paused&&!r._gc)&&(h===r&&this.pause(),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)),r=a;else for(r=this._last;r&&(a=r._prev,d===this._time&&(!this._paused||x));){if(r._active||r._startTime<=_&&!r._paused&&!r._gc){if(h===r){for(h=r._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,n),h=h._prev;h=null,this.pause()}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,n):r.render((t-r._startTime)*r._timeScale,e,n)}r=a}this._onUpdate&&(e||(s.length&&u(),this._callback("onUpdate"))),l&&(this._locked||this._gc||y!==this._startTime&&g===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(s.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))},f.getActive=function(t,e,n){null==t&&(t=!0),null==e&&(e=!0),null==n&&(n=!1);var r,i,o=[],a=this.getChildren(t,e,n),s=0,u=a.length;for(r=0;r<u;r++)i=a[r],i.isActive()&&(o[s++]=i);return o},f.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,n=this.getLabelsArray(),r=n.length;for(e=0;e<r;e++)if(n[e].time>t)return n[e].name;return null},f.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),n=e.length;--n>-1;)if(e[n].time<t)return e[n].name;return null},f.getLabelsArray=function(){var t,e=[],n=0;for(t in this._labels)e[n++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},f.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},f.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},f.totalDuration=function(e){return arguments.length?this._repeat!==-1&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},f.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},f.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},f.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},f.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},f.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var t=180/Math.PI,e=[],n=[],r=[],i={},o=a._gsDefine.globals,s=function(t,e,n,r){n===r&&(n=r-(r-e)/1e6),t===e&&(e=t+(n-t)/1e6),this.a=t,this.b=e,this.c=n,this.d=r,this.da=r-t,this.ca=n-t,this.ba=e-t},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(t,e,n,r){var i={a:t},o={},a={},s={c:r},u=(t+e)/2,l=(e+n)/2,c=(n+r)/2,f=(u+l)/2,h=(l+c)/2,d=(h-f)/8;return i.b=u+(t-u)/4,o.b=f+d,i.c=o.a=(i.b+o.b)/2,o.c=a.a=(f+h)/2,a.b=h-d,s.b=c+(r-c)/4,a.c=s.a=(a.b+s.b)/2,[i,o,a,s]},c=function(t,i,o,a,s){var u,c,f,h,d,p,v,_,m,y,g,b,x,w=t.length-1,M=0,T=t[0].a;for(u=0;u<w;u++)d=t[M],c=d.a,f=d.d,h=t[M+1].d,s?(g=e[u],b=n[u],x=(b+g)*i*.25/(a?.5:r[u]||.5),p=f-(f-c)*(a?.5*i:0!==g?x/g:0),v=f+(h-f)*(a?.5*i:0!==b?x/b:0),_=f-(p+((v-p)*(3*g/(g+b)+.5)/4||0))):(p=f-(f-c)*i*.5,v=f+(h-f)*i*.5,_=f-(p+v)/2),p+=_,v+=_,d.c=m=p,0!==u?d.b=T:d.b=T=d.a+.6*(d.c-d.a),d.da=f-c,d.ca=m-c,d.ba=T-c,o?(y=l(c,T,m,f),t.splice(M,1,y[0],y[1],y[2],y[3]),M+=4):M++,T=v;d=t[M],d.b=T,d.c=T+.4*(d.d-T),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=T-d.a,o&&(y=l(d.a,T,d.c,d.d),t.splice(M,1,y[0],y[1],y[2],y[3]))},f=function(t,r,i,o){var a,u,l,c,f,h,d=[];if(o)for(t=[o].concat(t),u=t.length;--u>-1;)"string"==typeof(h=t[u][r])&&"="===h.charAt(1)&&(t[u][r]=o[r]+Number(h.charAt(0)+h.substr(2)));if(a=t.length-2,a<0)return d[0]=new s(t[0][r],0,0,t[a<-1?0:1][r]),d;for(u=0;u<a;u++)l=t[u][r],c=t[u+1][r],d[u]=new s(l,0,0,c),i&&(f=t[u+2][r],e[u]=(e[u]||0)+(c-l)*(c-l),n[u]=(n[u]||0)+(f-c)*(f-c));return d[u]=new s(t[u][r],0,0,t[u+1][r]),d},h=function(t,o,a,s,l,h){var d,p,v,_,m,y,g,b,x={},w=[],M=h||t[0];l="string"==typeof l?","+l+",":u,null==o&&(o=1);for(p in t[0])w.push(p);if(t.length>1){for(b=t[t.length-1],g=!0,d=w.length;--d>-1;)if(p=w[d],Math.abs(M[p]-b[p])>.05){g=!1;break}g&&(t=t.concat(),h&&t.unshift(h),t.push(t[1]),h=t[t.length-3])}for(e.length=n.length=r.length=0,d=w.length;--d>-1;)p=w[d],i[p]=l.indexOf(","+p+",")!==-1,x[p]=f(t,p,i[p],h);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),n[d]=Math.sqrt(n[d]);if(!s){for(d=w.length;--d>-1;)if(i[p])for(v=x[w[d]],y=v.length-1,_=0;_<y;_++)m=v[_+1].da/n[_]+v[_].da/e[_]||0,r[_]=(r[_]||0)+m*m;for(d=r.length;--d>-1;)r[d]=Math.sqrt(r[d])}for(d=w.length,_=a?4:1;--d>-1;)p=w[d],v=x[p],c(v,o,a,s,i[p]),g&&(v.splice(0,_),v.splice(v.length-_,_));return x},d=function(t,e,n){e=e||"soft";var r,i,o,a,u,l,c,f,h,d,p,v={},_="cubic"===e?3:2,m="soft"===e,y=[];if(m&&n&&(t=[n].concat(t)),null==t||t.length<_+1)throw"invalid Bezier data";for(h in t[0])y.push(h);for(l=y.length;--l>-1;){for(h=y[l],v[h]=u=[],d=0,f=t.length,c=0;c<f;c++)r=null==n?t[c][h]:"string"==typeof(p=t[c][h])&&"="===p.charAt(1)?n[h]+Number(p.charAt(0)+p.substr(2)):Number(p),m&&c>1&&c<f-1&&(u[d++]=(r+u[d-2])/2),u[d++]=r;for(f=d-_+1,d=0,c=0;c<f;c+=_)r=u[c],i=u[c+1],o=u[c+2],a=2===_?0:u[c+3],u[d++]=p=3===_?new s(r,i,o,a):new s(r,(2*i+r)/3,(2*i+o)/3,o);u.length=d}return v},p=function(t,e,n){for(var r,i,o,a,s,u,l,c,f,h,d,p=1/n,v=t.length;--v>-1;)for(h=t[v],o=h.a,a=h.d-o,s=h.c-o,u=h.b-o,r=i=0,c=1;c<=n;c++)l=p*c,f=1-l,r=i-(i=(l*l*a+3*f*(l*s+f*u))*l),d=v*n+c-1,e[d]=(e[d]||0)+r*r},v=function(t,e){e=e>>0||6;var n,r,i,o,a=[],s=[],u=0,l=0,c=e-1,f=[],h=[];for(n in t)p(t[n],a,e);for(i=a.length,r=0;r<i;r++)u+=Math.sqrt(a[r]),o=r%e,h[o]=u,o===c&&(l+=u,o=r/e>>0,f[o]=h,s[o]=l,u=0,h=[]);return{length:l,lengths:s,segments:f}},_=a._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(t,e,n){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var r,i,o,a,s,u=e.values||[],l={},c=u[0],f=e.autoRotate||n.vars.orientToBezier;this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",f===!0?0:Number(f)||0]]:null;for(r in c)this._props.push(r);for(o=this._props.length;--o>-1;)r=this._props[o],this._overwriteProps.push(r),i=this._func[r]="function"==typeof t[r],l[r]=i?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),s||l[r]!==u[0][r]&&(s=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?h(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):d(u,e.type,l),this._segCount=this._beziers[r].length,this._timeRes){var p=v(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),o=f.length;--o>-1;){for(a=0;a<3;a++)r=f[o][a],this._func[r]="function"==typeof t[r]&&t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)];r=f[o][2],this._initialRotations[o]=(this._func[r]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(e){var n,r,i,o,a,s,u,l,c,f,h=this._segCount,d=this._func,p=this._target,v=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,f=this._curSeg,e*=this._length,i=this._li,e>this._l2&&i<h-1){for(l=h-1;i<l&&(this._l2=c[++i])<=e;);this._l1=c[i-1],this._li=i,this._curSeg=f=this._segments[i],this._s2=f[this._s1=this._si=0]}else if(e<this._l1&&i>0){for(;i>0&&(this._l1=c[--i])>=e;);0===i&&e<this._l1?this._l1=0:i++,this._l2=c[i],this._li=i,this._curSeg=f=this._segments[i],this._s1=f[(this._si=f.length-1)-1]||0,this._s2=f[this._si]}if(n=i,e-=this._l1,i=this._si,e>this._s2&&i<f.length-1){for(l=f.length-1;i<l&&(this._s2=f[++i])<=e;);this._s1=f[i-1],this._si=i}else if(e<this._s1&&i>0){for(;i>0&&(this._s1=f[--i])>=e;);0===i&&e<this._s1?this._s1=0:i++,this._s2=f[i],this._si=i}s=(i+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else n=e<0?0:e>=1?h-1:h*e>>0,s=(e-n*(1/h))*h;for(r=1-s,i=this._props.length;--i>-1;)o=this._props[i],a=this._beziers[o][n],u=(s*s*a.da+3*r*(s*a.ca+r*a.ba))*s+a.a,this._mod[o]&&(u=this._mod[o](u,p)),d[o]?p[o](u):p[o]=u;if(this._autoRotate){var _,m,y,g,b,x,w,M=this._autoRotate;for(i=M.length;--i>-1;)o=M[i][2],x=M[i][3]||0,w=M[i][4]===!0?1:t,a=this._beziers[M[i][0]],_=this._beziers[M[i][1]],a&&_&&(a=a[n],_=_[n],m=a.a+(a.b-a.a)*s,g=a.b+(a.c-a.b)*s,m+=(g-m)*s,g+=(a.c+(a.d-a.c)*s-g)*s,y=_.a+(_.b-_.a)*s,b=_.b+(_.c-_.b)*s,y+=(b-y)*s,b+=(_.c+(_.d-_.c)*s-b)*s,u=v?Math.atan2(b-y,g-m)*w+x:this._initialRotations[i],this._mod[o]&&(u=this._mod[o](u,p)),d[o]?p[o](u):p[o]=u)}}}),m=_.prototype;_.bezierThrough=h,_.cubicToQuadratic=l,_._autoCSS=!0,_.quadraticToCubic=function(t,e,n){return new s(t,(2*e+t)/3,(2*e+n)/3,n)},_._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,n=e._parseToProxy,r=e._setPluginRatio,i=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,s,u){e instanceof Array&&(e={values:e}),u=new _;var l,c,f,h=e.values,d=h.length-1,p=[],v={};if(d<0)return s;for(l=0;l<=d;l++)f=n(t,h[l],a,s,u,d!==l),p[l]=f.end;for(c in e)v[c]=e[c];return v.values=p,s=new i(t,"bezier",0,0,f.pt,2),s.data=f,s.plugin=u,s.setRatio=r,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(l=v.autoRotate===!0?0:Number(v.autoRotate),v.autoRotate=null!=f.end.left?[["left","top","rotation",l,!1]]:null!=f.end.x&&[["x","y","rotation",l,!1]]),v.autoRotate&&(a._transform||a._enableTransforms(!1),f.autoRotate=a._target._gsTransform,f.proxy.rotation=f.autoRotate.rotation||0,a._overwriteProps.push("rotation")),u._onInitTween(f.proxy,v,a._tween),s}})}},m._mod=function(t){for(var e,n=this._overwriteProps,r=n.length;--r>-1;)e=t[n[r]],e&&"function"==typeof e&&(this._mod[n[r]]=e)},m._kill=function(t){var e,n,r=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],n=r.length;--n>-1;)r[n]===e&&r.splice(n,1);if(r=this._autoRotate)for(n=r.length;--n>-1;)t[r[n][2]]&&r.splice(n,1);return this._super._kill.call(this,t)}}(),a._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var n,r,i,o,s=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},u=a._gsDefine.globals,l={},c=s.prototype=new t("css");c.constructor=s,s.version="1.19.0",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,c="px",s.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var f,h,d,p,v,_,m,y,g=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,M=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,P=/opacity:([^;]*)/i,S=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,O=/([A-Z])/g,R=/-([a-z])/gi,k=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(t,e){return e.toUpperCase()},C=/(?:Left|Right|Width)/i,D=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,I=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,F=/[\s,\(]/i,j=Math.PI/180,N=180/Math.PI,z={},U=document,B=function(t){return U.createElementNS?U.createElementNS("http://www.w3.org/1999/xhtml",t):U.createElement(t)},V=B("div"),H=B("img"),X=s._internals={_specialProps:l},q=navigator.userAgent,G=function(){var t=q.indexOf("Android"),e=B("a");return d=q.indexOf("Safari")!==-1&&q.indexOf("Chrome")===-1&&(t===-1||Number(q.substr(t+8,1))>3),v=d&&Number(q.substr(q.indexOf("Version/")+8,1))<6,p=q.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q))&&(_=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),Y=function(t){return T.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(t){window.console&&console.log(t)},Z="",Q="",$=function(t,e){e=e||V;var n,r,i=e.style;if(void 0!==i[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),n=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===i[n[r]+t];);return r>=0?(Q=3===r?"ms":n[r],Z="-"+Q.toLowerCase()+"-",Q+t):null},K=U.defaultView?U.defaultView.getComputedStyle:function(){},J=s.getStyle=function(t,e,n,r,i){var o;return G||"opacity"!==e?(!r&&t.style[e]?o=t.style[e]:(n=n||K(t))?o=n[e]||n.getPropertyValue(e)||n.getPropertyValue(e.replace(O,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==i||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:i):Y(t)},tt=X.convertToPixels=function(t,n,r,i,o){if("px"===i||!i)return r;if("auto"===i||!r)return 0;var a,u,l,c=C.test(n),f=t,h=V.style,d=r<0,p=1===r;if(d&&(r=-r),p&&(r*=100),"%"===i&&n.indexOf("border")!==-1)a=r/100*(c?t.clientWidth:t.clientHeight);else{if(h.cssText="border:0 solid red;position:"+J(t,"position")+";line-height:0;","%"!==i&&f.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)h[c?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(f=t.parentNode||U.body,u=f._gsCache,l=e.ticker.frame,u&&c&&u.time===l)return u.width*r/100;h[c?"width":"height"]=r+i}f.appendChild(V),a=parseFloat(V[c?"offsetWidth":"offsetHeight"]),f.removeChild(V),c&&"%"===i&&s.cacheWidths!==!1&&(u=f._gsCache=f._gsCache||{},u.time=l,u.width=a/r*100),0!==a||o||(a=tt(t,n,r,i,!0))}return p&&(a/=100),d?-a:a},et=X.calculateOffset=function(t,e,n){if("absolute"!==J(t,"position",n))return 0;var r="left"===e?"Left":"Top",i=J(t,"margin"+r,n);return t["offset"+r]-(tt(t,e,parseFloat(i),i.replace(M,""))||0)},nt=function(t,e){var n,r,i,o={};if(e=e||K(t,null))if(n=e.length)for(;--n>-1;)i=e[n],i.indexOf("-transform")!==-1&&Rt!==i||(o[i.replace(R,A)]=e.getPropertyValue(i));else for(n in e)n.indexOf("Transform")!==-1&&Ot!==n||(o[n]=e[n]);else if(e=t.currentStyle||t.style)for(n in e)"string"==typeof n&&void 0===o[n]&&(o[n.replace(R,A)]=e[n]);return G||(o.opacity=Y(t)),r=Vt(t,e,!1),o.rotation=r.rotation,o.skewX=r.skewX,o.scaleX=r.scaleX,o.scaleY=r.scaleY,o.x=r.x,o.y=r.y,At&&(o.z=r.z,o.rotationX=r.rotationX,o.rotationY=r.rotationY,o.scaleZ=r.scaleZ),o.filters&&delete o.filters,o},rt=function(t,e,n,r,i){var o,a,s,u={},l=t.style;for(a in n)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=n[a])||i&&i[a])&&a.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(u[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(w,"")?o:0:et(t,a),void 0!==l[a]&&(s=new yt(l,a,l[a],s))));if(r)for(a in r)"className"!==a&&(u[a]=r[a]);return{difs:u,firstMPT:s}},it={width:["Left","Right"],height:["Top","Bottom"]},ot=["marginLeft","marginRight","marginTop","marginBottom"],at=function(t,e,n){if("svg"===(t.nodeName+"").toLowerCase())return(n||K(t))[e]||0;if(t.getBBox&&zt(t))return t.getBBox()[e]||0;var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),i=it[e],o=i.length;for(n=n||K(t,null);--o>-1;)r-=parseFloat(J(t,"padding"+i[o],n,!0))||0,r-=parseFloat(J(t,"border"+i[o]+"Width",n,!0))||0;return r},st=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var n,r=t.split(" "),i=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":r[0],o=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":r[1];if(r.length>3&&!e){for(r=t.split(", ").join(",").split(","),t=[],n=0;n<r.length;n++)t.push(st(r[n]));return t.join(",")}return null==o?o="center"===i?"50%":"0":"center"===o&&(o="50%"),("center"===i||isNaN(parseFloat(i))&&(i+"").indexOf("=")===-1)&&(i="50%"),t=i+" "+o+(r.length>2?" "+r[2]:""),e&&(e.oxp=i.indexOf("%")!==-1,e.oyp=o.indexOf("%")!==-1,e.oxr="="===i.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(i.replace(w,"")),e.oy=parseFloat(o.replace(w,"")),e.v=t),e||t},ut=function(t,e){return"function"==typeof t&&(t=t(y,m)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},lt=function(t,e){return"function"==typeof t&&(t=t(y,m)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ct=function(t,e,n,r){var i,o,a,s,u,l=1e-6;return"function"==typeof t&&(t=t(y,m)),null==t?s=e:"number"==typeof t?s=t:(i=360,o=t.split("_"),u="="===t.charAt(1),a=(u?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(t.indexOf("rad")===-1?1:N)-(u?0:e),o.length&&(r&&(r[n]=e+a),t.indexOf("short")!==-1&&(a%=i,a!==a%(i/2)&&(a=a<0?a+i:a-i)),t.indexOf("_cw")!==-1&&a<0?a=(a+9999999999*i)%i-(a/i|0)*i:t.indexOf("ccw")!==-1&&a>0&&(a=(a-9999999999*i)%i-(a/i|0)*i)),s=e+a),s<l&&s>-l&&(s=0),s},ft={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,n){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},dt=s.parseColor=function(t,e){var n,r,i,o,a,s,u,l,c,f,h;if(t)if("number"==typeof t)n=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ft[t])n=ft[t];else if("#"===t.charAt(0))4===t.length&&(r=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+r+r+i+i+o+o),t=parseInt(t.substr(1),16),n=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(n=h=t.match(g),e){if(t.indexOf("=")!==-1)return t.match(b)}else a=Number(n[0])%360/360,s=Number(n[1])/100,u=Number(n[2])/100,i=u<=.5?u*(s+1):u+s-u*s,r=2*u-i,n.length>3&&(n[3]=Number(t[3])),n[0]=ht(a+1/3,r,i),n[1]=ht(a,r,i),n[2]=ht(a-1/3,r,i);else n=t.match(g)||ft.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=ft.black;return e&&!h&&(r=n[0]/255,i=n[1]/255,o=n[2]/255,l=Math.max(r,i,o),c=Math.min(r,i,o),u=(l+c)/2,l===c?a=s=0:(f=l-c,s=u>.5?f/(2-l-c):f/(l+c),a=l===r?(i-o)/f+(i<o?6:0):l===i?(o-r)/f+2:(r-i)/f+4,a*=60),n[0]=a+.5|0,n[1]=100*s+.5|0,n[2]=100*u+.5|0),n},pt=function(t,e){var n,r,i,o=t.match(vt)||[],a=0,s=o.length?"":t;for(n=0;n<o.length;n++)r=o[n],i=t.substr(a,t.indexOf(r,a)-a),a+=i.length+r.length,r=dt(r,e),3===r.length&&r.push(1),s+=i+(e?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return s+t.substr(a)},vt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ft)vt+="|"+c+"\\b";vt=new RegExp(vt+")","gi"),s.colorStringFilter=function(t){var e,n=t[0]+t[1];vt.test(n)&&(e=n.indexOf("hsl(")!==-1||n.indexOf("hsla(")!==-1,t[0]=pt(t[0],e),t[1]=pt(t[1],e)),vt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=s.colorStringFilter);var _t=function(t,e,n,r){if(null==t)return function(t){return t};var i,o=e?(t.match(vt)||[""])[0]:"",a=t.split(o).join("").match(x)||[],s=t.substr(0,t.indexOf(a[0])),u=")"===t.charAt(t.length-1)?")":"",l=t.indexOf(" ")!==-1?" ":",",c=a.length,f=c>0?a[0].replace(g,""):"";return c?i=e?function(t){var e,h,d,p;if("number"==typeof t)t+=f;else if(r&&L.test(t)){for(p=t.replace(L,"|").split("|"),d=0;d<p.length;d++)p[d]=i(p[d]);return p.join(",")}if(e=(t.match(vt)||[o])[0],h=t.split(e).join("").match(x)||[],d=h.length,c>d--)for(;++d<c;)h[d]=n?h[(d-1)/2|0]:a[d];return s+h.join(l)+l+e+u+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,o,h;if("number"==typeof t)t+=f;else if(r&&L.test(t)){for(o=t.replace(L,"|").split("|"),h=0;h<o.length;h++)o[h]=i(o[h]);return o.join(",")}if(e=t.match(x)||[],h=e.length,c>h--)for(;++h<c;)e[h]=n?e[(h-1)/2|0]:a[h];return s+e.join(l)+u}:function(t){return t}},mt=function(t){return t=t.split(","),function(e,n,r,i,o,a,s){var u,l=(n+"").split(" ");for(s={},u=0;u<4;u++)s[t[u]]=l[u]=l[u]||l[(u-1)/2>>0];return i.parse(e,s,o,a)}},yt=(X._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,n,r,i,o,a=this.data,s=a.proxy,u=a.firstMPT,l=1e-6;u;)e=s[u.v],u.r?e=Math.round(e):e<l&&e>-l&&(e=0),u.t[u.p]=e,u=u._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===t||0===t)for(u=a.firstMPT,o=1===t?"e":"b";u;){if(n=u.t,n.type){if(1===n.type){for(i=n.xs0+n.s+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n[o]=i}}else n[o]=n.s+n.xs0;u=u._next}},function(t,e,n,r,i){this.t=t,this.p=e,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)}),gt=(X._parseToProxy=function(t,e,n,r,i,o){var a,s,u,l,c,f=r,h={},d={},p=n._transform,v=z;for(n._transform=null,z=e,r=c=n.parse(t,e,r,i),z=v,o&&(n._transform=p,f&&(f._prev=null,f._prev&&(f._prev._next=null)));r&&r!==f;){if(r.type<=1&&(s=r.p,d[s]=r.s+r.c,h[s]=r.s,o||(l=new yt(r,"s",s,l,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)u="xn"+a,s=r.p+"_"+u,d[s]=r.data[u],h[s]=r[u],o||(l=new yt(r,u,s,l,r.rxp[u]));r=r._next}return{proxy:h,end:d,firstMPT:l,pt:c}},X.CSSPropTween=function(t,e,r,i,a,s,u,l,c,f,h){this.t=t,this.p=e,this.s=r,this.c=i,this.n=u||e,t instanceof gt||o.push(this.n),this.r=l,this.type=s||0,c&&(this.pr=c,n=!0),this.b=void 0===f?r:f,this.e=void 0===h?r+i:h,a&&(this._next=a,a._prev=this)}),bt=function(t,e,n,r,i,o){var a=new gt(t,e,n,r-n,i,(-1),o);return a.b=n,a.e=a.xs0=r,a},xt=s.parseComplex=function(t,e,n,r,i,o,a,u,l,c){n=n||o||"","function"==typeof r&&(r=r(y,m)),a=new gt(t,e,0,0,a,c?2:1,null,(!1),u,n,r),r+="",i&&vt.test(r+n)&&(r=[n,r],s.colorStringFilter(r),n=r[0],r=r[1]);var h,d,p,v,_,x,w,M,T,P,S,E,O,R=n.split(", ").join(",").split(" "),k=r.split(", ").join(",").split(" "),A=R.length,C=f!==!1;for(r.indexOf(",")===-1&&n.indexOf(",")===-1||(R=R.join(" ").replace(L,", ").split(" "),k=k.join(" ").replace(L,", ").split(" "),A=R.length),A!==k.length&&(R=(o||"").split(" "),A=R.length),a.plugin=l,a.setRatio=c,vt.lastIndex=0,h=0;h<A;h++)if(v=R[h],_=k[h],M=parseFloat(v),M||0===M)a.appendXtra("",M,ut(_,M),_.replace(b,""),C&&_.indexOf("px")!==-1,!0);else if(i&&vt.test(v))E=_.indexOf(")")+1,E=")"+(E?_.substr(E):""),O=_.indexOf("hsl")!==-1&&G,v=dt(v,O),_=dt(_,O),T=v.length+_.length>6,T&&!G&&0===_[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(k[h]).join("transparent")):(G||(T=!1),O?a.appendXtra(T?"hsla(":"hsl(",v[0],ut(_[0],v[0]),",",!1,!0).appendXtra("",v[1],ut(_[1],v[1]),"%,",!1).appendXtra("",v[2],ut(_[2],v[2]),T?"%,":"%"+E,!1):a.appendXtra(T?"rgba(":"rgb(",v[0],_[0]-v[0],",",!0,!0).appendXtra("",v[1],_[1]-v[1],",",!0).appendXtra("",v[2],_[2]-v[2],T?",":E,!0),T&&(v=v.length<4?1:v[3],a.appendXtra("",v,(_.length<4?1:_[3])-v,E,!1))),vt.lastIndex=0;else if(x=v.match(g)){if(w=_.match(b),!w||w.length!==x.length)return a;for(p=0,d=0;d<x.length;d++)S=x[d],P=v.indexOf(S,p),a.appendXtra(v.substr(p,P-p),Number(S),ut(w[d],S),"",C&&"px"===v.substr(P+S.length,2),0===d),p=P+S.length;a["xs"+a.l]+=v.substr(p)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+_:_;if(r.indexOf("=")!==-1&&a.data){for(E=a.xs0+a.data.s,h=1;h<a.l;h++)E+=a["xs"+h]+a.data["xn"+h];a.e=E+a["xs"+h]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},wt=9;for(c=gt.prototype,c.l=c.pr=0;--wt>0;)c["xn"+wt]=0,c["xs"+wt]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,n,r,i,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+t:t||"",n||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",s>0?(a.data["xn"+s]=e+n,a.rxp["xn"+s]=i,a["xn"+s]=e,a.plugin||(a.xfirst=new gt(a,"xn"+s,e,n,a.xfirst||a,0,a.n,i,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+n},a.rxp={},a.s=e,a.c=n,a.r=i,a)):(a["xs"+s]+=e+(r||""),a)};var Mt=function(t,e){e=e||{},this.p=e.prefix?$(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||_t(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Tt=X._registerComplexSpecialProp=function(t,e,n){"object"!=typeof e&&(e={parser:n});var r,i,o=t.split(","),a=e.defaultValue;for(n=n||[a],r=0;r<o.length;r++)e.prefix=0===r&&e.prefix,e.defaultValue=n[r]||a,i=new Mt(o[r],e)},Pt=X._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Tt(t,{parser:function(t,n,r,i,o,a,s){var c=u.com.greensock.plugins[e];return c?(c._cssRegister(),l[r].parse(t,n,r,i,o,a,s)):(W("Error: "+e+" js file not loaded."),o)}})}};c=Mt.prototype,c.parseComplex=function(t,e,n,r,i,o){var a,s,u,l,c,f,h=this.keyword;if(this.multi&&(L.test(n)||L.test(e)?(s=e.replace(L,"|").split("|"),u=n.replace(L,"|").split("|")):h&&(s=[e],u=[n])),u){for(l=u.length>s.length?u.length:s.length,a=0;a<l;a++)e=s[a]=s[a]||this.dflt,n=u[a]=u[a]||this.dflt,h&&(c=e.indexOf(h),f=n.indexOf(h),c!==f&&(f===-1?s[a]=s[a].split(h).join(""):c===-1&&(s[a]+=" "+h)));e=s.join(", "),n=u.join(", ")}return xt(t,this.p,e,n,this.clrs,this.dflt,r,this.pr,i,o)},c.parse=function(t,e,n,r,o,a,s){return this.parseComplex(t.style,this.format(J(t,this.p,i,!1,this.dflt)),this.format(e),o,a)},s.registerSpecialProp=function(t,e,n){Tt(t,{parser:function(t,r,i,o,a,s,u){var l=new gt(t,i,0,0,a,2,i,(!1),n);return l.plugin=s,l.setRatio=e(t,r,o._tween,i),l},priority:n})},s.useSVGTransformAttr=d||p;var St,Et="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ot=$("transform"),Rt=Z+"transform",kt=$("transformOrigin"),At=null!==$("perspective"),Ct=X.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(s.defaultForce3D===!1||!At)&&(s.defaultForce3D||"auto")},Dt=window.SVGElement,It=function(t,e,n){var r,i=U.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(r in n)i.setAttributeNS(null,r.replace(o,"$1-$2").toLowerCase(),n[r]);return e.appendChild(i),i},Lt=U.documentElement,Ft=function(){var t,e,n,r=_||/Android/i.test(q)&&!window.chrome;return U.createElementNS&&!r&&(t=It("svg",Lt),e=It("rect",t,{width:100,height:50,x:100}),n=e.getBoundingClientRect().width,e.style[kt]="50% 50%",e.style[Ot]="scaleX(0.5)",r=n===e.getBoundingClientRect().width&&!(p&&At),Lt.removeChild(t)),r}(),jt=function(t,e,n,r,i,o){var a,u,l,c,f,h,d,p,v,_,m,y,g,b,x=t._gsTransform,w=Bt(t,!0);x&&(g=x.xOrigin,b=x.yOrigin),(!r||(a=r.split(" ")).length<2)&&(d=t.getBBox(),e=st(e).split(" "),a=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*d.width:parseFloat(e[0]))+d.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*d.height:parseFloat(e[1]))+d.y]),n.xOrigin=c=parseFloat(a[0]),n.yOrigin=f=parseFloat(a[1]),r&&w!==Ut&&(h=w[0],d=w[1],p=w[2],v=w[3],_=w[4],m=w[5],y=h*v-d*p,u=c*(v/y)+f*(-p/y)+(p*m-v*_)/y,l=c*(-d/y)+f*(h/y)-(h*m-d*_)/y,c=n.xOrigin=a[0]=u,f=n.yOrigin=a[1]=l),x&&(o&&(n.xOffset=x.xOffset,n.yOffset=x.yOffset,x=n),i||i!==!1&&s.defaultSmoothOrigin!==!1?(u=c-g,l=f-b,x.xOffset+=u*w[0]+l*w[2]-u,x.yOffset+=u*w[1]+l*w[3]-l):x.xOffset=x.yOffset=0),o||t.setAttribute("data-svg-origin",a.join(" "))},Nt=function(t){try{return t.getBBox()}catch(t){}},zt=function(t){return!!(Dt&&t.getBBox&&t.getCTM&&Nt(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Ut=[1,0,0,1,0,0],Bt=function(t,e){var n,r,i,o,a,s,u=t._gsTransform||new Ct,l=1e5,c=t.style;if(Ot?r=J(t,Rt,null,!0):t.currentStyle&&(r=t.currentStyle.filter.match(D),r=r&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),u.x||0,u.y||0].join(","):""),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,n&&Ot&&((s="none"===K(t).display)||!t.parentNode)&&(s&&(o=c.display,c.display="block"),t.parentNode||(a=1,Lt.appendChild(t)),r=J(t,Rt,null,!0),n=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,o?c.display=o:s&&Gt(c,"display"),a&&Lt.removeChild(t)),(u.svg||t.getBBox&&zt(t))&&(n&&(c[Ot]+"").indexOf("matrix")!==-1&&(r=c[Ot],n=0),i=t.getAttribute("transform"),n&&i&&(i.indexOf("matrix")!==-1?(r=i,n=0):i.indexOf("translate")!==-1&&(r="matrix(1,0,0,1,"+i.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return Ut;for(i=(r||"").match(g)||[],wt=i.length;--wt>-1;)o=Number(i[wt]),i[wt]=(a=o-(o|=0))?(a*l+(a<0?-.5:.5)|0)/l+o:o;return e&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i},Vt=X.getTransform=function(t,n,r,i){if(t._gsTransform&&r&&!i)return t._gsTransform;var o,a,u,l,c,f,h=r?t._gsTransform||new Ct:new Ct,d=h.scaleX<0,p=2e-5,v=1e5,_=At?parseFloat(J(t,kt,n,!1,"0 0 0").split(" ")[2])||h.zOrigin||0:0,m=parseFloat(s.defaultTransformPerspective)||0;if(h.svg=!(!t.getBBox||!zt(t)),h.svg&&(jt(t,J(t,kt,n,!1,"50% 50%")+"",h,t.getAttribute("data-svg-origin")),St=s.useSVGTransformAttr||Ft),o=Bt(t),o!==Ut){if(16===o.length){var y,g,b,x,w,M=o[0],T=o[1],P=o[2],S=o[3],E=o[4],O=o[5],R=o[6],k=o[7],A=o[8],C=o[9],D=o[10],I=o[12],L=o[13],F=o[14],j=o[11],z=Math.atan2(R,D);h.zOrigin&&(F=-h.zOrigin,I=A*F-o[12],L=C*F-o[13],F=D*F+h.zOrigin-o[14]),h.rotationX=z*N,z&&(x=Math.cos(-z),w=Math.sin(-z),y=E*x+A*w,g=O*x+C*w,b=R*x+D*w,A=E*-w+A*x,C=O*-w+C*x,D=R*-w+D*x,j=k*-w+j*x,E=y,O=g,R=b),z=Math.atan2(-P,D),h.rotationY=z*N,z&&(x=Math.cos(-z),w=Math.sin(-z),y=M*x-A*w,g=T*x-C*w,b=P*x-D*w,C=T*w+C*x,D=P*w+D*x,j=S*w+j*x,M=y,T=g,P=b),z=Math.atan2(T,M),h.rotation=z*N,z&&(x=Math.cos(-z),w=Math.sin(-z),M=M*x+E*w,g=T*x+O*w,O=T*-w+O*x,R=P*-w+R*x,T=g),h.rotationX&&Math.abs(h.rotationX)+Math.abs(h.rotation)>359.9&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),h.scaleX=(Math.sqrt(M*M+T*T)*v+.5|0)/v,h.scaleY=(Math.sqrt(O*O+C*C)*v+.5|0)/v,h.scaleZ=(Math.sqrt(R*R+D*D)*v+.5|0)/v,h.rotationX||h.rotationY?h.skewX=0:(h.skewX=E||O?Math.atan2(E,O)*N+h.rotation:h.skewX||0,Math.abs(h.skewX)>90&&Math.abs(h.skewX)<270&&(d?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180))),h.perspective=j?1/(j<0?-j:j):0,h.x=I,h.y=L,h.z=F,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*M-h.yOrigin*E),h.y-=h.yOrigin-(h.yOrigin*T-h.xOrigin*O))}else if(!At||i||!o.length||h.x!==o[4]||h.y!==o[5]||!h.rotationX&&!h.rotationY){var U=o.length>=6,B=U?o[0]:1,V=o[1]||0,H=o[2]||0,X=U?o[3]:1;h.x=o[4]||0,h.y=o[5]||0,u=Math.sqrt(B*B+V*V),l=Math.sqrt(X*X+H*H),c=B||V?Math.atan2(V,B)*N:h.rotation||0,f=H||X?Math.atan2(H,X)*N+c:h.skewX||0,Math.abs(f)>90&&Math.abs(f)<270&&(d?(u*=-1,f+=c<=0?180:-180,c+=c<=0?180:-180):(l*=-1,f+=f<=0?180:-180)),h.scaleX=u,h.scaleY=l,h.rotation=c,h.skewX=f,At&&(h.rotationX=h.rotationY=h.z=0,h.perspective=m,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*B+h.yOrigin*H),h.y-=h.yOrigin-(h.xOrigin*V+h.yOrigin*X))}h.zOrigin=_;for(a in h)h[a]<p&&h[a]>-p&&(h[a]=0)}return r&&(t._gsTransform=h,h.svg&&(St&&t.style[Ot]?e.delayedCall(.001,function(){
Gt(t.style,Ot)}):!St&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),h},Ht=function(t){var e,n,r=this.data,i=-r.rotation*j,o=i+r.skewX*j,a=1e5,s=(Math.cos(i)*r.scaleX*a|0)/a,u=(Math.sin(i)*r.scaleX*a|0)/a,l=(Math.sin(o)*-r.scaleY*a|0)/a,c=(Math.cos(o)*r.scaleY*a|0)/a,f=this.t.style,h=this.t.currentStyle;if(h){n=u,u=-l,l=-n,e=h.filter,f.filter="";var d,p,v=this.t.offsetWidth,m=this.t.offsetHeight,y="absolute"!==h.position,g="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+l+", M22="+c,b=r.x+v*r.xPercent/100,x=r.y+m*r.yPercent/100;if(null!=r.ox&&(d=(r.oxp?v*r.ox*.01:r.ox)-v/2,p=(r.oyp?m*r.oy*.01:r.oy)-m/2,b+=d-(d*s+p*u),x+=p-(d*l+p*c)),y?(d=v/2,p=m/2,g+=", Dx="+(d-(d*s+p*u)+b)+", Dy="+(p-(d*l+p*c)+x)+")"):g+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?f.filter=e.replace(I,g):f.filter=g+" "+e,0!==t&&1!==t||1===s&&0===u&&0===l&&1===c&&(y&&g.indexOf("Dx=0, Dy=0")===-1||T.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&f.removeAttribute("filter")),!y){var w,P,S,E=_<8?1:-1;for(d=r.ieOffsetX||0,p=r.ieOffsetY||0,r.ieOffsetX=Math.round((v-((s<0?-s:s)*v+(u<0?-u:u)*m))/2+b),r.ieOffsetY=Math.round((m-((c<0?-c:c)*m+(l<0?-l:l)*v))/2+x),wt=0;wt<4;wt++)P=ot[wt],w=h[P],n=w.indexOf("px")!==-1?parseFloat(w):tt(this.t,P,parseFloat(w),w.replace(M,""))||0,S=n!==r[P]?wt<2?-r.ieOffsetX:-r.ieOffsetY:wt<2?d-r.ieOffsetX:p-r.ieOffsetY,f[P]=(r[P]=Math.round(n-S*(0===wt||2===wt?1:E)))+"px"}}},Xt=X.set3DTransformRatio=X.setTransformRatio=function(t){var e,n,r,i,o,a,s,u,l,c,f,h,d,v,_,m,y,g,b,x,w,M,T,P=this.data,S=this.t.style,E=P.rotation,O=P.rotationX,R=P.rotationY,k=P.scaleX,A=P.scaleY,C=P.scaleZ,D=P.x,I=P.y,L=P.z,F=P.svg,N=P.perspective,z=P.force3D;if(((1===t||0===t)&&"auto"===z&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!z)&&!L&&!N&&!R&&!O&&1===C||St&&F||!At)return void(E||P.skewX||F?(E*=j,M=P.skewX*j,T=1e5,e=Math.cos(E)*k,i=Math.sin(E)*k,n=Math.sin(E-M)*-A,o=Math.cos(E-M)*A,M&&"simple"===P.skewType&&(y=Math.tan(M-P.skewY*j),y=Math.sqrt(1+y*y),n*=y,o*=y,P.skewY&&(y=Math.tan(P.skewY*j),y=Math.sqrt(1+y*y),e*=y,i*=y)),F&&(D+=P.xOrigin-(P.xOrigin*e+P.yOrigin*n)+P.xOffset,I+=P.yOrigin-(P.xOrigin*i+P.yOrigin*o)+P.yOffset,St&&(P.xPercent||P.yPercent)&&(v=this.t.getBBox(),D+=.01*P.xPercent*v.width,I+=.01*P.yPercent*v.height),v=1e-6,D<v&&D>-v&&(D=0),I<v&&I>-v&&(I=0)),b=(e*T|0)/T+","+(i*T|0)/T+","+(n*T|0)/T+","+(o*T|0)/T+","+D+","+I+")",F&&St?this.t.setAttribute("transform","matrix("+b):S[Ot]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix(":"matrix(")+b):S[Ot]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix(":"matrix(")+k+",0,0,"+A+","+D+","+I+")");if(p&&(v=1e-4,k<v&&k>-v&&(k=C=2e-5),A<v&&A>-v&&(A=C=2e-5),!N||P.z||P.rotationX||P.rotationY||(N=0)),E||P.skewX)E*=j,_=e=Math.cos(E),m=i=Math.sin(E),P.skewX&&(E-=P.skewX*j,_=Math.cos(E),m=Math.sin(E),"simple"===P.skewType&&(y=Math.tan((P.skewX-P.skewY)*j),y=Math.sqrt(1+y*y),_*=y,m*=y,P.skewY&&(y=Math.tan(P.skewY*j),y=Math.sqrt(1+y*y),e*=y,i*=y))),n=-m,o=_;else{if(!(R||O||1!==C||N||F))return void(S[Ot]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) translate3d(":"translate3d(")+D+"px,"+I+"px,"+L+"px)"+(1!==k||1!==A?" scale("+k+","+A+")":""));e=o=1,n=i=0}l=1,r=a=s=u=c=f=0,h=N?-1/N:0,d=P.zOrigin,v=1e-6,x=",",w="0",E=R*j,E&&(_=Math.cos(E),m=Math.sin(E),s=-m,c=h*-m,r=e*m,a=i*m,l=_,h*=_,e*=_,i*=_),E=O*j,E&&(_=Math.cos(E),m=Math.sin(E),y=n*_+r*m,g=o*_+a*m,u=l*m,f=h*m,r=n*-m+r*_,a=o*-m+a*_,l*=_,h*=_,n=y,o=g),1!==C&&(r*=C,a*=C,l*=C,h*=C),1!==A&&(n*=A,o*=A,u*=A,f*=A),1!==k&&(e*=k,i*=k,s*=k,c*=k),(d||F)&&(d&&(D+=r*-d,I+=a*-d,L+=l*-d+d),F&&(D+=P.xOrigin-(P.xOrigin*e+P.yOrigin*n)+P.xOffset,I+=P.yOrigin-(P.xOrigin*i+P.yOrigin*o)+P.yOffset),D<v&&D>-v&&(D=w),I<v&&I>-v&&(I=w),L<v&&L>-v&&(L=0)),b=P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix3d(":"matrix3d(",b+=(e<v&&e>-v?w:e)+x+(i<v&&i>-v?w:i)+x+(s<v&&s>-v?w:s),b+=x+(c<v&&c>-v?w:c)+x+(n<v&&n>-v?w:n)+x+(o<v&&o>-v?w:o),O||R||1!==C?(b+=x+(u<v&&u>-v?w:u)+x+(f<v&&f>-v?w:f)+x+(r<v&&r>-v?w:r),b+=x+(a<v&&a>-v?w:a)+x+(l<v&&l>-v?w:l)+x+(h<v&&h>-v?w:h)+x):b+=",0,0,0,0,1,0,",b+=D+x+I+x+L+x+(N?1+-L/N:1)+")",S[Ot]=b};c=Ct.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Tt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,n,r,o,a,u){if(r._lastParsedTransform===u)return o;r._lastParsedTransform=u;var l;"function"==typeof u[n]&&(l=u[n],u[n]=e);var c,f,h,d,p,v,_,g,b,x=t._gsTransform,w=t.style,M=1e-6,T=Et.length,P=u,S={},E="transformOrigin",O=Vt(t,i,!0,P.parseTransform),R=P.transform&&("function"==typeof P.transform?P.transform(y,m):P.transform);if(r._transform=O,R&&"string"==typeof R&&Ot)f=V.style,f[Ot]=R,f.display="block",f.position="absolute",U.body.appendChild(V),c=Vt(V,null,!1),O.svg&&(v=O.xOrigin,_=O.yOrigin,c.x-=O.xOffset,c.y-=O.yOffset,(P.transformOrigin||P.svgOrigin)&&(R={},jt(t,st(P.transformOrigin),R,P.svgOrigin,P.smoothOrigin,!0),v=R.xOrigin,_=R.yOrigin,c.x-=R.xOffset-O.xOffset,c.y-=R.yOffset-O.yOffset),(v||_)&&(g=Bt(V,!0),c.x-=v-(v*g[0]+_*g[2]),c.y-=_-(v*g[1]+_*g[3]))),U.body.removeChild(V),c.perspective||(c.perspective=O.perspective),null!=P.xPercent&&(c.xPercent=lt(P.xPercent,O.xPercent)),null!=P.yPercent&&(c.yPercent=lt(P.yPercent,O.yPercent));else if("object"==typeof P){if(c={scaleX:lt(null!=P.scaleX?P.scaleX:P.scale,O.scaleX),scaleY:lt(null!=P.scaleY?P.scaleY:P.scale,O.scaleY),scaleZ:lt(P.scaleZ,O.scaleZ),x:lt(P.x,O.x),y:lt(P.y,O.y),z:lt(P.z,O.z),xPercent:lt(P.xPercent,O.xPercent),yPercent:lt(P.yPercent,O.yPercent),perspective:lt(P.transformPerspective,O.perspective)},p=P.directionalRotation,null!=p)if("object"==typeof p)for(f in p)P[f]=p[f];else P.rotation=p;"string"==typeof P.x&&P.x.indexOf("%")!==-1&&(c.x=0,c.xPercent=lt(P.x,O.xPercent)),"string"==typeof P.y&&P.y.indexOf("%")!==-1&&(c.y=0,c.yPercent=lt(P.y,O.yPercent)),c.rotation=ct("rotation"in P?P.rotation:"shortRotation"in P?P.shortRotation+"_short":"rotationZ"in P?P.rotationZ:O.rotation-O.skewY,O.rotation-O.skewY,"rotation",S),At&&(c.rotationX=ct("rotationX"in P?P.rotationX:"shortRotationX"in P?P.shortRotationX+"_short":O.rotationX||0,O.rotationX,"rotationX",S),c.rotationY=ct("rotationY"in P?P.rotationY:"shortRotationY"in P?P.shortRotationY+"_short":O.rotationY||0,O.rotationY,"rotationY",S)),c.skewX=ct(P.skewX,O.skewX-O.skewY),(c.skewY=ct(P.skewY,O.skewY))&&(c.skewX+=c.skewY,c.rotation+=c.skewY)}for(At&&null!=P.force3D&&(O.force3D=P.force3D,d=!0),O.skewType=P.skewType||O.skewType||s.defaultSkewType,h=O.force3D||O.z||O.rotationX||O.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,h||null==P.scale||(c.scaleZ=1);--T>-1;)b=Et[T],R=c[b]-O[b],(R>M||R<-M||null!=P[b]||null!=z[b])&&(d=!0,o=new gt(O,b,O[b],R,o),b in S&&(o.e=S[b]),o.xs0=0,o.plugin=a,r._overwriteProps.push(o.n));return R=P.transformOrigin,O.svg&&(R||P.svgOrigin)&&(v=O.xOffset,_=O.yOffset,jt(t,st(R),c,P.svgOrigin,P.smoothOrigin),o=bt(O,"xOrigin",(x?O:c).xOrigin,c.xOrigin,o,E),o=bt(O,"yOrigin",(x?O:c).yOrigin,c.yOrigin,o,E),v===O.xOffset&&_===O.yOffset||(o=bt(O,"xOffset",x?v:O.xOffset,O.xOffset,o,E),o=bt(O,"yOffset",x?_:O.yOffset,O.yOffset,o,E)),R=St?null:"0px 0px"),(R||At&&h&&O.zOrigin)&&(Ot?(d=!0,b=kt,R=(R||J(t,b,i,!1,"50% 50%"))+"",o=new gt(w,b,0,0,o,(-1),E),o.b=w[b],o.plugin=a,At?(f=O.zOrigin,R=R.split(" "),O.zOrigin=(R.length>2&&(0===f||"0px"!==R[2])?parseFloat(R[2]):f)||0,o.xs0=o.e=R[0]+" "+(R[1]||"50%")+" 0px",o=new gt(O,"zOrigin",0,0,o,(-1),o.n),o.b=f,o.xs0=o.e=O.zOrigin):o.xs0=o.e=R):st(R+"",O)),d&&(r._transformType=O.svg&&St||!h&&3!==this._transformType?2:3),l&&(u[n]=l),o},prefix:!0}),Tt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Tt("borderRadius",{defaultValue:"0px",parser:function(t,e,n,o,a,s){e=this.format(e);var u,l,c,f,h,d,p,v,_,m,y,g,b,x,w,M,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=t.style;for(_=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),u=e.split(" "),l=0;l<T.length;l++)this.p.indexOf("border")&&(T[l]=$(T[l])),h=f=J(t,T[l],i,!1,"0px"),h.indexOf(" ")!==-1&&(f=h.split(" "),h=f[0],f=f[1]),d=c=u[l],p=parseFloat(h),g=h.substr((p+"").length),b="="===d.charAt(1),b?(v=parseInt(d.charAt(0)+"1",10),d=d.substr(2),v*=parseFloat(d),y=d.substr((v+"").length-(v<0?1:0))||""):(v=parseFloat(d),y=d.substr((v+"").length)),""===y&&(y=r[n]||g),y!==g&&(x=tt(t,"borderLeft",p,g),w=tt(t,"borderTop",p,g),"%"===y?(h=x/_*100+"%",f=w/m*100+"%"):"em"===y?(M=tt(t,"borderLeft",1,"em"),h=x/M+"em",f=w/M+"em"):(h=x+"px",f=w+"px"),b&&(d=parseFloat(h)+v+y,c=parseFloat(f)+v+y)),a=xt(P,T[l],h+" "+f,d+" "+c,!1,"0px",a);return a},prefix:!0,formatter:_t("0px 0px 0px 0px",!1,!0)}),Tt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,n,r,o,a){return xt(t.style,n,this.format(J(t,n,i,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:_t("0px 0px",!1,!0)}),Tt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,n,r,o,a){var s,u,l,c,f,h,d="background-position",p=i||K(t,null),v=this.format((p?_?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(v.indexOf("%")!==-1!=(m.indexOf("%")!==-1)&&m.split(",").length<2&&(h=J(t,"backgroundImage").replace(k,""),h&&"none"!==h)){for(s=v.split(" "),u=m.split(" "),H.setAttribute("src",h),l=2;--l>-1;)v=s[l],c=v.indexOf("%")!==-1,c!==(u[l].indexOf("%")!==-1)&&(f=0===l?t.offsetWidth-H.width:t.offsetHeight-H.height,s[l]=c?parseFloat(v)/100*f+"px":parseFloat(v)/f*100+"%");v=s.join(" ")}return this.parseComplex(t.style,v,m,o,a)},formatter:st}),Tt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",st(t.indexOf(" ")===-1?t+" "+t:t)}}),Tt("perspective",{defaultValue:"0px",prefix:!0}),Tt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Tt("transformStyle",{prefix:!0}),Tt("backfaceVisibility",{prefix:!0}),Tt("userSelect",{prefix:!0}),Tt("margin",{parser:mt("marginTop,marginRight,marginBottom,marginLeft")}),Tt("padding",{parser:mt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Tt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,n,r,o,a){var s,u,l;return _<9?(u=t.currentStyle,l=_<8?" ":",",s="rect("+u.clipTop+l+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",e=this.format(e).split(",").join(l)):(s=this.format(J(t,this.p,i,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,o,a)}}),Tt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Tt("autoRound,strictUnits",{parser:function(t,e,n,r,i){return i}}),Tt("border",{defaultValue:"0px solid #000",parser:function(t,e,n,r,o,a){var s=J(t,"borderTopWidth",i,!1,"0px"),u=this.format(e).split(" "),l=u[0].replace(M,"");return"px"!==l&&(s=parseFloat(s)/tt(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(s+" "+J(t,"borderTopStyle",i,!1,"solid")+" "+J(t,"borderTopColor",i,!1,"#000")),u.join(" "),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(vt)||["#000"])[0]}}),Tt("borderWidth",{parser:mt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Tt("float,cssFloat,styleFloat",{parser:function(t,e,n,r,i,o){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new gt(a,s,0,0,i,(-1),n,(!1),0,a[s],e)}});var qt=function(t){var e,n=this.t,r=n.filter||J(this.data,"filter")||"",i=this.s+this.c*t|0;100===i&&(r.indexOf("atrix(")===-1&&r.indexOf("radient(")===-1&&r.indexOf("oader(")===-1?(n.removeAttribute("filter"),e=!J(this.data,"filter")):(n.filter=r.replace(S,""),e=!0)),e||(this.xn1&&(n.filter=r=r||"alpha(opacity="+i+")"),r.indexOf("pacity")===-1?0===i&&this.xn1||(n.filter=r+" alpha(opacity="+i+")"):n.filter=r.replace(T,"opacity="+i))};Tt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,n,r,o,a){var s=parseFloat(J(t,"opacity",i,!1,"1")),u=t.style,l="autoAlpha"===n;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),l&&1===s&&"hidden"===J(t,"visibility",i)&&0!==e&&(s=0),G?o=new gt(u,"opacity",s,e-s,o):(o=new gt(u,"opacity",100*s,100*(e-s),o),o.xn1=l?1:0,u.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=qt),l&&(o=new gt(u,"visibility",0,0,o,(-1),null,(!1),0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",r._overwriteProps.push(o.n),r._overwriteProps.push(n)),o}});var Gt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(O,"-$1").toLowerCase())):t.removeAttribute(e))},Yt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,n=this.t.style;e;)e.v?n[e.p]=e.v:Gt(n,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Tt("className",{parser:function(t,e,r,o,a,s,u){var l,c,f,h,d,p=t.getAttribute("class")||"",v=t.style.cssText;if(a=o._classNamePT=new gt(t,r,0,0,a,2),a.setRatio=Yt,a.pr=-11,n=!0,a.b=p,c=nt(t,i),f=t._gsClassPT){for(h={},d=f.data;d;)h[d.p]=1,d=d._next;f.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=rt(t,c,nt(t),u,h),t.setAttribute("class",p),a.data=l.firstMPT,t.style.cssText=v,a=a.xfirst=o.parse(t,l.difs,a,s)}});var Wt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,n,r,i,o,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",i=!0;else for(e=this.e.split(" ").join("").split(","),r=e.length;--r>-1;)n=e[r],l[n]&&(l[n].parse===s?i=!0:n="transformOrigin"===n?kt:l[n].p),Gt(a,n);i&&(Gt(a,Ot),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Tt("clearProps",{parser:function(t,e,r,i,o){return o=new gt(t,r,0,0,o,2),o.setRatio=Wt,o.e=e,o.pr=-10,o.data=i._tween,n=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),wt=c.length;wt--;)Pt(c[wt]);c=s.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,a,u){if(!t.nodeType)return!1;this._target=m=t,this._tween=a,this._vars=e,y=u,f=e.autoRound,n=!1,r=e.suffixMap||s.suffixMap,i=K(t,""),o=this._overwriteProps;var c,p,_,g,b,x,w,M,T,S=t.style;if(h&&""===S.zIndex&&(c=J(t,"zIndex",i),"auto"!==c&&""!==c||this._addLazySet(S,"zIndex",0)),"string"==typeof e&&(g=S.cssText,c=nt(t,i),S.cssText=g+";"+e,c=rt(t,c,nt(t)).difs,!G&&P.test(e)&&(c.opacity=parseFloat(RegExp.$1)),e=c,S.cssText=g),e.className?this._firstPT=p=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=p=this.parse(t,e,null),this._transformType){for(T=3===this._transformType,Ot?d&&(h=!0,""===S.zIndex&&(w=J(t,"zIndex",i),"auto"!==w&&""!==w||this._addLazySet(S,"zIndex",0)),v&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(T?"visible":"hidden"))):S.zoom=1,_=p;_&&_._next;)_=_._next;M=new gt(t,"transform",0,0,null,2),this._linkCSSP(M,null,_),M.setRatio=Ot?Xt:Ht,M.data=this._transform||Vt(t,i,!0),M.tween=a,M.pr=-1,o.pop()}if(n){for(;p;){for(x=p._next,_=g;_&&_.pr>p.pr;)_=_._next;(p._prev=_?_._prev:b)?p._prev._next=p:g=p,(p._next=_)?_._prev=p:b=p,p=x}this._firstPT=g}return!0},c.parse=function(t,e,n,o){var a,s,u,c,h,d,p,v,_,g,b=t.style;for(a in e)d=e[a],"function"==typeof d&&(d=d(y,m)),s=l[a],s?n=s.parse(t,d,a,this,n,o,e):(h=J(t,a,i)+"",_="string"==typeof d,"color"===a||"fill"===a||"stroke"===a||a.indexOf("Color")!==-1||_&&E.test(d)?(_||(d=dt(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),n=xt(b,a,h,d,!0,"transparent",n,0,o)):_&&F.test(d)?n=xt(b,a,h,d,!0,null,n,0,o):(u=parseFloat(h),p=u||0===u?h.substr((u+"").length):"",""!==h&&"auto"!==h||("width"===a||"height"===a?(u=at(t,a,i),p="px"):"left"===a||"top"===a?(u=et(t,a,i),p="px"):(u="opacity"!==a?0:1,p="")),g=_&&"="===d.charAt(1),g?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),v=d.replace(M,"")):(c=parseFloat(d),v=_?d.replace(M,""):""),""===v&&(v=a in r?r[a]:p),d=c||0===c?(g?c+u:c)+v:e[a],p!==v&&""!==v&&(c||0===c)&&u&&(u=tt(t,a,u,p),"%"===v?(u/=tt(t,a,100,"%")/100,e.strictUnits!==!0&&(h=u+"%")):"em"===v||"rem"===v||"vw"===v||"vh"===v?u/=tt(t,a,1,v):"px"!==v&&(c=tt(t,a,c,v),v="px"),g&&(c||0===c)&&(d=c+u+v)),g&&(c+=u),!u&&0!==u||!c&&0!==c?void 0!==b[a]&&(d||d+""!="NaN"&&null!=d)?(n=new gt(b,a,c||u||0,0,n,(-1),a,(!1),0,h,d),n.xs0="none"!==d||"display"!==a&&a.indexOf("Style")===-1?d:h):W("invalid "+a+" tween value: "+e[a]):(n=new gt(b,a,u,c-u,n,0,a,f!==!1&&("px"===v||"zIndex"===a),0,h,d),n.xs0=v))),o&&n&&!n.plugin&&(n.plugin=o);return n},c.setRatio=function(t){var e,n,r,i=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;i;){if(e=i.c*t+i.s,i.r?e=Math.round(e):e<o&&e>-o&&(e=0),i.type)if(1===i.type)if(r=i.l,2===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2;else if(3===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3;else if(4===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4;else if(5===r)i.t[i.p]=i.xs0+e+i.xs1+i.xn1+i.xs2+i.xn2+i.xs3+i.xn3+i.xs4+i.xn4+i.xs5;else{for(n=i.xs0+e+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}else i.type===-1?i.t[i.p]=i.xs0:i.setRatio&&i.setRatio(t);else i.t[i.p]=e+i.xs0;i=i._next}else for(;i;)2!==i.type?i.t[i.p]=i.b:i.setRatio(t),i=i._next;else for(;i;){if(2!==i.type)if(i.r&&i.type!==-1)if(e=Math.round(i.s+i.c),i.type){if(1===i.type){for(r=i.l,n=i.xs0+e+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i.t[i.p]=n}}else i.t[i.p]=e+i.xs0;else i.t[i.p]=i.e;else i.setRatio(t);i=i._next}},c._enableTransforms=function(t){this._transform=this._transform||Vt(this._target,i,!0),this._transformType=this._transform.svg&&St||!t&&3!==this._transformType?2:3};var Zt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,n){var r=this._firstPT=new gt(t,e,0,0,this._firstPT,2);r.e=n,r.setRatio=Zt,r.data=this},c._linkCSSP=function(t,e,n,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),n?n._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=n),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var n,r,i,o=e;if(e.autoAlpha||e.alpha){o={};for(r in e)o[r]=e[r];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(n=this._classNamePT)&&(i=n.xfirst,i&&i._prev?this._linkCSSP(i._prev,n._next,i._prev._prev):i===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,i._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==r&&n.plugin._kill&&(n.plugin._kill(e),r=n.plugin),n=n._next;return t.prototype._kill.call(this,o)};var Qt=function(t,e,n){var r,i,o,a;if(t.slice)for(i=t.length;--i>-1;)Qt(t[i],e,n);else for(r=t.childNodes,i=r.length;--i>-1;)o=r[i],a=o.type,o.style&&(e.push(nt(o)),n&&n.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Qt(o,e,n)};return s.cascadeTo=function(t,n,r){var i,o,a,s,u=e.to(t,n,r),l=[u],c=[],f=[],h=[],d=e._internals.reservedProps;for(t=u._targets||u.target,Qt(t,c,h),u.render(n,!0,!0),Qt(t,f),u.render(0,!0,!0),u._enabled(!0),i=h.length;--i>-1;)if(o=rt(h[i],c[i],f[i]),o.firstMPT){o=o.difs;for(a in r)d[a]&&(o[a]=r[a]);s={};for(a in o)s[a]=c[i][a];l.push(e.fromTo(h[i],n,s,o))}return l},t.activate([s]),s},!0),function(){var t=a._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,n){return this._tween=n,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},n=t.prototype;n._onInitAllProps=function(){for(var t,n,r,i=this._tween,o=i.vars.roundProps.join?i.vars.roundProps:i.vars.roundProps.split(","),a=o.length,s={},u=i._propLookup.roundProps;--a>-1;)s[o[a]]=Math.round;for(a=o.length;--a>-1;)for(t=o[a],n=i._firstPT;n;)r=n._next,n.pg?n.t._mod(s):n.n===t&&(2===n.f&&n.t?e(n.t._firstPT):(this._add(n.t,t,n.s,n.c),r&&(r._prev=n._prev),n._prev?n._prev._next=r:i._firstPT===n&&(i._firstPT=r),n._next=n._prev=null,i._propLookup[t]=u)),n=r;return!1},n._add=function(t,e,n,r){this._addTween(t,e,n,n+r,e,Math.round),this._overwriteProps.push(e)}}(),function(){a._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(t,e,n,r){var i,o;if("function"!=typeof t.setAttribute)return!1;for(i in e)o=e[i],"function"==typeof o&&(o=o(r,t)),this._addTween(t,"setAttribute",t.getAttribute(i)+"",o+"",i,!1,i),this._overwriteProps.push(i);return!0}})}(),a._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(t,e,n,r){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,o,a,s,u,l,c=e.useRadians===!0?2*Math.PI:360,f=1e-6;for(i in e)"useRadians"!==i&&(s=e[i],"function"==typeof s&&(s=s(r,t)),l=(s+"").split("_"),o=l[0],a=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),s=this.finals[i]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,u=s-a,l.length&&(o=l.join("_"),o.indexOf("short")!==-1&&(u%=c,u!==u%(c/2)&&(u=u<0?u+c:u-c)),o.indexOf("_cw")!==-1&&u<0?u=(u+9999999999*c)%c-(u/c|0)*c:o.indexOf("ccw")!==-1&&u>0&&(u=(u-9999999999*c)%c-(u/c|0)*c)),(u>f||u<-f)&&(this._addTween(t,i,a,a+u,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,a._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,r,i=a.GreenSockGlobals||a,o=i.com.greensock,s=2*Math.PI,u=Math.PI/2,l=o._class,c=function(e,n){var r=l("easing."+e,function(){},!0),i=r.prototype=new t;return i.constructor=r,i.getRatio=n,r},f=t.register||function(){},h=function(t,e,n,r,i){var o=l("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new r},!0);return f(o,t),o},d=function(t,e,n){this.t=t,this.v=e,n&&(this.next=n,n.prev=this,this.c=n.v-e,this.gap=n.t-t)},p=function(e,n){var r=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new t;return i.constructor=r,i.getRatio=n,i.config=function(t){return new r(t)},r},v=h("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),_=l("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),m=_.prototype=new t;return m.constructor=_,m.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},_.ease=new _(.7,.7),m.config=_.config=function(t,e,n){return new _(t,e,n)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),m=e.prototype=new t,m.constructor=e,m.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},m.config=e.config=function(t){return new e(t)},n=l("easing.RoughEase",function(e){e=e||{};for(var n,r,i,o,a,s,u=e.taper||"none",l=[],c=0,f=0|(e.points||20),h=f,p=e.randomize!==!1,v=e.clamp===!0,_=e.template instanceof t?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;--h>-1;)n=p?Math.random():1/f*h,r=_?_.getRatio(n):n,"none"===u?i=m:"out"===u?(o=1-n,i=o*o*m):"in"===u?i=n*n*m:n<.5?(o=2*n,i=o*o*.5*m):(o=2*(1-n),i=o*o*.5*m),p?r+=Math.random()*i-.5*i:h%2?r+=.5*i:r-=.5*i,v&&(r>1?r=1:r<0&&(r=0)),l[c++]={x:n,y:r};for(l.sort(function(t,e){return t.x-e.x}),s=new d(1,1,null),h=f;--h>-1;)a=l[h],s=new d(a.x,a.y,s);this._prev=new d(0,0,0!==s.t?s:s.next)},!0),m=n.prototype=new t,m.constructor=n,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},m.config=function(t){return new n(t)},n.ease=new n,h("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t=t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),h("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,n,r){var i=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||r)/(t<1?t:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),o=i.prototype=new t;return o.constructor=i,o.getRatio=n,o.config=function(t,e){return new i(t,e)},i},h("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),r("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),r("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),h("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),h("Sine",c("SineOut",function(t){return Math.sin(t*u)}),c("SineIn",function(t){return-Math.cos(t*u)+1}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),f(i.SlowMo,"SlowMo","ease,"),f(n,"RoughEase","ease,"),f(e,"SteppedEase","ease,"),v},!0)}),a._gsDefine&&a._gsQueue.pop()(),function(r,a){"use strict";var s={},u=r.GreenSockGlobals=r.GreenSockGlobals||r;if(!u.TweenLite){var l,c,f,h,d,p=function(t){var e,n=t.split("."),r=u;for(e=0;e<n.length;e++)r[n[e]]=r=r[n[e]]||{};return r},v=p("com.greensock"),_=1e-10,m=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},y=function(){},g=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&t.call(n)===e)}}(),b={},x=function(r,l,c,f){this.sc=b[r]?b[r].sc:[],b[r]=this,this.gsClass=null,this.func=c;var h=[];this.check=function(d){for(var v,_,m,y,g,w=l.length,M=w;--w>-1;)(v=b[l[w]]||new x(l[w],[])).gsClass?(h[w]=v.gsClass,M--):d&&v.sc.push(this);if(0===M&&c){if(_=("com.greensock."+r).split("."),m=_.pop(),y=p(_.join("."))[m]=this.gsClass=c.apply(c,h),f)if(u[m]=s[m]=y,g="undefined"!=typeof t&&t.exports,!g&&n(426))i=[],o=function(){return y}.apply(e,i),!(void 0!==o&&(t.exports=o));else if(g)if(r===a){t.exports=s[a]=y;for(w in s)y[w]=s[w]}else s[a]&&(s[a][m]=y);for(w=0;w<this.sc.length;w++)this.sc[w].check()}},this.check(!0)},w=r._gsDefine=function(t,e,n,r){return new x(t,e,n,r)},M=v._class=function(t,e,n){return e=e||function(){},w(t,[],function(){return e},n),e};w.globals=u;var T=[0,0,1,1],P=M("easing.Ease",function(t,e,n,r){this._func=t,this._type=n||0,this._power=r||0,this._params=e?T.concat(e):T},!0),S=P.map={},E=P.register=function(t,e,n,r){for(var i,o,a,s,u=e.split(","),l=u.length,c=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=u[l],i=r?M("easing."+o,null,!0):v.easing[o]||{},a=c.length;--a>-1;)s=c[a],S[o+"."+s]=S[s+o]=i[s]=t.getRatio?t:t[s]||new t};for(f=P.prototype,f._calcEnd=!1,f.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,r=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===e?1-r:2===e?r:t<.5?r/2:1-r/2},l=["Linear","Quad","Cubic","Quart","Quint,Strong"],c=l.length;--c>-1;)f=l[c]+",Power"+c,E(new P(null,null,1,c),f,"easeOut",!0),E(new P(null,null,2,c),f,"easeIn"+(0===c?",easeNone":"")),E(new P(null,null,3,c),f,"easeInOut");S.linear=v.easing.Linear.easeIn,S.swing=v.easing.Quad.easeInOut;var O=M("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});f=O.prototype,f.addEventListener=function(t,e,n,r,i){i=i||0;var o,a,s=this._listeners[t],u=0;for(this!==h||d||h.wake(),null==s&&(this._listeners[t]=s=[]),a=s.length;--a>-1;)o=s[a],o.c===e&&o.s===n?s.splice(a,1):0===u&&o.pr<i&&(u=a+1);s.splice(u,0,{c:e,s:n,up:r,pr:i})},f.removeEventListener=function(t,e){var n,r=this._listeners[t];if(r)for(n=r.length;--n>-1;)if(r[n].c===e)return void r.splice(n,1)},f.dispatchEvent=function(t){var e,n,r,i=this._listeners[t];if(i)for(e=i.length,e>1&&(i=i.slice(0)),n=this._eventTarget;--e>-1;)r=i[e],r&&(r.up?r.c.call(r.s||n,{type:t,target:n}):r.c.call(r.s||n))};var R=r.requestAnimationFrame,k=r.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},C=A();for(l=["ms","moz","webkit","o"],c=l.length;--c>-1&&!R;)R=r[l[c]+"RequestAnimationFrame"],k=r[l[c]+"CancelAnimationFrame"]||r[l[c]+"CancelRequestAnimationFrame"];M("Ticker",function(t,e){var n,r,i,o,a,s=this,u=A(),l=!(e===!1||!R)&&"auto",c=500,f=33,p="tick",v=function(t){var e,l,h=A()-C;h>c&&(u+=h-f),C+=h,s.time=(C-u)/1e3,e=s.time-a,(!n||e>0||t===!0)&&(s.frame++,a+=e+(e>=o?.004:o-e),l=!0),t!==!0&&(i=r(v)),l&&s.dispatchEvent(p)};O.call(s),s.time=s.frame=0,s.tick=function(){v(!0)},s.lagSmoothing=function(t,e){c=t||1/_,f=Math.min(e,c,0)},s.sleep=function(){null!=i&&(l&&k?k(i):clearTimeout(i),r=y,i=null,s===h&&(d=!1))},s.wake=function(t){null!==i?s.sleep():t?u+=-C+(C=A()):s.frame>10&&(C=A()-c+5),r=0===n?y:l&&R?R:function(t){return setTimeout(t,1e3*(a-s.time)+1|0)},s===h&&(d=!0),v(2)},s.fps=function(t){return arguments.length?(n=t,o=1/(n||60),a=this.time+o,void s.wake()):n},s.useRAF=function(t){return arguments.length?(s.sleep(),l=t,void s.fps(n)):l},s.fps(t),setTimeout(function(){"auto"===l&&s.frame<5&&"hidden"!==document.visibilityState&&s.useRAF(!1)},1500)}),f=v.Ticker.prototype=new v.events.EventDispatcher,f.constructor=v.Ticker;var D=M("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,K){d||h.wake();var n=this.vars.useFrames?$:K;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});h=D.ticker=new v.Ticker,f=D.prototype,f._dirty=f._gc=f._initted=f._paused=!1,f._totalTime=f._time=0,f._rawPrevTime=-1,f._next=f._last=f._onUpdate=f._timeline=f.timeline=null,f._paused=!1;var I=function(){d&&A()-C>2e3&&h.wake(),setTimeout(I,2e3)};I(),f.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},f.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},f.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},f.seek=function(t,e){return this.totalTime(Number(t),e!==!1);
},f.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},f.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},f.render=function(t,e,n){},f.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},f.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=n&&t<n+this.totalDuration()/this._timeScale},f._enabled=function(t,e){return d||h.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},f._kill=function(t,e){return this._enabled(!1,!1)},f.kill=function(t,e){return this._kill(t,e),this},f._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},f._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();--e>-1;)"{self}"===t[e]&&(n[e]=this);return n},f._callback=function(t){var e=this.vars,n=e[t],r=e[t+"Params"],i=e[t+"Scope"]||e.callbackScope||this,o=r?r.length:0;switch(o){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},f.eventCallback=function(t,e,n,r){if("on"===(t||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[t];null==e?delete i[t]:(i[t]=e,i[t+"Params"]=g(n)&&n.join("").indexOf("{self}")!==-1?this._swapSelfInParams(n):n,i[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},f.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},f.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},f.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},f.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},f.totalTime=function(t,e,n){if(d||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(t>r&&!n&&(t=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-t:t)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(z.length&&tt(),this.render(t,e,!1),z.length&&tt())}return this},f.progress=f.totalProgress=function(t,e){var n=this.duration();return arguments.length?this.totalTime(n*t,e):n?this._time/n:this.ratio},f.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},f.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},f.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||_,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,n=e||0===e?e:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},f.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},f.paused=function(t){if(!arguments.length)return this._paused;var e,n,r=this._timeline;return t!=this._paused&&r&&(d||t||h.wake(),e=r.rawTime(),n=e-this._pauseTime,!t&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==n&&this._initted&&this.duration()&&(e=r.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var L=M("core.SimpleTimeline",function(t){D.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});f=L.prototype=new D,f.constructor=L,f.kill()._gc=!1,f._first=f._last=f._recent=null,f._sortChildren=!1,f.add=f.insert=function(t,e,n,r){var i,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(o=t._startTime;i&&i._startTime>o;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},f._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},f.render=function(t,e,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;i;)r=i._next,(i._active||t>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=r},f.rawTime=function(){return d||h.wake(),this._totalTime};var F=M("TweenLite",function(t,e,n){if(D.call(this,e,n),this.render=F.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:F.selector(t)||t;var i,o,a,s=t.jquery||t.length&&t!==r&&t[0]&&(t[0]===r||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?Q[F.defaultOverwrite]:"number"==typeof u?u>>0:Q[u],(s||t instanceof Array||t.push&&g(t))&&"number"!=typeof t[0])for(this._targets=a=m(t),this._propLookup=[],this._siblings=[],i=0;i<a.length;i++)o=a[i],o?"string"!=typeof o?o.length&&o!==r&&o[0]&&(o[0]===r||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(i--,1),this._targets=a=a.concat(m(o))):(this._siblings[i]=et(o,this,!1),1===u&&this._siblings[i].length>1&&rt(o,this,null,1,this._siblings[i])):(o=a[i--]=F.selector(o),"string"==typeof o&&a.splice(i+1,1)):a.splice(i--,1);else this._propLookup={},this._siblings=et(t,this,!1),1===u&&this._siblings.length>1&&rt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_,this.render(Math.min(0,-this._delay)))},!0),j=function(t){return t&&t.length&&t!==r&&t[0]&&(t[0]===r||t[0].nodeType&&t[0].style&&!t.nodeType)},N=function(t,e){var n,r={};for(n in t)Z[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!G[n]||G[n]&&G[n]._autoCSS)||(r[n]=t[n],delete t[n]);t.css=r};f=F.prototype=new D,f.constructor=F,f.kill()._gc=!1,f.ratio=0,f._firstPT=f._targets=f._overwrittenProps=f._startAt=null,f._notifyPluginsOfEnabled=f._lazy=!1,F.version="1.19.0",F.defaultEase=f._ease=new P(null,null,1,1),F.defaultOverwrite="auto",F.ticker=h,F.autoSleep=120,F.lagSmoothing=function(t,e){h.lagSmoothing(t,e)},F.selector=r.$||r.jQuery||function(t){var e=r.$||r.jQuery;return e?(F.selector=e,e(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var z=[],U={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,V=function(t){for(var e,n=this._firstPT,r=1e-6;n;)e=n.blob?t?this.join(""):this.start:n.c*t+n.s,n.m?e=n.m(e,this._target||n.t):e<r&&e>-r&&(e=0),n.f?n.fp?n.t[n.p](n.fp,e):n.t[n.p](e):n.t[n.p]=e,n=n._next},H=function(t,e,n,r){var i,o,a,s,u,l,c,f=[t,e],h=0,d="",p=0;for(f.start=t,n&&(n(f),t=f[0],e=f[1]),f.length=0,i=t.match(B)||[],o=e.match(B)||[],r&&(r._next=null,r.blob=1,f._firstPT=f._applyPT=r),u=o.length,s=0;s<u;s++)c=o[s],l=e.substr(h,e.indexOf(c,h)-h),d+=l||!s?l:",",h+=l.length,p?p=(p+1)%5:"rgba("===l.substr(-5)&&(p=1),c===i[s]||i.length<=s?d+=c:(d&&(f.push(d),d=""),a=parseFloat(i[s]),f.push(a),f._firstPT={_next:f._firstPT,t:f,p:f.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,m:p&&p<4?Math.round:0}),h+=c.length;return d+=e.substr(h),d&&f.push(d),f.setRatio=V,f},X=function(t,e,n,r,i,o,a,s,u){"function"==typeof r&&(r=r(u||0,t));var l,c,f="get"===n?t[e]:n,h=typeof t[e],d="string"==typeof r&&"="===r.charAt(1),p={t:t,p:e,s:f,f:"function"===h,pg:0,n:i||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:d?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-f||0};if("number"!==h&&("function"===h&&"get"===n&&(c=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),p.s=f=a?t[c](a):t[c]()),"string"==typeof f&&(a||isNaN(f))?(p.fp=a,l=H(f,r,s||F.defaultStringFilter,p),p={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:i||e,pr:0,m:0}):d||(p.s=parseFloat(f),p.c=parseFloat(r)-p.s||0)),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},q=F._internals={isArray:g,isSelector:j,lazyTweens:z,blobDif:H},G=F._plugins={},Y=q.tweenLookup={},W=0,Z=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},Q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},$=D._rootFramesTimeline=new L,K=D._rootTimeline=new L,J=30,tt=q.lazyRender=function(){var t,e=z.length;for(U={};--e>-1;)t=z[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);z.length=0};K._startTime=h.time,$._startTime=h.frame,K._active=$._active=!0,setTimeout(tt,1),D._updateRoot=F.render=function(){var t,e,n;if(z.length&&tt(),K.render((h.time-K._startTime)*K._timeScale,!1,!1),$.render((h.frame-$._startTime)*$._timeScale,!1,!1),z.length&&tt(),h.frame>=J){J=h.frame+(parseInt(F.autoSleep,10)||120);for(n in Y){for(e=Y[n].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete Y[n]}if(n=K._first,(!n||n._paused)&&F.autoSleep&&!$._first&&1===h._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||h.sleep()}}},h.addEventListener("tick",D._updateRoot);var et=function(t,e,n){var r,i,o=t._gsTweenID;if(Y[o||(t._gsTweenID=o="t"+W++)]||(Y[o]={target:t,tweens:[]}),e&&(r=Y[o].tweens,r[i=r.length]=e,n))for(;--i>-1;)r[i]===e&&r.splice(i,1);return Y[o].tweens},nt=function(t,e,n,r){var i,o,a=t.vars.onOverwrite;return a&&(i=a(t,e,n,r)),a=F.onOverwrite,a&&(o=a(t,e,n,r)),i!==!1&&o!==!1},rt=function(t,e,n,r,i){var o,a,s,u;if(1===r||r>=4){for(u=i.length,o=0;o<u;o++)if((s=i[o])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===r)break;return a}var l,c=e._startTime+_,f=[],h=0,d=0===e._duration;for(o=i.length;--o>-1;)(s=i[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(l=l||it(e,0,d),0===it(s,l,d)&&(f[h++]=s)):s._startTime<=c&&s._startTime+s.totalDuration()/s._timeScale>c&&((d||!s._initted)&&c-s._startTime<=2e-10||(f[h++]=s)));for(o=h;--o>-1;)if(s=f[o],2===r&&s._kill(n,t,e)&&(a=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!nt(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},it=function(t,e,n){for(var r=t._timeline,i=r._timeScale,o=t._startTime;r._timeline;){if(o+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return o/=i,o>e?o-e:n&&o===e||!t._initted&&o-e<2*_?_:(o+=t.totalDuration()/t._timeScale/i)>e+_?0:o-e-_};f._init=function(){var t,e,n,r,i,o,a=this.vars,s=this._overwrittenProps,u=this._duration,l=!!a.immediateRender,c=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={};for(r in a.startAt)i[r]=a.startAt[r];if(i.overwrite=!1,i.immediateRender=!0,i.lazy=l&&a.lazy!==!1,i.startAt=i.delay=null,this._startAt=F.to(this.target,0,i),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),n={};for(r in a)Z[r]&&"autoCSS"!==r||(n[r]=a[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=l&&a.lazy!==!1,n.immediateRender=l,this._startAt=F.to(this.target,0,n),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof P?c:"function"==typeof c?new P(c,a.easeParams):S[c]||F.defaultEase:F.defaultEase,a.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&F._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=a.onUpdate,this._initted=!0},f._initProps=function(t,e,n,i,o){var a,s,u,l,c,f;if(null==t)return!1;U[t._gsTweenID]&&tt(),this.vars.css||t.style&&t!==r&&t.nodeType&&G.css&&this.vars.autoCSS!==!1&&N(this.vars,t);for(a in this.vars)if(f=this.vars[a],Z[a])f&&(f instanceof Array||f.push&&g(f))&&f.join("").indexOf("{self}")!==-1&&(this.vars[a]=f=this._swapSelfInParams(f,this));else if(G[a]&&(l=new G[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)e[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else e[a]=X.call(this,t,a,"get",f,a,0,null,this.vars.stringFilter,o);return i&&this._kill(i,t)?this._initProps(t,e,n,i,o):this._overwrite>1&&this._firstPT&&n.length>1&&rt(t,this,e,this._overwrite,n)?(this._kill(e,t),this._initProps(t,e,n,i,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(U[t._gsTweenID]=!0),u)},f.render=function(t,e,n){var r,i,o,a,s=this._time,u=this._duration,l=this._rawPrevTime;if(t>=u-1e-7)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&t>=-1e-7||l===_&&"isPause"!==this.data)&&l!==t&&(n=!0,l>_&&(i="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:_);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(i="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(l>=0&&(l!==_||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=a=!e||t||l===t?t:_)),this._initted||(n=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/u,f=this._easeType,h=this._easePower;(1===f||3===f&&c>=.5)&&(c=1-c),3===f&&(c*=2),1===h?c*=c:2===h?c*=c*c:3===h?c*=c*c*c:4===h&&(c*=c*c*c*c),1===f?this.ratio=1-c:2===f?this.ratio=c:t/u<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,z.push(this),void(this._lazy=[t,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/u):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,e,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,n),e||(this._time!==s||r||n)&&this._callback("onUpdate")),i&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this._callback(i),0===u&&this._rawPrevTime===_&&a!==_&&(this._rawPrevTime=0)))}},f._kill=function(t,e,n){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:F.selector(e)||e;var r,i,o,a,s,u,l,c,f,h=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((g(e)||j(e))&&"number"!=typeof e[0])for(r=e.length;--r>-1;)this._kill(t,e[r],n)&&(u=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(e===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(l=t||s,c=t!==i&&"all"!==i&&t!==s&&("object"!=typeof t||!t._tempKill),n&&(F.onOverwrite||this.vars.onOverwrite)){for(o in l)s[o]&&(f||(f=[]),f.push(o));if((f||!t)&&!nt(this,n,e,f))return!1}for(o in l)(a=s[o])&&(h&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(l)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),c&&(i[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},f.invalidate=function(){return this._notifyPluginsOfEnabled&&F._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(Math.min(0,-this._delay))),this},f._enabled=function(t,e){if(d||h.wake(),t&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=et(r[n],this,!0);else this._siblings=et(this.target,this,!0)}return D.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&F._onPluginEvent(t?"_onEnable":"_onDisable",this)},F.to=function(t,e,n){return new F(t,e,n)},F.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new F(t,e,n)},F.fromTo=function(t,e,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new F(t,e,r)},F.delayedCall=function(t,e,n,r,i){return new F(e,0,{delay:t,onComplete:e,onCompleteParams:n,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},F.set=function(t,e){return new F(t,0,e)},F.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:F.selector(t)||t;var n,r,i,o;if((g(t)||j(t))&&"number"!=typeof t[0]){for(n=t.length,r=[];--n>-1;)r=r.concat(F.getTweensOf(t[n],e));for(n=r.length;--n>-1;)for(o=r[n],i=n;--i>-1;)o===r[i]&&r.splice(n,1)}else for(r=et(t).concat(),n=r.length;--n>-1;)(r[n]._gc||e&&!r[n].isActive())&&r.splice(n,1);return r},F.killTweensOf=F.killDelayedCallsTo=function(t,e,n){"object"==typeof e&&(n=e,e=!1);for(var r=F.getTweensOf(t,e),i=r.length;--i>-1;)r[i]._kill(n,t)};var ot=M("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=ot.prototype},!0);if(f=ot.prototype,ot.version="1.19.0",ot.API=2,f._firstPT=null,f._addTween=X,f.setRatio=V,f._kill=function(t){var e,n=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=n.length;--e>-1;)null!=t[n[e]]&&n.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},f._mod=f._roundProps=function(t){for(var e,n=this._firstPT;n;)e=t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===n.f?n.t._applyPT.m=e:n.m=e),n=n._next},F._onPluginEvent=function(t,e){var n,r,i,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:o)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:o=s,s=a}s=e._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(n=!0),s=s._next;return n},ot.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===ot.API&&(G[(new t[e])._propName]=t[e]);return!0},w.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,r=t.priority||0,i=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=M("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){ot.call(this,n,r),this._overwriteProps=i||[]},t.global===!0),s=a.prototype=new ot(n);s.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,ot.activate([a]),a},l=r._gsQueue){for(c=0;c<l.length;c++)l[c]();for(f in b)b[f].func||r.console.log("GSAP encountered missing dependency: "+f)}d=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof r?r:this||window,"TweenMax")}).call(e,n(65))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return l+t}function o(t,e){try{null==e?window.sessionStorage.removeItem(i(t)):window.sessionStorage.setItem(i(t),JSON.stringify(e))}catch(n){if(n.name===f)return void u.default(!1,"[history] Unable to save state; sessionStorage is not available due to security settings");if(c.indexOf(n.name)>=0&&0===window.sessionStorage.length)return void u.default(!1,"[history] Unable to save state; sessionStorage is not available in Safari private mode");throw n}}function a(t){var e=void 0;try{e=window.sessionStorage.getItem(i(t))}catch(n){if(n.name===f)return u.default(!1,"[history] Unable to read state; sessionStorage is not available due to security settings"),null}if(e)try{return JSON.parse(e)}catch(n){}return null}e.__esModule=!0,e.saveState=o,e.readState=a;var s=n(15),u=r(s),l="@@History/",c=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],f="SecurityError"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){function t(t){try{t=t||window.history.state||{}}catch(e){t={}}var n=f.getWindowPath(),r=t,i=r.key,a=void 0;i?a=h.readState(i):(a=null,i=g.createKey(),m&&window.history.replaceState(o({},t,{key:i}),null));var s=l.parsePath(n);return g.createLocation(o({},s,{state:a}),void 0,i)}function e(e){function n(e){void 0!==e.state&&r(t(e.state))}var r=e.transitionTo;return f.addEventListener(window,"popstate",n),function(){f.removeEventListener(window,"popstate",n)}}function n(t){var e=t.basename,n=t.pathname,r=t.search,i=t.hash,o=t.state,a=t.action,s=t.key;if(a!==u.POP){h.saveState(s,o);var l=(e||"")+n+r+i,c={key:s};if(a===u.PUSH){if(y)return window.location.href=l,!1;window.history.pushState(c,null,l)}else{if(y)return window.location.replace(l),!1;window.history.replaceState(c,null,l)}}}function r(t){1===++b&&(x=e(g));var n=g.listenBefore(t);return function(){n(),0===--b&&x()}}function i(t){1===++b&&(x=e(g));var n=g.listen(t);return function(){n(),0===--b&&x()}}function a(t){1===++b&&(x=e(g)),g.registerTransitionHook(t)}function d(t){g.unregisterTransitionHook(t),0===--b&&x()}var v=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.canUseDOM?void 0:s.default(!1,"Browser history needs a DOM");var _=v.forceRefresh,m=f.supportsHistory(),y=!m||_,g=p.default(o({},v,{getCurrentLocation:t,finishTransition:n,saveState:h.saveState})),b=0,x=void 0;return o({},g,{listenBefore:r,listen:i,registerTransitionHook:a,unregisterTransitionHook:d})}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(11),s=r(a),u=n(26),l=n(27),c=n(43),f=n(53),h=n(136),d=n(138),p=r(d);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(t){return u.canUseDOM?void 0:s.default(!1,"DOM history needs a DOM"),n.listen(t)}var n=f.default(o({getUserConfirmation:l.getUserConfirmation},t,{go:l.go}));return o({},n,{listen:e})}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(11),s=r(a),u=n(43),l=n(53),c=n(139),f=r(c);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return Math.random().toString(36).substr(2,t)}function o(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.key===e.key&&f.default(t.state,e.state)}function a(){function t(t){return z.push(t),function(){z=z.filter(function(e){return e!==t})}}function e(){return H&&H.action===p.POP?U.indexOf(H.key):V?U.indexOf(V.key):-1}function n(t){var n=e();V=t,V.action===p.PUSH?U=[].concat(U.slice(0,n+1),[V.key]):V.action===p.REPLACE&&(U[n]=V.key),B.forEach(function(t){t(V)})}function r(t){if(B.push(t),V)t(V);else{var e=D();U=[e.key],n(e)}return function(){B=B.filter(function(e){return e!==t})}}function a(t,e){d.loopAsync(z.length,function(e,n,r){y.default(z[e],t,function(t){null!=t?r(t):n()})},function(t){j&&"string"==typeof t?j(t,function(t){e(t!==!1)}):e(t!==!1)})}function u(t){V&&o(V,t)||(H=t,a(t,function(e){if(H===t)if(e){if(t.action===p.PUSH){var r=M(V),i=M(t);i===r&&f.default(V.state,t.state)&&(t.action=p.REPLACE)}I(t)!==!1&&n(t)}else if(V&&t.action===p.POP){var o=U.indexOf(V.key),a=U.indexOf(t.key);o!==-1&&a!==-1&&F(o-a)}}))}function c(t){u(P(t,p.PUSH,w()))}function v(t){u(P(t,p.REPLACE,w()))}function m(){F(-1)}function g(){F(1)}function w(){return i(N)}function M(t){if(null==t||"string"==typeof t)return t;var e=t.pathname,n=t.search,r=t.hash,i=e;return n&&(i+=n),r&&(i+=r),i}function T(t){return M(t)}function P(t,e){var n=arguments.length<=2||void 0===arguments[2]?w():arguments[2];return"object"==typeof e&&(l.default(!1,"The state (2nd) argument to history.createLocation is deprecated; use a location descriptor instead"),"string"==typeof t&&(t=h.parsePath(t)),t=s({},t,{state:e}),e=n,n=arguments[3]||w()),_.default(t,e,n)}function S(t){V?(E(V,t),n(V)):E(D(),t)}function E(t,e){t.state=s({},t.state,e),L(t.key,t.state)}function O(t){z.indexOf(t)===-1&&z.push(t)}function R(t){z=z.filter(function(e){return e!==t})}function k(t,e){"string"==typeof e&&(e=h.parsePath(e)),c(s({state:t},e))}function A(t,e){"string"==typeof e&&(e=h.parsePath(e)),v(s({state:t},e))}var C=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],D=C.getCurrentLocation,I=C.finishTransition,L=C.saveState,F=C.go,j=C.getUserConfirmation,N=C.keyLength;"number"!=typeof N&&(N=x);var z=[],U=[],B=[],V=void 0,H=void 0;return{listenBefore:t,listen:r,transitionTo:u,push:c,replace:v,go:F,goBack:m,goForward:g,createKey:w,createPath:M,createHref:T,createLocation:P,setState:b.default(S,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:b.default(O,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:b.default(R,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:b.default(k,"pushState is deprecated; use push instead"),replaceState:b.default(A,"replaceState is deprecated; use replace instead")}}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(15),l=r(u),c=n(275),f=r(c),h=n(27),d=n(304),p=n(26),v=n(140),_=r(v),m=n(72),y=r(m),g=n(28),b=r(g),x=6;e.default=a,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],e=arguments.length<=1||void 0===arguments[1]?u.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof t&&(t=l.parsePath(t)),"object"==typeof e&&(s.default(!1,"The state (2nd) argument to createLocation is deprecated; use a location descriptor instead"),t=o({},t,{state:e}),e=n||u.POP,n=r);var i=t.pathname||"/",a=t.search||"",c=t.hash||"",f=t.state||null;return{pathname:i,search:a,hash:c,state:f,action:e,key:n}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(15),s=r(a),u=n(26),l=n(27);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.filter(function(t){return t.state}).reduce(function(t,e){return t[e.key]=e.state,t},{})}function o(){function t(t,e){y[t]=e}function e(t){return y[t]}function n(){var t=_[m],n=t.basename,r=t.pathname,i=t.search,o=(n||"")+r+(i||""),s=void 0,u=void 0;t.key?(s=t.key,u=e(s)):(s=d.createKey(),u=null,t.key=s);var l=f.parsePath(o);return d.createLocation(a({},l,{state:u}),void 0,s)}function r(t){var e=m+t;return e>=0&&e<_.length}function o(t){if(t){if(!r(t))return void u.default(!1,"Cannot go(%s) there is not enough history",t);m+=t;var e=n();d.transitionTo(a({},e,{action:h.POP}))}}function s(e){switch(e.action){case h.PUSH:m+=1,m<_.length&&_.splice(m),_.push(e),t(e.key,e.state);break;case h.REPLACE:_[m]=e,t(e.key,e.state)}}var l=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(l)?l={entries:l}:"string"==typeof l&&(l={entries:[l]});var d=p.default(a({},l,{getCurrentLocation:n,finishTransition:s,saveState:t,go:o})),v=l,_=v.entries,m=v.current;"string"==typeof _?_=[_]:Array.isArray(_)||(_=["/"]),_=_.map(function(t){var e=d.createKey();return"string"==typeof t?{pathname:t,key:e}:"object"==typeof t&&t?a({},t,{key:e}):void c.default(!1,"Unable to create history entry from %s",t)}),null==m?m=_.length-1:m>=0&&m<_.length?void 0:c.default(!1,"Current index must be >= 0 and < %s, was %s",_.length,m);var y=i(_);return d}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(15),u=r(s),l=n(11),c=r(l),f=n(27),h=n(26),d=n(139),p=r(d);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(e){var n=t();if("string"==typeof n)return(e||window.event).returnValue=n,n}return c.addEventListener(window,"beforeunload",e),function(){c.removeEventListener(window,"beforeunload",e)}}function o(t){return function(e){function n(){for(var t=void 0,e=0,n=d.length;null==t&&e<n;++e)t=d[e].call();return t}function r(t){return d.push(t),1===d.length&&(l.canUseDOM?f=i(n):u.default(!1,"listenBeforeUnload only works in DOM environments")),function(){d=d.filter(function(e){return e!==t}),0===d.length&&f&&(f(),f=null)}}function o(t){l.canUseDOM&&d.indexOf(t)===-1&&(d.push(t),1===d.length&&(f=i(n)));
}function s(t){d.length>0&&(d=d.filter(function(e){return e!==t}),0===d.length&&f())}var c=t(e),f=void 0,d=[];return a({},c,{listenBeforeUnload:r,registerBeforeUnloadHook:h.default(o,"registerBeforeUnloadHook is deprecated; use listenBeforeUnload instead"),unregisterBeforeUnloadHook:h.default(s,"unregisterBeforeUnloadHook is deprecated; use the callback returned from listenBeforeUnload instead")})}}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(15),u=r(s),l=n(43),c=n(53),f=n(28),h=r(f);e.default=o,t.exports=e.default},function(t,e){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;t.exports=function(t,e,o){if("string"!=typeof e){var a=Object.getOwnPropertyNames(e);i&&(a=a.concat(Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;++s)if(!(n[a[s]]||r[a[s]]||o&&o[a[s]]))try{t[a[s]]=e[a[s]]}catch(u){}}return t}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(2);e.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e.default=n},function(t,e){"use strict";function n(t){return function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return{type:r,payload:{method:t,args:n}}}}Object.defineProperty(e,"__esModule",{value:!0});var r=e.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD",i=e.push=n("push"),o=e.replace=n("replace"),a=e.go=n("go"),s=e.goBack=n("goBack"),u=e.goForward=n("goForward");e.routerActions={push:i,replace:o,go:a,goBack:s,goForward:u}},function(t,e){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?o:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.type,a=e.payload;return n===i?r({},t,{locationBeforeTransitions:a}):t}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.routerReducer=n;var i=e.LOCATION_CHANGE="@@router/LOCATION_CHANGE",o={locationBeforeTransitions:null}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return 0===t.button}function a(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function u(t,e){var n=e.query,r=e.hash,i=e.state;return n||r||i?{pathname:t,query:n,hash:r,state:i}:t}e.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(2),f=r(c),h=n(8),d=r(h),p=n(76),v=f.default.PropTypes,_=v.bool,m=v.object,y=v.string,g=v.func,b=v.oneOfType,x=f.default.createClass({displayName:"Link",contextTypes:{router:p.routerShape},propTypes:{to:b([y,m]).isRequired,query:m,hash:y,state:m,activeStyle:m,activeClassName:y,onlyActiveOnIndex:_.isRequired,onClick:g,target:y},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(t){var e=!0;if(this.props.onClick&&this.props.onClick(t),!a(t)&&o(t)){if(t.defaultPrevented===!0&&(e=!1),this.props.target)return void(e||t.preventDefault());if(t.preventDefault(),e){var n=this.props,r=n.to,i=n.query,s=n.hash,l=n.state,c=u(r,{query:i,hash:s,state:l});this.context.router.push(c)}}},render:function(){var t=this.props,e=t.to,n=t.query,r=t.hash,o=t.state,a=t.activeClassName,c=t.activeStyle,h=t.onlyActiveOnIndex,p=i(t,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]);(0,d.default)(!(n||r||o),"the `query`, `hash`, and `state` props on `<Link>` are deprecated, use `<Link to={{ pathname, query, hash, state }}/>. http://tiny.cc/router-isActivedeprecated");var v=this.context.router;if(v){var _=u(e,{query:n,hash:r,state:o});p.href=v.createHref(_),(a||null!=c&&!s(c))&&v.isActive(_,h)&&(a&&(p.className?p.className+=" "+a:p.className=a),c&&(p.style=l({},p.style,c)))}return f.default.createElement("a",l({},p,{onClick:this.handleClick}))}});e.default=x,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(11),s=r(a),u=n(23),l=n(34),c=n(29),f=o.default.PropTypes,h=f.string,d=f.object,p=o.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(t){var e=(0,u.createRouteFromReactElement)(t);return e.from&&(e.path=e.from),e.onEnter=function(t,n){var r=t.location,i=t.params,o=void 0;if("/"===e.to.charAt(0))o=(0,l.formatPattern)(e.to,i);else if(e.to){var a=t.routes.indexOf(e),s=p.getRoutePattern(t.routes,a-1),u=s.replace(/\/*$/,"/")+e.to;o=(0,l.formatPattern)(u,i)}else o=r.pathname;n({pathname:o,query:e.query||r.query,state:e.state||r.state})},e},getRoutePattern:function(t,e){for(var n="",r=e;r>=0;r--){var i=t[r],o=i.path||"";if(n=o.replace(/\/*$/,"/")+n,0===o.indexOf("/"))break}return"/"+n}},propTypes:{path:h,from:h,to:h.isRequired,query:d,state:d,onEnter:c.falsy,children:c.falsy},render:function(){(0,s.default)(!1,"<Redirect> elements are for router configuration only and should not be rendered")}});e.default=p,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return a({},t,{setRouteLeaveHook:e.listenBeforeLeavingRoute,isActive:e.isActive})}function o(t,e){return t=a({},t,e),t=(0,u.default)(t,"`props.history` and `context.history` are deprecated. Please use `context.router`. http://tiny.cc/router-contextchanges")}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.createRouterObject=i,e.createRoutingHistory=o;var s=n(55),u=r(s)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=(0,c.default)(t),n=function(){return e},r=(0,a.default)((0,u.default)(n))(t);return r.__v2_compatible__=!0,r}e.__esModule=!0,e.default=i;var o=n(33),a=r(o),s=n(73),u=r(s),l=n(141),c=r(l);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.default=function(t){var e=void 0;return a&&(e=(0,o.default)(t)()),e};var i=n(154),o=r(i),a=!("undefined"==typeof window||!window.document||!window.document.createElement);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(a.canUseMembrane){var n=o({},t),r=function(t){return Object.prototype.hasOwnProperty.call(e,t)?void Object.defineProperty(n,t,{get:function(){return(0,u.default)(!1,"Accessing location properties directly from the first argument to `getComponent`, `getComponents`, `getChildRoutes`, and `getIndexRoute` is deprecated. That argument is now the router state (`nextState` or `partialNextState`) rather than the location. To access the location, use `nextState.location` or `partialNextState.location`."),e[t]}}):"continue"};for(var i in e){r(i)}return n}return o({},t,e)}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var a=n(55),s=n(8),u=r(s);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(e){var n=(0,a.default)((0,u.default)(t))(e);return n.__v2_compatible__=!0,n}}e.__esModule=!0,e.default=i;var o=n(33),a=r(o),s=n(73),u=r(s);t.exports=e.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(46)},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(32),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(69),o=n(87);t.exports=r},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(98),o=n(99),a=n(100),s=n(101),u=n(102);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(40);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(95);t.exports=r},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||s.test(t)||!a.test(t)||null!=e&&t in Object(e)}var i=n(1),o=n(14),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e,n){var r=n(4),i=r(Object,"create");t.exports=i},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(14),o=1/0;t.exports=r},function(t,e,n){function r(t){var e=i(t)?u.call(t):"";return e==o||e==a}var i=n(2),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,u=s.toString;t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){return"symbol"==typeof t||i(t)&&s.call(t)==o}var i=n(5),o="[object Symbol]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(21);e.default=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.innerWidth,n=t.innerHeight,i=t.matchMedia;return{type:r.CALCULATE_RESPONSIVE_STATE,innerWidth:e,innerHeight:n,matchMedia:i}},t.exports=e.default},function(t,e,n){var r=n(4),i=n(3),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(103),o=n(104),a=n(105),s=n(106),u=n(107);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t){return null!=t&&a(i(t))&&!o(t)}var i=n(84),o=n(12),a=n(13);t.exports=r},function(t,e,n){function r(t){var e=l(t);if(!e&&!s(t))return o(t);var n=a(t),r=!!n,c=n||[],f=c.length;for(var h in t)!i(t,h)||r&&("length"==h||u(h,f))||e&&"constructor"==h||c.push(h);return c}var i=n(26),o=n(71),a=n(94),s=n(18),u=n(35),l=n(97);t.exports=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="redux-responsive/CALCULATE_RESPONSIVE_STATE",t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),o=r(i);e.CALCULATE_RESPONSIVE_STATE=o.default},function(t,e,n){function r(t){this.__data__=new i(t)}var i=n(6),o=n(113),a=n(114),s=n(115),u=n(116),l=n(117);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=l,t.exports=r},function(t,e,n){var r=n(3),i=r.Symbol;t.exports=i},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(64),o=n(19);t.exports=r},function(t,e,n){function r(t,e){e=o(e,t)?[e]:i(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[a(e[n++])];return n&&n==r?t:void 0}var i=n(30),o=n(9),a=n(11);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&(a.call(t,e)||"object"==typeof t&&e in t&&null===i(t))}var i=n(33),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,s,u){return t===e||(null==t||null==e||!o(t)&&!a(e)?t!==t&&e!==e:i(t,e,r,n,s,u))}var i=n(67),o=n(2),a=n(5);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?o(t[0],t[1]):i(t):u(t)}var i=n(72),o=n(73),a=n(122),s=n(1),u=n(126);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return i(t)?t:o(t)}var i=n(1),o=n(118);t.exports=r},function(t,e,n){function r(t,e,n,r,u,l){var c=u&s,f=t.length,h=e.length;if(f!=h&&!(c&&h>f))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var p=-1,v=!0,_=u&a?new i:void 0;for(l.set(t,e),l.set(e,t);++p<f;){var m=t[p],y=e[p];if(r)var g=c?r(y,m,p,e,t,l):r(m,y,p,t,e,l);if(void 0!==g){if(g)continue;v=!1;break}if(_){if(!o(e,function(t,e){if(!_.has(e)&&(m===t||n(m,t,r,u,l)))return _.add(e)})){v=!1;break}}else if(m!==y&&!n(m,y,r,u,l)){v=!1;break}}return l.delete(t),l.delete(e),v}var i=n(56),o=n(61),a=1,s=2;t.exports=r},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var r=n(38),i=Object.getPrototypeOf,o=r(i,Object);t.exports=o},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(2);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var r=Function.prototype.toString;t.exports=n},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){return i(t)&&s.call(t,"callee")&&(!l.call(t,"callee")||u.call(t)==o)}var i=n(123),o="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,u=a.toString,l=a.propertyIsEnumerable;t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!i(t)&&o(t)&&u.call(t)==a}var i=n(1),o=n(5),a="[object String]",s=Object.prototype,u=s.toString;t.exports=r},function(t,e,n){var r=n(70),i=n(78),o=n(109),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){t.exports=n(132)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=r(i);e.calculateResponsiveState=o.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(50),o=r(i),a=n(51),s=r(a),u=n(21);Object.defineProperty(e,"CALCULATE_RESPONSIVE_STATE",{enumerable:!0,get:function(){return u.CALCULATE_RESPONSIVE_STATE}});var l=n(45);Object.defineProperty(e,"calculateResponsiveState",{enumerable:!0,get:function(){return l.calculateResponsiveState}});var c=o.default;e.createResponsiveStateReducer=c;var f=s.default;e.createResponsiveStoreEnhancer=f;var h=c();e.responsiveStateReducer=h;var d=f();e.responsiveStoreEnhancer=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(49),o=r(i),a=n(48),s=r(a);e.default=function(t,e){var n=e.throttleTime,r=e.calculateStateInitially,i=e.performanceMode;return"undefined"!=typeof window&&(i?(0,s.default)({store:t,window:window,calculateStateInitially:r}):(0,o.default)({store:t,window:window,throttleTime:n,calculateStateInitially:r})),t},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),o=r(i),a=n(15),s=r(a);e.default=function(t){function e(){n.dispatch((0,s.default)(r))}var n=t.store,r=t.window,i=t.calculateStateInitially,a=n.getState(),u=Object.keys(a).reduce(function(t,e){return a[e]._responsiveState?e:t},!1);if(!u)throw new Error("Could not find responsive state reducer - Performance mode can only be used if the responsive reducer is at the root of your reducer tree.");var l=a[u].breakpoints,c=o.default.asObject(l),f=!0,h=!1,d=void 0;try{for(var p,v=Object.keys(c)[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var _=p.value,m=r.matchMedia(c[_]);m.addListener(function(t){t.matches&&e()})}}catch(y){h=!0,d=y}finally{try{!f&&v.return&&v.return()}finally{if(h)throw d}}i&&e()},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(128),o=r(i),a=n(15),s=r(a);e.default=function(t){var e=t.store,n=t.window,r=t.throttleTime,i=t.calculateStateInitially,a=(0,o.default)(function(){return e.dispatch((0,s.default)(n))},r);i&&a(),n.addEventListener("resize",a)},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){return(0,f.default)(e,function(e,r,i){"number"==typeof r?e[i]=t<r&&i!==n:e[i]=!1})}function o(t,e){return(0,f.default)(e,function(e,n,r){"number"==typeof n?e[r]=t>n:e[r]=!1})}function a(t,e){return"undefined"==typeof t?m:(0,d.default)(e,function(e,n,r){return t(n).matches?r:e},m)}function s(t){if("undefined"==typeof t)return y;var e={portrait:"(orientation: portrait)",landscape:"(orientation: landscape)"};return(0,d.default)(e,function(e,n,r){return t(n).matches?r:e},y)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(44),l=r(u),c=n(131),f=r(c),h=n(127),d=r(h),p=n(20),v=r(p),_={extraSmall:480,small:768,medium:992,large:1200},m="infinity",y=null;e.default=function(){var t=arguments.length<=0||void 0===arguments[0]?_:arguments[0];t[m]=1/0;var e=l.default.asObject(t);return function(n,r){var u=r.type,l=r.matchMedia,c=r.innerWidth,f=r.innerHeight;if(u===v.default||"undefined"==typeof n){var h=a(l,e),d=s(l);return{_responsiveState:!0,width:c,height:f,lessThan:i(c,t,h),greaterThan:o(c,t),mediaType:h,orientation:d,breakpoints:t}}return n}},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),o=r(i);e.default=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.throttleTime,n=void 0===e?100:e,r=t.calculateStateInitially,i=void 0===r||r,a=t.performanceMode,s=void 0!==a&&a;return function(t){return function(){return(0,o.default)(t.apply(void 0,arguments),{throttleTime:n,calculateStateInitially:i,performanceMode:s})}}},t.exports=e.default},function(t,e,n){var r=n(4),i=n(3),o=r(i,"DataView");t.exports=o},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(89),o=n(90),a=n(91),s=n(92),u=n(93);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){var r=n(4),i=n(3),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(4),i=n(3),o=r(i,"Set");t.exports=o},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(17),o=n(110),a=n(111);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e,n){var r=n(3),i=r.Uint8Array;t.exports=i},function(t,e,n){var r=n(4),i=n(3),o=r(i,"WeakMap");t.exports=o},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e){function n(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){function r(t){return i(t)?o(t):{}}var i=n(2),o=Object.create;t.exports=r},function(t,e,n){var r=n(24),i=n(80),o=i(r);t.exports=o},function(t,e,n){var r=n(81),i=r();t.exports=i},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n,r,_,y){var g=l(t),b=l(e),x=p,w=p;g||(x=u(t),x=x==d?v:x),b||(w=u(e),w=w==d?v:w);var M=x==v&&!c(t),T=w==v&&!c(e),P=x==w;if(P&&!M)return y||(y=new i),g||f(t)?o(t,e,n,r,_,y):a(t,e,x,n,r,_,y);if(!(_&h)){var S=M&&m.call(t,"__wrapped__"),E=T&&m.call(e,"__wrapped__");if(S||E){var O=S?t.value():t,R=E?e.value():e;return y||(y=new i),n(O,R,r,_,y)}}return!!P&&(y||(y=new i),s(t,e,n,r,_,y))}var i=n(22),o=n(31),a=n(82),s=n(83),u=n(86),l=n(1),c=n(34),f=n(43),h=2,d="[object Arguments]",p="[object Array]",v="[object Object]",_=Object.prototype,m=_.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r){var u=n.length,l=u,c=!r;if(null==t)return!l;for(t=Object(t);u--;){var f=n[u];if(c&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<l;){f=n[u];var h=f[0],d=t[h],p=f[1];if(c&&f[2]){if(void 0===d&&!(h in t))return!1}else{var v=new i;if(r)var _=r(d,p,h,t,e,v);if(!(void 0===_?o(p,d,r,a|s,v):_))return!1}}return!0}var i=n(22),o=n(27),a=1,s=2;t.exports=r},function(t,e,n){function r(t){if(!s(t)||a(t))return!1;var e=i(t)||o(t)?p:c;return e.test(u(t))}var i=n(12),o=n(34),a=n(96),s=n(2),u=n(39),l=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,f=Object.prototype,h=Function.prototype.toString,d=f.hasOwnProperty,p=RegExp("^"+h.call(d).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t.length)&&!!k[C.call(t)]}var i=n(13),o=n(5),a="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",d="[object Number]",p="[object Object]",v="[object RegExp]",_="[object Set]",m="[object String]",y="[object WeakMap]",g="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",M="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",S="[object Uint8Array]",E="[object Uint8ClampedArray]",O="[object Uint16Array]",R="[object Uint32Array]",k={};k[x]=k[w]=k[M]=k[T]=k[P]=k[S]=k[E]=k[O]=k[R]=!0,k[a]=k[s]=k[g]=k[u]=k[b]=k[l]=k[c]=k[f]=k[h]=k[d]=k[p]=k[v]=k[_]=k[m]=k[y]=!1;var A=Object.prototype,C=A.toString;t.exports=r},function(t,e,n){var r=n(38),i=Object.keys,o=r(i,Object);t.exports=o},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(68),o=n(85),a=n(37);t.exports=r},function(t,e,n){function r(t,e){return s(t)&&u(e)?l(c(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,void 0,f|h)}}var i=n(27),o=n(120),a=n(121),s=n(9),u=n(36),l=n(37),c=n(11),f=1,h=2;t.exports=r},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(25);t.exports=r},function(t,e){function n(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){if("string"==typeof t)return t;if(o(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}var i=n(23),o=n(14),a=1/0,s=i?i.prototype:void 0,u=s?s.toString:void 0;t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){var r=n(3),i=r["__core-js_shared__"];t.exports=i},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&r(s[a],a,s)!==!1;);return n}}var i=n(18);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}t.exports=n},function(t,e,n){function r(t,e,n,r,i,M,P){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!r(new o(t),new o(e)));case h:case d:case _:return a(+t,+e);case p:return t.name==e.name&&t.message==e.message;case m:case g:return t==e+"";case v:var S=u;case y:var E=M&f;if(S||(S=l),t.size!=e.size&&!E)return!1;var O=P.get(t);if(O)return O==e;M|=c,P.set(t,e);var R=s(S(t),S(e),r,i,M,P);return P.delete(t),R;case b:if(T)return T.call(t)==T.call(e)}return!1}var i=n(23),o=n(57),a=n(40),s=n(31),u=n(108),l=n(112),c=1,f=2,h="[object Boolean]",d="[object Date]",p="[object Error]",v="[object Map]",_="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",M=i?i.prototype:void 0,T=M?M.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,s,u){var l=s&a,c=o(t),f=c.length,h=o(e),d=h.length;if(f!=d&&!l)return!1;for(var p=f;p--;){var v=c[p];if(!(l?v in e:i(e,v)))return!1}var _=u.get(t);if(_&&u.get(e))return _==e;var m=!0;u.set(t,e),u.set(e,t);for(var y=l;++p<f;){v=c[p];var g=t[v],b=e[v];if(r)var x=l?r(b,g,v,e,t,u):r(g,b,v,t,e,u);if(!(void 0===x?g===b||n(g,b,r,s,u):x)){m=!1;break}y||(y="constructor"==v)}if(m&&!y){var w=t.constructor,M=e.constructor;w!=M&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof M&&M instanceof M)&&(m=!1)}return u.delete(t),u.delete(e),m}var i=n(26),o=n(19),a=2;t.exports=r},function(t,e,n){var r=n(29),i=r("length");t.exports=i},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(36),o=n(19);t.exports=r},function(t,e,n){var r=n(52),i=n(16),o=n(54),a=n(55),s=n(58),u=n(65),l=n(39),c="[object Map]",f="[object Object]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",v="[object DataView]",_=Object.prototype,m=_.toString,y=l(r),g=l(i),b=l(o),x=l(a),w=l(s),M=u;(r&&M(new r(new ArrayBuffer(1)))!=v||i&&M(new i)!=c||o&&M(o.resolve())!=h||a&&M(new a)!=d||s&&M(new s)!=p)&&(M=function(t){var e=m.call(t),n=e==f?t.constructor:void 0,r=n?l(n):void 0;if(r)switch(r){case y:return v;case g:return c;case b:return h;case x:return d;case w:return p}return e}),t.exports=M},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(t,e,n){e=u(e,t)?[e]:i(e);for(var r,h=-1,d=e.length;++h<d;){var p=f(e[h]);if(!(r=null!=t&&n(t,p)))break;t=t[p]}if(r)return r;var d=t?t.length:0;return!!d&&l(d)&&s(p,d)&&(a(t)||c(t)||o(t))}var i=n(30),o=n(41),a=n(1),s=n(35),u=n(9),l=n(13),c=n(42),f=n(11);t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{}}var i=n(10);t.exports=r},function(t,e){function n(t){return this.has(t)&&delete this.__data__[t]}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(10),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(10),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return n[t]=i&&void 0===e?o:e,this}var i=n(10),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=t?t.length:void 0;return s(e)&&(a(t)||u(t)||o(t))?i(e,String):null}var i=n(76),o=n(41),a=n(1),s=n(13),u=n(42);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return!!o&&o in t}var i=n(79),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e){function n(){this.__data__=[]}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),!0}var i=n(7),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(7);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(7);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}var i=n(7);t.exports=r},function(t,e,n){function r(){this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(53),o=n(6),a=n(16);t.exports=r},function(t,e,n){function r(t){return i(this,t).delete(t)}var i=n(8);t.exports=r},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(8);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(8);t.exports=r},function(t,e,n){function r(t,e){return i(this,t).set(t,e),this}var i=n(8);t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e,n){(function(t){var r=n(32),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{return s&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(133)(t))},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(){this.__data__=new i}var i=n(6);t.exports=r},function(t,e){function n(t){return this.__data__.delete(t)}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([t,e]),this;n=this.__data__=new a(r)}return n.set(t,e),this}var i=n(6),o=n(16),a=n(17),s=200;t.exports=r},function(t,e,n){var r=n(124),i=n(130),o=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,u=r(function(t){t=i(t);var e=[];return o.test(t)&&e.push(""),t.replace(a,function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)}),e});t.exports=u},function(t,e,n){function r(t,e,n){function r(e){var n=y,r=g;return y=g=void 0,T=e,x=t.apply(r,n)}function c(t){return T=t,w=setTimeout(d,e),P?r(t):x}function f(t){var n=t-M,r=t-T,i=e-n;return S?l(i,b-r):i}function h(t){var n=t-M,r=t-T;return void 0===M||n>=e||n<0||S&&r>=b}function d(){var t=o();return h(t)?p(t):void(w=setTimeout(d,f(t)))}function p(t){return w=void 0,E&&y?r(t):(y=g=void 0,x)}function v(){void 0!==w&&clearTimeout(w),T=0,y=M=g=w=void 0}function _(){return void 0===w?x:p(o())}function m(){var t=o(),n=h(t);if(y=arguments,g=this,M=t,n){if(void 0===w)return c(M);if(S)return w=setTimeout(d,e),r(M)}return void 0===w&&(w=setTimeout(d,e)),x}var y,g,b,x,w,M,T=0,P=!1,S=!1,E=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,i(n)&&(P=!!n.leading,S="maxWait"in n,b=S?u(a(n.maxWait)||0,e):b,E="trailing"in n?!!n.trailing:E),m.cancel=v,m.flush=_,m}var i=n(2),o=n(125),a=n(129),s="Expected a function",u=Math.max,l=Math.min;t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(25);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(66),o=n(88);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(18),o=n(5);t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);
var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(r.Cache||i),n}var i=n(17),o="Expected a function";r.Cache=i,t.exports=r},function(t,e){function n(){return Date.now()}t.exports=n},function(t,e,n){function r(t){return a(t)?i(s(t)):o(t)}var i=n(29),o=n(74),a=n(9),s=n(11);t.exports=r},function(t,e,n){function r(t,e,n){var r=u(t)?i:s,l=arguments.length<3;return r(t,a(e,4),n,l,o)}var i=n(60),o=n(63),a=n(28),s=n(75),u=n(1);t.exports=r},function(t,e,n){function r(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:r,maxWait:e,trailing:s})}var i=n(119),o=n(2),a="Expected a function";t.exports=r},function(t,e,n){function r(t){if("number"==typeof t)return t;if(a(t))return s;if(o(t)){var e=i(t.valueOf)?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=c.test(t);return n||f.test(t)?h(t.slice(2),n?2:8):l.test(t)?s:+t}var i=n(12),o=n(2),a=n(14),s=NaN,u=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt;t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(77);t.exports=r},function(t,e,n){function r(t,e,n){var r=l(t)||h(t);if(e=s(e,4),null==n)if(r||f(t)){var d=t.constructor;n=r?l(t)?new d:[]:c(d)?o(u(t)):{}}else n={};return(r?i:a)(t,function(t,r,i){return e(n,t,r,i)}),n}var i=n(59),o=n(62),a=n(24),s=n(28),u=n(33),l=n(1),c=n(12),f=n(2),h=n(43);t.exports=r},function(t,e,n){var r,i,o={asArray:function(t){var e=this.getBreakPoints(t),n=this.getCustomQueries(t);return this._translate(this._makeSteps(this._toSortedArray(e))).concat(this._objToArr(n))},asObject:function(t){return this._arrToObj(this.asArray(t))},getBreakPoints:function(t){return Object.keys(t).reduce(function(e,n){return"number"==typeof t[n]&&(e[n]=t[n]),e},{})},getCustomQueries:function(t){return Object.keys(t).reduce(function(e,n){return"string"==typeof t[n]&&(e[n]=t[n]),e},{})},_toSortedArray:function(t){return Object.keys(t).map(function(e){return[e,t[e]]}).sort(function(t,e){return t[1]-e[1]})},_makeSteps:function(t){return t[t.length-1][1]===1/0?t:t.concat([1/0])},_translate:function(t){return t.map(function(e,n){return 0===n?[e[0],"screen and (max-width: "+e[1]+"px)"]:n===t.length-1?[e[0]||"default","screen and (min-width: "+(t[n-1][1]+1)+"px)"]:[e[0],"screen and (min-width: "+(t[n-1][1]+1)+"px) and (max-width: "+e[1]+"px)"]})},_objToArr:function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},_arrToObj:function(t){return t.reduce(function(t,e){return t[e[0]]=e[1],t},{})}};"undefined"!=typeof t&&"undefined"!=typeof t.exports?t.exports=o:(r=[],i=function(){return o}.apply(e,r),!(void 0!==i&&(t.exports=i)))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};var r=function(){var t=e[e.length-1],n=e.slice(0,-1);return{v:function(){return n.reduceRight(function(t,e){return e(t)},t.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){function r(){m===_&&(m=_.slice())}function o(){return v}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),m.push(t),function(){if(e){e=!1,r();var n=m.indexOf(t);m.splice(n,1)}}}function c(t){if(!(0,a.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,v=p(v,t)}finally{y=!1}for(var e=_=m,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");p=t,c({type:l.INIT})}function h(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u.default]=function(){return this},t}var d;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var p=t,v=e,_=[],m=_,y=!1;return c({type:l.INIT}),d={dispatch:c,subscribe:s,getState:o,replaceReducer:f},d[u.default]=h,d}e.__esModule=!0,e.ActionTypes=void 0,e.default=i;var o=n(74),a=r(o),s=n(424),u=r(s),l=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e){"use strict";function n(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}e.__esModule=!0,e.default=n},function(t,e){t.exports="// bigTriangle.vert\n\n#define SHADER_NAME BIG_TRIANGLE_VERTEX\n\nprecision highp float;\nattribute vec2 aPosition;\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = vec4(aPosition, 0.0, 1.0);\n    vTextureCoord = aPosition * .5 + .5;\n}"},function(t,e){t.exports="// general.vert\n\n#define SHADER_NAME GENERAL_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec3 position;\nuniform vec3 scale;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n\tvec3 pos      = aVertexPosition * scale;\n\tpos           += position;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\tvTextureCoord = aTextureCoord;\n}"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return a.default.createElement(s.Route,{path:"/",component:l.default},a.default.createElement(s.IndexRoute,{component:f.default}),a.default.createElement(s.Route,{path:"ackack",component:d.default}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(2),a=r(o),s=n(38),u=n(272),l=r(u),c=n(273),f=r(c),h=n(271),d=r(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.initialState,n=void 0===e?{}:e,r=t.browserHistory,i=void 0===r?{}:r,a=[];a.push(s.default,(0,v.default)({promiseTypeSuffixes:["START","SUCCESS","ERROR"]}),(0,h.routerMiddleware)(i)),_&&a.push((0,f.default)());var u=_?(0,o.compose)(d.responsiveStoreEnhancer,o.applyMiddleware.apply(void 0,a),window.devToolsExtension()):(0,o.compose)(d.responsiveStoreEnhancer,o.applyMiddleware.apply(void 0,a)),c=u(o.createStore)(l.default,n);return c}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(97),a=n(411),s=r(a),u=n(274),l=r(u),c=n(408),f=r(c),h=n(66),d=n(188),p=n(409),v=r(p),_={APP_DOMAIN:"/sculpture",ASSETS_DIR:"",REMOTE_ASSETS_DIR:"https://storage.googleapis.com/samrad-mars/www-assets/"}.DEV},function(t,e){},function(t,e,n){var r;!function(){"use strict";/**
		 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
		 *
		 * @codingstandard ftlabs-jsv2
		 * @copyright The Financial Times Limited [All Rights Reserved]
		 * @license MIT License (see LICENSE.txt)
		 */
function i(t,e){function n(t,e){return function(){return t.apply(e,arguments)}}var r;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!i.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,u=0,l=o.length;u<l;u++)s[o[u]]=n(s[o[u]],s);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(t){r(t)},!1),t.onclick=null)}}var o=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!o,s=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,u=s&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=s&&/OS [6-7]_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;i.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(s&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},i.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},i.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},i.prototype.determineEventType=function(t){return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(t){var e;s&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},i.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},i.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],s){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!u){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},i.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},i.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},i.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(t){var e,n,r,i,o,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(o=t.changedTouches[0],c=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=c.tagName.toLowerCase(),"label"===r){if(e=this.findControl(c)){if(this.focus(c),a)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-n>100||s&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),s&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return!(!s||u||(i=c.fastClickScrollParent,!i||i.fastClickLastScrollTop===i.scrollTop))||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},i.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},i.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},i.prototype.destroy=function(){var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(t){var e,n,r,i;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(i>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(e.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},i.attach=function(t,e){return new i(t,e)},r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(28),o=r(i),a=n(140),s=r(a),u=n(137),l=r(u);e.createHistory=l.default;var c=n(71),f=r(c);e.createHashHistory=f.default;var h=n(141),d=r(h);e.createMemoryHistory=d.default;var p=n(73),v=r(p);e.useBasename=v.default;var _=n(142),m=r(_);e.useBeforeUnload=m.default;var y=n(33),g=r(y);e.useQueries=g.default;var b=n(26),x=r(b);e.Actions=x.default;var w=n(305),M=r(w);e.enableBeforeUnload=M.default;var T=n(306),P=r(T);e.enableQueries=P.default;var S=o.default(s.default,"Using createLocation without a history instance is deprecated; please use history.createLocation instead");e.createLocation=S},function(t,e){"use strict";t.exports=function(){try{return!!new Blob}catch(t){return!1}}()},function(t,e,n){"use strict";var r=n(99),i=n(202),o=0;t.exports=function a(t){var e,n={},s=[],u=[],l=0,c=0,f={},h=function(n){if(Array.isArray(n))return n.forEach(h),e;var r,o=!!n.assets&&Array.isArray(n.assets);return r=o?a(_(n,t)):i(_(n,t)),r.once("destroy",x),u.push(r),f[r.id]=r,e},d=function(t){return arguments.length?n[t]:s},p=function(t){if(d(t))return d(t);var e=null;return Object.keys(f).some(function(n){return e=f[n].find&&f[n].find(t),!!e}),e},v=function(t){return t&&t.split("?")[0].split(".").pop().toLowerCase()},_=function(t,e){if("string"==typeof t){var n=t;t={url:n}}return void 0===t.isTouchLocked&&(t.isTouchLocked=e.isTouchLocked),void 0===t.blob&&(t.blob=e.blob),void 0===t.basePath&&(t.basePath=e.basePath),t.id=t.id||t.url||String(++o),t.type=t.type||v(t.url),t.crossOrigin=t.crossOrigin||e.crossOrigin,t.webAudioContext=t.webAudioContext||e.webAudioContext,t.log=e.log,t},m=function(){return c=u.length,u.forEach(function(t){t.on("progress",y).once("complete",g).once("error",b).start()}),u=[],e},y=function(t){var n=l+t;e.emit("progress",n/c)},g=function(t,r,i){Array.isArray(t)&&(t={id:r,file:t,type:i}),l++,e.emit("progress",l/c),n[t.id]=t.file,s.push(t),e.emit("childcomplete",t),w()},b=function(t){c--,e.listeners("error").length?e.emit("error",t):console.error(t),w()},x=function(t){f[t]=null,delete f[t],n[t]=null,delete n[t],s.some(function(e,n){if(e.id===t)return s.splice(n,1),!0})},w=function(){l>=c&&e.emit("complete",s,t.id,"group")},M=function(){for(;u.length;)u.pop().destroy();return e.off("error"),e.off("progress"),e.off("complete"),s=[],n={},t.webAudioContext=null,c=0,l=0,Object.keys(f).forEach(function(t){f[t].destroy()}),f={},e.emit("destroy",e.id),e};return e=Object.create(r.prototype,{_events:{value:{}},id:{get:function(){return t.id}},add:{value:h},start:{value:m},get:{value:d},find:{value:p},getLoader:{value:function(t){return f[t]}},loaded:{get:function(){return l>=c}},file:{get:function(){return s}},destroy:{value:M}}),t=_(t||{},{basePath:"",blob:!1,touchLocked:!1,crossOrigin:null,webAudioContext:null,log:!1}),Array.isArray(t.assets)&&h(t.assets),Object.freeze(e)}},function(t,e,n){"use strict";var r=n(200);r.stats=n(100),t.exports=r},function(t,e,n){"use strict";var r=n(99),i=n(199),o=n(100);t.exports=function(t){var e,n,a,s,u,l,c=t.id,f=t.basePath||"",h=t.url,d=t.type,p=t.crossOrigin,v=t.isTouchLocked,_=t.blob&&i,m=t.webAudioContext,y=t.log,g=function(){switch(s=Date.now(),d){case"json":P();break;case"jpg":case"png":case"gif":case"webp":S();break;case"mp3":case"ogg":case"opus":case"wav":case"m4a":A();break;case"ogv":case"mp4":case"webm":case"hls":C();break;case"bin":case"binary":x("arraybuffer");break;case"txt":case"text":x("text");break;default:throw"AssetsLoader ERROR: Unknown type for file with URL: "+f+h+" ("+d+")"}},b=function(t){t&&(l={id:c,file:t,type:d},e.emit("progress",1),e.emit("complete",l,c,d),F())},x=function(t,e){n=e||M,a=new XMLHttpRequest,a.open("GET",f+h,!0),a.responseType=t,a.addEventListener("progress",w),a.addEventListener("load",n),a.addEventListener("error",L),a.send()},w=function(t){t.lengthComputable&&e.emit("progress",t.loaded/t.total)},M=function(){T()&&b(a.response)},T=function(){return a&&a.status<400?(o.update(a,s,h,y),!0):(L(a&&a.statusText),!1)},P=function(){x("json",function(){if(T()){var t=a.response;"string"==typeof t&&(t=JSON.parse(t)),b(t)}})},S=function(){_?R():E()},E=function(){a=new Image,p&&(a.crossOrigin="anonymous"),a.addEventListener("error",L,!1),a.addEventListener("load",O,!1),a.src=f+h},O=function(){window.clearTimeout(u),b(a)},R=function(){x("blob",function(){T()&&(a=new Image,a.addEventListener("error",L,!1),a.addEventListener("load",k,!1),a.src=window.URL.createObjectURL(a.response))})},k=function(){window.URL.revokeObjectURL(a.src),b(a)},A=function(){m?D():I("audio")},C=function(){_?x("blob"):I("video")},D=function(){x("arraybuffer",function(){T()&&m.decodeAudioData(a.response,function(t){a=null,b(t)},function(t){L(t)})})},I=function(t){a=document.createElement(t),v||(window.clearTimeout(u),u=window.setTimeout(O,2e3),a.addEventListener("canplaythrough",O,!1)),a.addEventListener("error",L,!1),a.preload="auto",a.src=f+h,a.load(),v&&b(a)},L=function(t){window.clearTimeout(u);var n=t;if(a&&a.tagName&&a.error){var r=["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"];n="MediaError: "+r[a.error.code]+" "+a.src}else a&&a.statusText?n=a.statusText:t&&t.message?n=t.message:t&&t.type&&(n=t.type);e.emit("error",'Error loading "'+f+h+'" '+n),j()},F=function(){e.off("error"),e.off("progress"),e.off("complete"),a&&(a.removeEventListener("progress",w),a.removeEventListener("load",n),a.removeEventListener("error",L),a.removeEventListener("load",O),a.removeEventListener("canplaythrough",O),a.removeEventListener("load",k))},j=function(){F(),a&&a.abort&&a.readyState<4&&a.abort(),a=null,m=null,l=null,window.clearTimeout(u),e.emit("destroy",c)};return e=Object.create(r.prototype,{_events:{value:{}},id:{value:t.id},start:{value:g},loaded:{get:function(){return!!l}},file:{get:function(){return l}},destroy:{value:j}}),Object.freeze(e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n(196);var i=n(2),o=r(i),a=n(67),s=r(a),u=n(37),l=n(198),c=n(38),f=n(66),h=n(195),d=r(h),p=n(194),v=r(p),_=n(197),m=r(_);m.default.attach(document.body);var y=(0,c.useRouterHistory)(l.createHistory)({basename:"/sculpture"}),g=(0,d.default)({browserHistory:y}),b=(0,f.syncHistoryWithStore)(y,g),x=(0,v.default)();s.default.render(o.default.createElement(u.Provider,{store:g},o.default.createElement(c.Router,{history:b},x)),document.getElementById("app"))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(13),s=n(4),u=r(s),l=(u.default.GL,function(){function t(e){i(this,t);var n=[];e.forEach(function(t){n.push(u.default.HDRLoader.parse((0,a.getAsset)(t)))}),this._texture=new u.default.GLCubeTexture(n)}return o(t,[{key:"texture",get:function(){return this._texture},set:function(t){return this._texture=t}}]),t}());e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=(n(13),n(4)),l=r(u),c=n(102),f=r(c),h=n(101),d=r(h),p=n(39),v=r(p),_=n(251),m=r(_),y=n(207),g=r(y),b=n(204),x=(r(b),n(112)),w=(r(x),n(42)),M=r(w),T=n(18),P=r(T),S=n(241),E=(r(S),n(240)),O=r(E),R=n(261),k=(r(R),n(250)),A=r(k),C=n(253),D=r(C),I=l.default.GL,L=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{sceneData:t}));return I.enableAlphaBlending(),n._sceneData=t,n.params={},n.params.sceneData=n._sceneData,n._initViewss(),n.orbitalControl=new f.default(n.camera,window,15),n.offset=new l.default.EaseNumber(0,.03),n.anim=new d.default(n.orbitalControl,{radius:100}),n.anim.init(n._sculptures,t.camera),n._initLights(),P.default.on("nav:mesh:next",function(){n.anim.moveToActive()}),P.default.on("sculpture:near",function(t){n._allowProductMode=!0}),P.default.on("sculpture:out",function(t){n._allowProductMode=!1}),P.default.on("gui:toggleRender",function(t){n._stopRender=!n._stopRender}),P.default.on("keyboard:sculpture:view",function(t){n._allowProductMode&&(v.default.pause=!0,n.anim.enterProductMode(),n._env.enterProductMode(),P.default.emit("nav:sculptures:nexthotspot"))}),n._elapsed=0,n}return a(e,t),s(e,[{key:"_initViewss",value:function(){var t=this,e=this.params.sceneData,n=e.views,r=n.terrain,i=n.sky;v.default.setParams(r.movement),v.default.maxPasses=r.mesh.heightmaps.length,this._env=new m.default({sky:i,ground:r});var o=n.sculptures;this._sculptures=new g.default(o),P.default.on("movement:complete",function(){t._sculptures.setHeightData(t._env.terrain)}),this._sculptures.setHeightData(this._env.terrain),this._fbo=new O.default(this.camera,512),this._depth=new A.default}},{key:"_initTextures",value:function(){}},{key:"_initLights",value:function(){this._spotLight=new M.default(512,512),this._spotLight.camera=this.camera,this._spotLight.target=[0,0,0],this._env._terrain.spotlight=this._spotLight,this._sun=new D.default(this.orbitalControl),this._env.sun=this._sun,this._sculptures.sun=this._sun}},{key:"_drawShadowMap",value:function(){this._elapsed/2e3;this._spotLight.bind(),this._spotLight.position=this._sun.position,this._drawScultpures(),this._spotLight.unbind(),I.clear(0,0,0,0)}},{key:"_drawEnv",value:function(t,e){this._env.render(t,e)}},{key:"_drawScultpures",value:function(t){this._sculptures.render()}},{key:"_drawScene",value:function(){this._drawEnv(),this._drawScultpures()}},{key:"_drawToFbo",value:function(){this._fbo.clear(),this._fbo.bind(this._sculptures.activeMesh.position),this._drawEnv(null,!1),this._fbo.unbind()}},{key:"render",value:function(){this._stopRender||(I.clear(0,0,0,0),I.setMatrices(this.camera),v.default.update(),this._elapsed++,this._drawScultpures(),this._drawEnv(!0),this._sun.updateAngle())}},{key:"resize",value:function(){I.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(I.aspectRatio)}},{key:"pause",set:function(t){this._stopRender=t}}]),e}(l.default.Scene);e.default=L},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(47),s=r(a),u=n(210),l=r(u),c=n(205),f=r(c),h=n(39),d=r(h),p=n(9),v=r(p),_=n(18),m=r(_),y=n(208),g=n(201),b=r(g),x=function(){function t(){i(this,t),this._sceneIndex=1,this._init()}return o(t,[{key:"_init",value:function(){var t=this,e="https://storage.googleapis.com/samrad-mars/www-assets/assets/json/sculpture_assets.json?z="+Math.random();(0,y.fetchJson)(e).then(function(e){var n=s.default[t._sceneIndex];n.views=v.default.merge(n.views,e.views),n.textures=e.assets,t._loadAssets()}),window.addEventListener("keyup",function(e){82===e.keyCode&&t.next()}),m.default.on("intro:complete",function(){return t._loadMars()}),m.default.on("sculpture:near",function(){return t._onNear()})}},{key:"_loadAssets",value:function(){this._sceneData=s.default[this._sceneIndex];var t=(0,a.findObjectsWithKey)(this._sceneData,"url"),e=[];t.forEach(function(t){var n=t.id,r=t.url,i=t.type;r="https://storage.googleapis.com/samrad-mars/www-assets/"+r,e.push({id:n,url:r,type:i,crossOrigin:"anonymous"})});new b.default({assets:e}).on("error",function(t){console.error(t)}).on("progress",function(t){m.default.emit("exp:progress",t)}).on("complete",this._onAssetsLoaded.bind(this)).start()}},{key:"_onAssetsLoaded",value:function(t){switch(window.assets=t,this._sceneData.type){case"intro":this._scene=new l.default(this._sceneData);break;case"mars":this._scene=new f.default(this._sceneData)}this._scene.pause=!!this._pause,m.default.emit("exp:loaded")}},{key:"_loadMars",value:function(){this._scene.destroy(),this._sceneIndex=1,this._loadAssets()}},{key:"_onNear",value:function(){}},{key:"next",value:function(){m.default.emit("nav:sculptures:next")}},{key:"nextHotpot",value:function(){m.default.emit("nav:sculptures:nexthotspot")}},{key:"pauseMovement",value:function(){var t=d.default.pause;d.default.pause=!t}},{key:"on",value:function(t,e){m.default.on("exp:"+t,e)}},{key:"pause",set:function(t){this._pause=t,this._scene&&(this._scene.pause=t)}}]),t}();e.default=x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(){return[100*Math.random()-50,0,0-(10*Math.random()+10)]}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(262),l=r(u),c=n(39),f=r(c),h=n(18),d=r(h),p=function(){function t(e){var n=this;o(this,t),this._meshes=[],this._meshDict={},e.forEach(function(t){n._createMesh(t)}),this._active=0,this._navHistory=[this._active],d.default.on("nav:sculptures:next",function(){n.next()}),d.default.on("nav:sculptures:nexthotspot",function(){n.nextHotspot()})}return s(t,[{key:"_createMesh",value:function(t){var e=t.position||a(),n=new(Function.prototype.bind.apply(l.default,[null].concat([t],i(e),[t.scale,t])));n.createTextures(t.textures),this._meshDict[t.id]=n,this._meshes.push(n),this._numMeshes=this._meshes.length}},{key:"useShadowMap",value:function(t){this._meshes.forEach(function(e){e.useShadowMap(t)})}},{key:"setHeightData",value:function(t){this._meshes.forEach(function(e){var n=e.position;e.setHeightValue(t.pixelValueAt(n[0],n[2]))})}},{key:"nextHotspot",value:function(){var t=this.activeMesh,e=this.activeMesh.data.hotspots,n=e.length-1,r=t.hotspotIndex+1,i=r>n?0:r;t.hotspotIndex=i,d.default.emit("camera:hotspot",this.activeHotspot)}},{key:"next",value:function(){this._active++,this._active>=this.meshes.length&&(this._active=0),this._navHistory.push(this._active),d.default.emit("nav:mesh:next"),d.default.emit("set:meshdata",this.activeMesh.data),d.default.emit("camera:hotspot",this.activeHotspot)}},{key:"previous",value:function(){this._active--,this._active<0&&(this._active=this.meshes.length-1),this._navHistory.push(this._active),d.default.emit("nav:mesh:next"),d.default.emit("set:meshdata",this.activeMesh.data)}},{key:"meshBy",value:function(t){return this._meshDict[t]}},{key:"meshAt",value:function(t){return this._meshes[t]}},{key:"render",value:function(){var t=this.numMeshes,e=0,n=f.default.incre;for(e;e<t;e++){var r=this.meshAt(e),i=r.positionBase[2];f.default.incre>i-300&&f.default.incre<i+100?r.canInteract||(r.canInteract=!0,d.default.emit("sculpture:near",e)):r.canInteract&&(r.canInteract=!1,d.default.emit("sculpture:out",e)),i>n&&i<n+1400&&(r.position[2]=-r.positionBase[2]+n,r.render())}}},{key:"meshes",get:function(){return this._meshes}},{key:"numMeshes",get:function(){return this._numMeshes}},{key:"activeMesh",get:function(){return this._meshes[this._active]}},{key:"previousActiveMesh",get:function(){var t=this._navHistory[this._navHistory.length-2]||0;return this._meshes[t]}},{key:"sun",set:function(t){this._meshes.forEach(function(e){e.sun=t})}},{key:"activeHotspot",get:function(){var t=this.activeMesh,e=this.activeMesh.data.hotspots;return e[t.hotspotIndex]}}]),t}();e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}function o(t){return(0,u.default)(t).then(i)}function a(t){return o(t).then(function(t){var e=t.json();return e})}Object.defineProperty(e,"__esModule",{value:!0}),e.fetch=o,e.fetchJson=a;var s=n(308),u=r(s);n(278).polyfill()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(13),f=n(219),h=r(f),d=n(218),p=r(d),v=n(7),_=(r(v),n(9)),m=r(_),y=l.default.GL,g=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,h.default,p.default));return t._time=0,t._transition=0,t._atmosphereIntensity=0,t._noiseAtmosphere=0,t}return a(e,t),s(e,[{key:"_init",value:function(){this._textureAlbedo=new l.default.GLTexture((0,c.getAsset)("albedo")),this.mesh=l.default.Geom.plane(2,2,4,!1,!1)}},{key:"updateUniforms",value:function(t){var e=this;m.default.forIn(t,function(t,n){e[n]=t})}},{key:"render",value:function(t,e){this._time++,this.shader.bind(),this.shader.uniform("texture","uniform1i",0),this.shader.uniform("nextScene","uniform1i",1),this.shader.uniform("time","float",this._time),this.shader.uniform("atmosphereIntensity","float",this._atmosphereIntensity),this.shader.uniform("noiseAtmosphere","int",this._noiseAtmosphere),this.shader.uniform("fade","float",this._transition),t.bind(0),e.bind(1),y.draw(this.mesh)}},{key:"transition",set:function(t){this._transition=t}},{key:"atmosphereIntensity",set:function(t){this._atmosphereIntensity=t}},{key:"noiseAtmosphere",set:function(t){this._noiseAtmosphere=t}}]),e}(l.default.View);e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(13),f=n(102),h=r(f),d=n(112),p=r(d),v=n(101),_=r(v),m=n(212),y=r(m),g=n(211),b=r(g),x=n(209),w=r(x),M=n(213),T=r(M),P=n(7),S=(r(P),n(9)),E=r(S),O=n(18),R=r(O),k=1920,A=1080,C=2*Math.PI,D=l.default.GL,I=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return D.enableAlphaBlending(),n.orbitalControl=new h.default(n.camera,window,100),n.orbitalControl.lock(!0),n.anim=new _.default(n.orbitalControl,{}),n._initLights(),gui.add(n,"zoomIn"),n._sceneTimeline=new TimelineMax({paused:!0,onComplete:n._sceneComplete.bind(n)}),n._scenes=t.scenes,n._sceneIndex=0,n._playScene(),n}return a(e,t),s(e,[{key:"_initTextures",value:function(){this._textureDiffuse=new l.default.GLTexture((0,c.getAsset)("diffuse")),this._textureHeight=new l.default.GLTexture((0,c.getAsset)("height")),this._textureAo=new l.default.GLTexture((0,c.getAsset)("ao")),this._textureSpace=new l.default.GLTexture((0,c.getAsset)("space")),this._textureNebula=new l.default.GLTexture((0,c.getAsset)("nebula"))}},{key:"_initLights",value:function(){this._sun=new p.default({position:[-30,10,0]})}},{key:"_initViews",value:function(){this.meshes=[],this._mars=new y.default,this._sky=new b.default,this._out=new w.default,this._fbo=new T.default(k,A),this._nextSceneFbo=new T.default(k,A)}},{key:"_playScene",value:function(){var t=this,e=this._scenes[this._sceneIndex];this._mars.updateUniforms(e.marsUniforms),this.anim.positionTransfer=e.camera.position,setTimeout(function(){t._transitionScene(e)},1e3*e.duration),this._sceneAnimations(this._scenes[this._sceneIndex])}},{key:"_transitionScene",value:function(t){var e=this,n=this._scenes[this._sceneIndex+1];n&&!function(){var r={val:0};TweenMax.to(r,t.transitionDuration,{val:1,ease:Linear.none,onUpdate:function(){e._out.transition=r.val},onComplete:function(){e._sceneComplete(n)}});var i=t.marsUniforms;e._animateUniforms(i,t.transitionDuration,n.marsUniforms,e._mars);var o=t.outUniforms;e._animateUniforms(o,t.transitionDuration,n.outUniforms,e._out)}()}},{key:"_animateUniforms",value:function(t,e,n,r){var i=Object.assign({},n,{ease:Linear.none,onUpdate:function(){r.updateUniforms(t)}});TweenMax.to(t,e,i)}},{key:"_sceneComplete",value:function(t){t.shake?this.startShake():this.stopShake(),this._sceneIndex++,this._out.transition=0,this._sceneIndex<this._scenes.length&&this._playScene()}},{key:"_sceneAnimations",value:function(t){var e=this;if(t.animations){E.default.forIn(t.animations,function(t,n){e.anim[n]&&e.anim[n](t.value,Object.assign({},t.props,{ease:Cubic.easeIn,onComplete:function(){e._onAnimationComplete()}}))});var n=t.animations.outUniforms;this._animateUniforms({atmosphereIntensity:1},2,n,this._out)}}},{key:"_onAnimationComplete",value:function(){this._sceneIndex>=this._scenes.length-1&&R.default.emit("intro:complete")}},{key:"_renderScene",value:function(t,e){var n=this._scenes[e];this.camera.reset(),t.clear(),t.bind();var r=n.camera;this.anim.positionTransfer=r.position;var i=this.anim.positionTransfer;this._isShaking&&(i=this._addShake(i,n.shakeIntensity)),this.camera.reset(),this.anim.setCamera(i),D.disable(D.CULL_FACE),this._sun.bind(),this._renderSky(),this._renderMars(),D.enable(D.CULL_FACE),this._sun.unbind(),t.unbind()}},{key:"_hasNextScene",value:function(){return this._sceneIndex<this._scenes.length}},{key:"_startAnimation",value:function(t){t.forEach(function(t){E.default.forIn(t,function(t,e){})})}},{key:"_rotateAround",value:function(){this.orbitalControl.ry.value+=.008}},{key:"_renderMars",value:function(){this._mars.render(this._textureDiffuse,this._textureHeight,this._textureAo,this._fbo.getTexture())}},{key:"_renderSky",value:function(){this._sky.render(this._textureSpace,this._textureNebula)}},{key:"render",value:function(){this._stopRender||(D.clear(0,0,0,0),this._mars.rotate(5e-5),this._renderScene(this._fbo,this._sceneIndex),this._sceneIndex<this._scenes.length-1?this._renderScene(this._nextSceneFbo,this._sceneIndex+1):this._nextSceneFbo.clear(),this.anim.setCamera([0,0,0]),this.cameraOrtho.setBoundary(-1,1,-1,1),D.camera._projection=this.cameraOrtho.projection,
this._out.render(this._fbo.getTexture(),this._nextSceneFbo.getTexture()))}},{key:"startShake",value:function(){this._isShaking=!0}},{key:"stopShake",value:function(){this._isShaking=!1}},{key:"_addShake",value:function(t,e){var n=Math.random(C);return[t[0]+Math.cos(n)*e,t[1]+Math.sin(n)*e,t[2]]}},{key:"zoomIn",value:function(){this.animate()}},{key:"animate",value:function(){this.anim.moveTo([30,10,-60],{duration:4,ease:Power1.easeIn,onComplete:function(){R.default.emit("intro:complete")}})}},{key:"resize",value:function(){D.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(D.aspectRatio)}},{key:"destroy",value:function(){this.stop(),this.stopShake(),this.anim.destroy(),D.gl.deleteTexture(this._textureDiffuse.texture),D.gl.deleteTexture(this._textureHeight.texture),D.gl.deleteTexture(this._textureAo.texture),D.gl.deleteTexture(this._textureSpace.texture),D.gl.deleteTexture(this._textureNebula.texture),this._fbo.destroy(),this._nextSceneFbo.destroy()}},{key:"pause",set:function(t){this._stopRender=t}}]),e}(l.default.Scene);e.default=I},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(217),f=r(c),h=n(216),d=r(h),p=l.default.GL,v=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.default,d.default));return t._time=0,t}return a(e,t),s(e,[{key:"_init",value:function(){this.mesh=l.default.Geom.sphere(200,24,!1,!1)}},{key:"render",value:function(t,e){this._time++,this.shader.bind(),this.shader.uniform("texture","uniform1i",0),this.shader.uniform("textureNebula","uniform1i",1),this.shader.uniform("time","float",this._time),t.bind(0),e.bind(1),p.draw(this.mesh)}}]),e}(l.default.View);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(9),f=r(c),h=n(223),d=r(h),p=n(222),v=r(p),_=l.default.GL,m={gamma:.8,displace:1.6,exposure:3,baseColor:[1,.765557,.336057],baseColorAmount:1,diffuseColorAmount:0,saturation:1,ao:.2,metallic:0,roughness:1,specular:0,offset:0,fov:45,visible:!0},y=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,d.default,v.default)),n=gui.addFolder("render settings");return n.addColor(m,"baseColor"),n.add(m,"roughness",0,1),n.add(m,"baseColorAmount",0,1),n.add(m,"diffuseColorAmount",0,1),n.add(m,"displace",0,40),n.add(m,"specular",0,1),n.add(m,"metallic",0,1),n.add(m,"saturation",0,1),n.add(m,"ao",0,.5),n.add(m,"gamma",1,10),n.add(m,"exposure",1,40),n.add(m,"offset",0,1),t.x=0,t.y=0,t.z=0,t.scale=1,t.rotation=0,t._time=0,t.atmosphereIntensity=.4,t.fresnelBias=.05,t.fresnelAmp=1,t}return a(e,t),s(e,[{key:"_init",value:function(){this.mesh=l.default.Geom.sphere(30,116,!0,!0)}},{key:"rotate",value:function(t){this.rotation+=t}},{key:"updateUniforms",value:function(t){var e=this;f.default.forIn(t,function(t,n){e[n]=t})}},{key:"render",value:function(t,e,n,r,i){this._time++,this.shader.bind(),this.shader.uniform("uDiffuse","uniform1i",0),this.shader.uniform("textureHeight","uniform1i",1),this.shader.uniform("uAoMap","uniform1i",2),this.shader.uniform("nextScene","uniform1i",3);var o=.925*m.roughness,a=Math.pow(o,4),s=[m.baseColor[0],m.baseColor[1],m.baseColor[2]];this.shader.uniform("uBaseColor","uniform3fv",s),this.shader.uniform("uRoughness","uniform1f",o),this.shader.uniform("uRoughness4","uniform1f",a),this.shader.uniform("uMetallic","uniform1f",m.metallic),this.shader.uniform("uSpecular","uniform1f",m.specular),t.bind(0),e.bind(1),n.bind(2),r.bind(3);var u=1-m.offset;this.shader.uniform("position","vec3",[this.x*u,this.y*u-7.5*m.offset,this.z*u]),this.shader.uniform("scale","vec3",[this.scale,this.scale,this.scale]),this.shader.uniform("rotation","float",this.rotation),this.shader.uniform("displace","float",m.displace),this.shader.uniform("baseColorAmount","float",m.baseColorAmount),this.shader.uniform("diffuseColorAmount","float",m.diffuseColorAmount),this.shader.uniform("uExposure","uniform1f",m.exposure),this.shader.uniform("uGamma","uniform1f",m.gamma),this.shader.uniform("uAoStrength","uniform1f",m.ao),this.shader.uniform("uGreenOffset","float",u),this.shader.uniform("uTime","float",this._time),this.shader.uniform("atmosphereIntensity","float",this.atmosphereIntensity),this.shader.uniform("fresnelBias","float",this.fresnelBias),this.shader.uniform("fresnelAmp","float",this.fresnelAmp),_.draw(this.mesh)}},{key:"position",set:function(t){this.x=t[0],this.y=t[1],this.z=t[2]}}]),e}(l.default.View);e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=l.default.GL,f=function(t){function e(t,n,r){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r))}return a(e,t),s(e,[{key:"destroy",value:function(){this.clear(),this.unbind(),c.gl.deleteTexture(this.texture),c.gl.deleteTexture(this.depthTexture),c.gl.deleteFramebuffer(this.frameBuffer)}}]),e}(l.default.FrameBuffer);e.default=f},114,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\nfloat getFresnel( vec3 cameraPosition , vec3 wsNormal, float bias, float scale, float power)\n{\n    return bias + scale * pow(1.0 + dot(cameraPosition, wsNormal), power);\n}\n\n\n";e.getFresnel=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(214),o=r(i),a=n(105),s=r(a),u=n(106),l=r(u),c="\n\n// basic.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\nprecision highp float;\n\n"+o.default+"\n\n"+s.default+"\n\n"+l.default+"\n\nprecision highp float;\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform sampler2D textureNebula;\nuniform float time;\n\nvoid main(void) {\n    vec2 newUv = vTextureCoord;\n    vec2 st = vTextureCoord;\n\n\t// float t = time * 0.0007;\n //    vec2 r = vec2(fbm4(newUv + t * 0.7 - newUv.x - newUv.y, 0.4), fbm4(newUv -t * 0.4, 0.4));\n //    newUv.x *= .5+r.x;\n //    newUv.y *= .5+r.y;\n\n //    newUv.x = clamp(newUv.x, 0., 1.);\n //    newUv.y = clamp(newUv.y, 0., 1.);\n\n\t\n\tfloat _fbmTime = time * 0.004;\n\tfloat _fbmIntensity = sin(_fbmTime) * 0.5 + 0.4;\n\tfloat fbm = (fBm(st, _fbmTime, _fbmIntensity) - 0.5) * 0.009;\n\n    vec4 color = texture2D(texture, vec2(st.x + fbm, st.y + fbm));\n \t//vec4 colorBlur = texture2D(textureNebula, newUv);\n\t//vec3 b = blendOverlay_8_12(color.rgb, colorBlur.rgb, 1.);\n    //gl_FragColor = mix(color, colorBlur, offset);\n\t\n\n    //gl_FragColor = vec4(vec3(fbm),1.0);\n    gl_FragColor = vec4(color.rgb,1.0);\n}\n\n";e.default=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n// basic.vert\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n}\n\n";e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(103),o=r(i),a=n(104),s=r(a),u=n(221),l=r(u),c="\n\n// basic.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\nprecision highp float;\n\nprecision highp float;\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\nuniform sampler2D nextScene;\nuniform float time;\nuniform int noiseAtmosphere;\nuniform float fade;\n\nuniform float atmosphereIntensity;\n\n"+o.default+"\n\n"+s.default+"\n\n"+l.default+"\n\nvoid main(void) {\n    vec2 newUv = vTextureCoord;\n\n    vec3 color = texture2D(texture, vTextureCoord).rgb;\n    vec3 nColor = texture2D(nextScene, vTextureCoord).rgb;\n\tfloat _m = sin(time * 0.01)*.5 + 0.5;\n    vec3 _out = mix(color, nColor, fade);\n\n    vec3 atmosphere = mix(ATMOSPHERE_COLOR_RED, ATMOSPHERE_COLOR, newUv.x) * atmosphereIntensity;\n\t\n\tfloat _perlin = 1.;\n\n\tif(noiseAtmosphere > 0){\n\t \t_perlin = noise(newUv + time * 0.02, 1.) + .5;\n\t}\n\n\tatmosphere *= _perlin;\n\n    vec3 finalColor = blendScreen_20_19(_out, atmosphere, 1.);\n\n    gl_FragColor = vec4(_out,1.0);\n    gl_FragColor = vec4(finalColor,1.0);\n}\n\n";e.default=c},217,123,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="#define M_PI 3.14159265358979323846\n\nfloat rand(vec2 co){return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);}\nfloat rand (vec2 co, float l) {return rand(vec2(rand(co), l));}\nfloat rand (vec2 co, float l, float t) {return rand(vec2(rand(co, l), t));}\n\nfloat perlin(vec2 p, float dim, in float _t) {\n    vec2 pos = floor(p * dim);\n    vec2 posx = pos + vec2(1.0, 0.0);\n    vec2 posy = pos + vec2(0.0, 1.0);\n    vec2 posxy = pos + vec2(1.0);\n\n    float c = rand(pos, dim, _t);\n    float cx = rand(posx, dim, _t);\n    float cy = rand(posy, dim, _t);\n    float cxy = rand(posxy, dim, _t);\n\n    vec2 d = fract(p * dim);\n    d = -0.5 * cos(d * M_PI) + 0.5;\n\n    float ccx = mix(c, cx, d.x);\n    float cycxy = mix(cy, cxy, d.x);\n    float center = mix(ccx, cycxy, d.y);\n\n    return center * 2.0 - 1.0;\n}\n\nfloat noise(vec2 p, float freq ){\n    float unit = freq;\n    vec2 ij = floor(p/unit);\n    vec2 xy = mod(p,unit)/unit;\n    //xy = 3.*xy*xy-2.*xy*xy*xy;\n    xy = .5*(1.-cos(M_PI*xy));\n    float a = rand((ij+vec2(0.,0.)));\n    float b = rand((ij+vec2(1.,0.)));\n    float c = rand((ij+vec2(0.,1.)));\n    float d = rand((ij+vec2(1.,1.)));\n    float x1 = mix(a, b, xy.x);\n    float x2 = mix(c, d, xy.x);\n    return mix(x1, x2, xy.y);\n}\n\n";e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(104),o=r(i),a=n(224),s=r(a),u=n(215),l=n(103),c=r(l),f=n(220),h="\n\n#extension GL_EXT_shader_texture_lod : enable\n\nprecision highp float;\n\nuniform sampler2D \tuDiffuse;\nuniform sampler2D textureHeight;\nuniform sampler2D nextScene;\nuniform sampler2D \tuAoMap;\nuniform sampler2D \tuAlbedo;\nuniform samplerCube uIrradianceMap;\n\nuniform vec3\t\tuBaseColor;\nuniform vec3\t\tposition;\n\nuniform float\t\tuRoughness;\nuniform float\t\tuRoughness4;\nuniform float\t\tuMetallic;\nuniform float\t\tuSpecular;\nuniform float \t\tuAoStrength;\nuniform float\t\tuExposure;\nuniform float\t\tuGamma;\nuniform float\t\tuGreenOffset;\n\nuniform float\t\tuTime;\n\nuniform float baseColorAmount;\nuniform float atmosphereIntensity;\nuniform float fresnelBias;\nuniform float fresnelAmp;\nuniform float diffuseColorAmount;\n//uniform float uLightIntensity;\n\nvarying vec3        vNormal;\nvarying vec3        vPosition;\nvarying vec3\t\tvEyePosition;\nvarying vec3\t\tvWsNormal;\nvarying vec3\t\tvWsPosition;\nvarying vec2 \t\tvTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\n\n#define saturate(x) clamp(x, 0.0, 1.0)\n#define PI 3.1415926535897932384626433832795\n\n"+s.default+"\n\n// Filmic tonemapping from\n// http://filmicgames.com/archives/75\n\nconst float A = 0.15;\nconst float B = 0.50;\nconst float C = 0.10;\nconst float D = 0.20;\nconst float E = 0.02;\nconst float F = 0.30;\n\n\n"+f.Uncharted2Tonemap+"\n"+f.EnvBRDFApprox+"\n"+f.FixCubeLookup+"\n\n"+u.getFresnel+"\n\n"+c.default+"\n\n"+o.default+"\n\nvoid main() {\n\tvec2 st \t\t\t\t= vTextureCoord.xy;\n\n\tfloat mRoughness    = uRoughness;\n\tfloat mMetallic     = uMetallic;\n\tfloat mSpecular     = uSpecular;\n\n\n\tvec3 N \t\t\t\t= normalize( vWsNormal);\n\tvec3 V \t\t\t\t= normalize( vEyePosition );\n\n\tvec3 L = normalize(vLightRay);\n\tfloat lambertTerm = max(dot(N,-L),0.33);\n\t\n\t// deduce the diffuse and specular color from the baseColor and how metallic the material is\n\tvec3 diffuseColor\t= uBaseColor - uBaseColor * mMetallic;\n\tdiffuseColor *= baseColorAmount;\n\tvec3 specularColor\t= mix( vec3( 0.08 * mSpecular ), uBaseColor, mMetallic );\n\n\tfloat colorOffset = smoothstep(12.0, 0.0, vWsPosition.y);\n\t\n\tfloat lambertDiffuseValue = min(lambertTerm , 1.0);\n\tlambertDiffuseValue = 1.0; //***HACK\n\tvec3 color;\n\n\t// sample the pre-filtered cubemap at the corresponding mipmap level\n\t// float numMips\t\t= 6.0;\n\t// float mip\t\t\t= numMips - 1.0 + log2(mRoughness);\n\t// vec3 lookup\t\t\t= -reflect( V, N );\n\t// lookup\t\t\t\t= fix_cube_lookup( lookup, 512.0, mip );\n\t// vec3 radiance\t\t= pow( textureCubeLodEXT( uIrradianceMap, lookup, mip ).rgb, vec3( 2.2 ) );\n\t// vec3 irradiance\t\t= pow( textureCube( uIrradianceMap, N ).rgb, vec3( 1 ) );\n\t\n\t// // get the approximate reflectance\n\t// float NoV\t\t\t= saturate( dot( N, V ) );\n\t// vec3 reflectance\t= EnvBRDFApprox( specularColor, uRoughness4, NoV );\n\t\n\t// // combine the specular IBL and the BRDF\n\tvec3 diffTexture \t= texture2D(uDiffuse, vTextureCoord).rgb * lambertDiffuseValue;\n //    vec3 diffuse  \t\t= irradiance * diffuseColor + (irradiance * diffTexture + diffTexture);\n //    vec3 specular \t\t= radiance * reflectance;\n\t// color\t\t\t\t= diffuse + specular;\n\n\tcolor\t\t\t\t= diffTexture;\n\n\tvec3 ao \t\t\t= texture2D(uAoMap, vTextureCoord).rgb;\n\tfloat ssao \t\t\t= smoothstep(uAoStrength, 1.0, ao.r);\n\t// ao  \t\t\t\t= smoothstep(vec3(.5), vec3(1.0), ap);\n\tcolor \t\t\t\t*= ssao;\n\n\t// apply the tone-mapping\n\tcolor\t\t\t\t= Uncharted2Tonemap( color * uExposure );\n\t// white balance\n\tcolor\t\t\t\t= color * ( 1.0 / Uncharted2Tonemap( vec3( 40.0 ) ) );\n\t\n\t// gamma correction\n\tcolor\t\t\t\t= pow( color, vec3( 1.0 / uGamma ) );\n\t\n\tfloat fresenl = getFresnel(vEyePosition + position, vWsNormal, 0., fresnelBias, fresnelAmp);\n\tfresenl = max(fresenl, 0.0);\n\tfloat _fbmTime = uTime * 0.002;\n\tfloat _fbmIntensity = sin(_fbmTime) * 0.5 + 1.4;\n\tvec2 _pos = vec2(fract(st.x + _fbmTime * 0.04), fract(st.y + _fbmTime* 0.04));\n\tvec3 _atmosphere = atmosphere(_pos, _fbmTime, _fbmIntensity);\n\t_atmosphere *= atmosphereIntensity;\n\tvec3 finalColor = blendScreen_20_19(color, _atmosphere, 1.0);\n\n\tvec3 fresenlColor = finalColor * fresenl;// * atmosphereIntensity;\n\tfinalColor *= fresenl;\n\t// float opacity \t\t= smoothstep(0.0, 0.25, 1.0-uGreenOffset);\n\t// output the fragment color\n    gl_FragColor\t\t= vec4( fresenlColor, 1.0 );\n    gl_FragColor\t\t= vec4( finalColor, 1.0 );\n    //gl_FragColor\t\t= vec4( vEyePosition + position, 1.0 );\n    //gl_FragColor\t\t= vec4( vec3(fresenl), 1.0 );\n    //\tgl_FragColor\t\t= vec4( vec3(lambertTerm), 1.0 );\n\n}\n\n";e.default=h},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n// basic.vert\n#define AMP 2.\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform sampler2D texture;\nuniform sampler2D textureHeight;\n\nuniform float displace;\nuniform vec3 position;\nuniform float rotation;\nuniform vec3 scale;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat3 uNormalMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uModelViewMatrixInverse;\n\nuniform vec3 uLightPosition;\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\nvarying vec2 vTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\n\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 vWsPosition;\nvarying vec3 vEyePosition;\nvarying vec3 vWsNormal;\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n//blue is lowest\n//green is mid\n//red is mid\n\n// but all three together is taller...\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nvoid main(void) {\n\tvec3 pos = aVertexPosition;\n\n\tfloat amp = displace;\n\tvec3 color = texture2D(textureHeight, aTextureCoord).rgb;\n\tamp -= (1. - color.r) * displace;\n\t//pos.yz \t\t\t\t\t= rotate(pos.yz, rotation);\n\tpos.xz \t\t\t\t\t= rotate(pos.xz, rotation);\n\tpos += aNormal * amp;\n\tpos *= scale;\n\tpos += position;\n\n\tvec4 worldSpacePosition\t= uModelMatrix * vec4(pos, 1.0);\n    vec4 viewSpacePosition\t= uViewMatrix * worldSpacePosition;\n\n    vec4 vertex = viewSpacePosition * vec4(pos, 1.0);\n \tvec4 light = vec4(uLightPosition,1.0);\n \tvNormal = vec3(viewSpacePosition * vec4(aNormal, 1.0));\n \tvLightRay = vertex.xyz-light.xyz;\n \tvEyeVec = -vec3(vertex.xyz);\n\t\n    vNormal\t\t\t\t\t= uNormalMatrix * aNormal;\n    vPosition\t\t\t\t= viewSpacePosition.xyz;\n\tvWsPosition\t\t\t\t= worldSpacePosition.xyz;\n\t\n\tvec4 eyeDirViewSpace\t= viewSpacePosition - vec4( 0, 0, 0, 1 );\n\tvEyePosition\t\t\t= -vec3( uModelViewMatrixInverse * eyeDirViewSpace.xyz );\n\tvWsNormal\t\t\t\t= normalize( uModelViewMatrixInverse * vNormal );\n\t\n    gl_Position\t\t\t\t= uProjectionMatrix * viewSpacePosition;\n\n\tvTextureCoord\t\t\t= aTextureCoord;\n    \n}\n\n";e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n vec3 changeSaturation(vec3 color, float saturation) {\n \tfloat luma = dot(vec3(0.2125, 0.7154, 0.0721) * color, vec3(1.));\n \treturn mix(vec3(luma), color, saturation);\n }\n";e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(12),s=r(a),u=n(108),l=r(u),c=void 0,f=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),c=s.default.gl,this._size=e,this.magFilter=n.magFilter||c.LINEAR,this.minFilter=n.minFilter||c.LINEAR,this.wrapS=n.wrapS||c.CLAMP_TO_EDGE,this.wrapT=n.wrapT||c.CLAMP_TO_EDGE,this._init()}return o(t,[{key:"_init",value:function(){this.texture=c.createTexture(),this.glTexture=new l.default(this.texture,{},(!0)),c.bindTexture(c.TEXTURE_CUBE_MAP,this.texture),c.texParameteri(c.TEXTURE_CUBE_MAP,c.TEXTURE_MAG_FILTER,this.magFilter),c.texParameteri(c.TEXTURE_CUBE_MAP,c.TEXTURE_MIN_FILTER,this.minFilter),c.texParameteri(c.TEXTURE_CUBE_MAP,c.TEXTURE_WRAP_S,this.wrapS),c.texParameteri(c.TEXTURE_CUBE_MAP,c.TEXTURE_WRAP_T,this.wrapT);for(var t=[c.TEXTURE_CUBE_MAP_POSITIVE_X,c.TEXTURE_CUBE_MAP_NEGATIVE_X,c.TEXTURE_CUBE_MAP_POSITIVE_Y,c.TEXTURE_CUBE_MAP_NEGATIVE_Y,c.TEXTURE_CUBE_MAP_POSITIVE_Z,c.TEXTURE_CUBE_MAP_NEGATIVE_Z],e=0;e<t.length;e++)c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1),c.texImage2D(t[e],0,c.RGBA,this.width,this.height,0,c.RGBA,c.FLOAT,null);this._frameBuffers=[];for(var n=0;n<t.length;n++){var r=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,r),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,t[n],this.texture,0);var i=c.checkFramebufferStatus(c.FRAMEBUFFER);i!==c.FRAMEBUFFER_COMPLETE&&console.log("gl.checkFramebufferStatus() returned "+i),this._frameBuffers.push(r)}c.bindFramebuffer(c.FRAMEBUFFER,null),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindTexture(c.TEXTURE_CUBE_MAP,null)}},{key:"bind",value:function(t){s.default.viewport(0,0,this.width,this.height),c.bindFramebuffer(c.FRAMEBUFFER,this._frameBuffers[t])}},{key:"unbind",value:function(){c.bindFramebuffer(c.FRAMEBUFFER,null),s.default.viewport(0,0,s.default.width,s.default.height)}},{key:"getTexture",value:function(){return this.glTexture}},{key:"width",get:function(){return this._size}},{key:"height",get:function(){return this._size}}]),t}();e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(69),l=r(u),c=n(7),f=r(c),h=f.default.vec3,d=[[h.fromValues(0,0,0),h.fromValues(1,0,0),h.fromValues(0,-1,0)],[h.fromValues(0,0,0),h.fromValues(-1,0,0),h.fromValues(0,-1,0)],[h.fromValues(0,0,0),h.fromValues(0,1,0),h.fromValues(0,0,1)],[h.fromValues(0,0,0),h.fromValues(0,-1,0),h.fromValues(0,0,-1)],[h.fromValues(0,0,0),h.fromValues(0,0,1),h.fromValues(0,-1,0)],[h.fromValues(0,0,0),h.fromValues(0,0,-1),h.fromValues(0,-1,0)]],p=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.setPerspective(Math.PI/2,1,.1,1e3),t}return a(e,t),s(e,[{key:"face",value:function(t){var e=d[t];this.lookAt(e[0],e[1],e[2])}}]),e}(l.default);e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(12),u=r(s),l=n(41),c=r(l),f=n(31),h=r(f),d=n(40),p=r(d),v=function(t){function e(){i(this,e);var t=[],r=[],a=[0,1,2,3,4,5],s=9999;t.push([-s,0,0]),t.push([s,0,0]),t.push([0,-s,0]),t.push([0,s,0]),t.push([0,0,-s]),t.push([0,0,s]),r.push([1,0,0]),r.push([1,0,0]),r.push([0,1,0]),r.push([0,1,0]),r.push([0,0,1]),r.push([0,0,1]);var l=new c.default(u.default.LINES);l.bufferVertex(t),l.bufferIndices(a),l.bufferData(r,"aColor",3);var f=new h.default(n(417),n(416));return o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,l,f))}return a(e,t),e}(p.default);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function _(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:_(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=n(48),c=r(l),f=n(31),h=r(f),d=n(40),p=r(d),v=function(t){function e(){i(this,e);var t=c.default.sphere(1,24),r=new h.default(n(193),n(98));return o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r))}return a(e,t),s(e,[{key:"draw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[0,0,0]:arguments[0],n=arguments.length<=1||void 0===arguments[1]?[1,1,1]:arguments[1],r=arguments.length<=2||void 0===arguments[2]?[1,1,1]:arguments[2],i=arguments.length<=3||void 0===arguments[3]?1:arguments[3];this.shader.bind(),this.shader.uniform("position","uniform3fv",t),this.shader.uniform("scale","uniform3fv",n),this.shader.uniform("color","uniform3fv",r),this.shader.uniform("opacity","uniform1f",i),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this)}}]),e}(p.default);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function _(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:_(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=n(48),c=r(l),f=n(31),h=r(f),d=n(40),p=r(d),v=function(t){function e(){i(this,e);var t=c.default.bigTriangle(),r=new h.default(n(192),n(420)),a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return r.bind(),r.uniform("texture","uniform1i",0),a}return a(e,t),s(e,[{key:"draw",value:function(t){this.shader.bind(),t.bind(0),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this)}}]),e}(p.default);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function y(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:y(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=n(12),c=r(l),f=n(41),h=r(f),d=n(31),p=r(d),v=n(40),_=r(v),m=function(t){function e(){i(this,e);var t=[],r=[],a=0,s=100,u=50,l=u/s,f=void 0,d=void 0;for(f=-u/2;f<u;f+=l)for(d=-u/2;d<u;d+=l)t.push([f,d,0]),r.push(a),a++,t.push([f,0,d]),r.push(a),a++;var v=new h.default(c.default.POINTS);v.bufferVertex(t),v.bufferIndices(r);var _=new p.default(n(421),n(98)),m=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,v,_));return m.color=[1,1,1],m.opacity=.5,m}return a(e,t),s(e,[{key:"draw",value:function(){this.shader.bind(),this.shader.uniform("color","uniform3fv",this.color),this.shader.uniform("opacity","uniform1f",this.opacity),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this)}}]),e}(_.default);e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(415),s=r(a),u=n(12),l=r(u),c=n(69),f=r(c),h=n(110),d=r(h),p=n(111),v=r(p),_=function(){function t(){var e=this;i(this,t),this._init(),this._initTextures(),this._initViews(),this._efIndex=s.default.addEF(function(){return e._loop()}),window.addEventListener("resize",function(){return e.resize()})}return o(t,[{key:"render",value:function(){}},{key:"stop",value:function(){this._efIndex!==-1&&(this._efIndex=s.default.removeEF(this._efIndex))}},{key:"start",value:function(){var t=this;this._efIndex===-1&&(this._efIndex=s.default.addEF(function(){return t._loop()}))}},{key:"resize",value:function(){l.default.setSize(window.innerWidth,window.innerHeight),this.camera.setAspectRatio(l.default.aspectRatio);
}},{key:"_initTextures",value:function(){}},{key:"_initViews",value:function(){}},{key:"_init",value:function(){this.camera=new f.default,this.camera.setPerspective(45*Math.PI/180,l.default.aspectRatio,.1,1e4),this.orbitalControl=new v.default(this.camera,window,15),this.orbitalControl.radius.value=10,this.cameraOrtho=new d.default}},{key:"_loop",value:function(){l.default.viewport(0,0,l.default.width,l.default.height),l.default.setMatrices(this.camera),this.render()}}]),t}();e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(31),s=r(a),u=function(){function t(e,n){i(this,t),this.shader=new s.default(e,n),this._init()}return o(t,[{key:"_init",value:function(){}},{key:"render",value:function(){}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(70),l=r(u),c=n(237),f=r(c),h=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,!0))}return a(e,t),s(e,[{key:"parse",value:function(t){return(0,f.default)(t)}},{key:"_onLoaded",value:function(){var t=this.parse(this._req.response);this._callback&&this._callback(t)}}]),e}(l.default);h.parse=function(t){return(0,f.default)(t)},e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function p(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:p(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=n(70),c=r(l),f=n(41),h=r(f),d=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return a(e,t),s(e,[{key:"load",value:function(t,n){var r=arguments.length<=2||void 0===arguments[2]||arguments[2],i=arguments.length<=3||void 0===arguments[3]?4:arguments[3];this._ignoreNormals=r,this._drawType=i,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"load",this).call(this,t,n)}},{key:"_onLoaded",value:function(){this._parseObj(this._req.response)}},{key:"_parseObj",value:function(t){function e(t){var e=parseInt(t);return 3*(e>=0?e-1:e+h.length/3)}function n(t){var e=parseInt(t);return 3*(e>=0?e-1:e+d.length/3)}function r(t){var e=parseInt(t);return 2*(e>=0?e-1:e+p.length/2)}function i(t,e,n){l.push([h[t],h[t+1],h[t+2]]),l.push([h[e],h[e+1],h[e+2]]),l.push([h[n],h[n+1],h[n+2]]),v.push(3*_+0),v.push(3*_+1),v.push(3*_+2),_++}function o(t,e,n){c.push([p[t],p[t+1]]),c.push([p[e],p[e+1]]),c.push([p[n],p[n+1]])}function a(t,e,n){f.push([d[t],d[t+1],d[t+2]]),f.push([d[e],d[e+1],d[e+2]]),f.push([d[n],d[n+1],d[n+2]])}function s(t,s,u,l,c,f,h,d,p,v,_,m){var y=e(t),g=e(s),b=e(u),x=void 0;void 0===l?i(y,g,b):(x=e(l),i(y,g,x),i(g,b,x)),void 0!==c&&(y=r(c),g=r(f),b=r(h),void 0===l?o(y,g,b):(x=r(d),o(y,g,x),o(g,b,x))),void 0!==p&&(y=n(p),g=n(v),b=n(_),void 0===l?a(y,g,b):(x=n(m),a(y,g,x),a(g,b,x)))}for(var u=t.split("\n"),l=[],c=[],f=[],h=[],d=[],p=[],v=[],_=0,m=void 0,y=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,g=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,b=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,x=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,w=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,M=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,T=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,P=0;P<u.length;P++){var S=u[P];S=S.trim(),0!==S.length&&"#"!==S.charAt(0)&&(null!==(m=y.exec(S))?h.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])):null!==(m=g.exec(S))?d.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])):null!==(m=b.exec(S))?p.push(parseFloat(m[1]),parseFloat(m[2])):null!==(m=x.exec(S))?s(m[1],m[2],m[3],m[4]):null!==(m=w.exec(S))?s(m[2],m[5],m[8],m[11],m[3],m[6],m[9],m[12]):null!==(m=M.exec(S))?s(m[2],m[6],m[10],m[14],m[3],m[7],m[11],m[15],m[4],m[8],m[12],m[16]):null!==(m=T.exec(S))&&s(m[2],m[5],m[8],m[11],void 0,void 0,void 0,void 0,m[3],m[6],m[9],m[12]))}this._generateMeshes({positions:l,coords:c,normals:f,indices:v})}},{key:"_generateMeshes",value:function(t){var e=65535,n=t.normals.length>0,r=t.coords.length>0;if(t.positions.length>e){var i=[],o=0,a={};for(a.positions=t.positions.concat(),a.coords=t.coords.concat(),a.indices=t.indices.concat(),a.normals=t.normals.concat();t.indices.length>0;){for(var s=Math.min(e,t.positions.length),u=t.indices.splice(0,s),l=[],c=[],f=[],d=void 0,p=0,v=0;v<u.length;v++)u[v]>p&&(p=u[v]),d=u[v],l.push(a.positions[d]),r&&c.push(a.coords[d]),n&&f.push(a.normals[d]),u[v]-=o;o=p+1;var _=new h.default(this._drawType);_.bufferVertex(l),r&&_.bufferTexCoords(c),_.bufferIndices(u),!this._ignoreNormals&&n&&_.bufferNormal(f),i.push(_)}this._callback&&this._callback(i,a)}else{var m=new h.default(this._drawType);m.bufferVertex(t.positions),r&&m.bufferTexCoords(t.coords),m.bufferIndices(t.indices),!this._ignoreNormals&&n&&m.bufferNormal(t.normals),this._callback&&this._callback(m,t)}}}]),e}(c.default);e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(12),s=(r(a),n(107)),u=r(s),l=n(48),c=r(l),f=function(){function t(e,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];i(this,t),this._fbo=new u.default(e,n,r),this._fboTarget=new u.default(e,n,r),this._mesh=c.default.bigTriangle(),this._passes=[]}return o(t,[{key:"addPass",value:function(t){this._passes.push(t)}},{key:"render",value:function(t){for(var e=0;e<this._passes.length;e++)this._swap()}},{key:"_swap",value:function(){var t=this._fbo;this._fbo=this._fboTarget,this._fboTarget=t}}]),t}();e.default=f},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=!0;try{var o=document.createEvent("CustomEvent");o=null}catch(a){i=!1}var s=function(){function t(){n(this,t)}return r(t,[{key:"addEventListener",value:function(t,e){return null===this._eventListeners&&(this._eventListeners={}),this._eventListeners[t]||(this._eventListeners[t]=[]),this._eventListeners[t].push(e),this}},{key:"removeEventListener",value:function(t,e){null===this._eventListeners&&(this._eventListeners={});var n=this._eventListeners[t];if("undefined"==typeof n)return this;for(var r=n.length,i=0;i<r;i++)n[i]===e&&(n.splice(i,1),i--,r--);return this}},{key:"dispatchEvent",value:function(t){null===this._eventListeners&&(this._eventListeners={});var e=t.type;try{null===t.target&&(t.target=this),t.currentTarget=this}catch(n){var r={type:e,detail:t.detail,dispatcher:this};return this.dispatchEvent(r)}var i=this._eventListeners[e];if(null!==i&&void 0!==i)for(var o=this._copyArray(i),a=o.length,s=0;s<a;s++){var u=o[s];u.call(this,t)}return this}},{key:"dispatchCustomEvent",value:function(t,e){var n=void 0;return i?(n=document.createEvent("CustomEvent"),n.dispatcher=this,n.initCustomEvent(t,!1,!1,e)):n={type:t,detail:e,dispatcher:this},this.dispatchEvent(n)}},{key:"_destroy",value:function(){if(null!==this._eventListeners){for(var t in this._eventListeners)if(this._eventListeners.hasOwnProperty(t)){for(var e=this._eventListeners[t],n=e.length,r=0;r<n;r++)e[r]=null;delete this._eventListeners[t]}this._eventListeners=null}}},{key:"_copyArray",value:function(t){for(var e=new Array(t.length),n=e.length,r=0;r<n;r++)e[r]=t[r];return e}}]),t}();e.default=s},function(t,e){"use strict";function n(t,e,n,r,i,o){function a(e){var n=0;do e[n++]=t[r];while(++r<v&&n<e.length);return n}function s(e,n,i){var o=0;do e[n+o++]=t[r];while(++r<v&&o<i);return o}function u(t,e,n,r){var i=4*r,o=s(e,n,i);if(o<i)throw new Error("Error reading raw pixels: got "+o+" bytes, expected "+i)}for(var l=new Array(4),c=null,f=void 0,h=void 0,d=void 0,p=new Array(2),v=t.length;o>0;){if(a(l)<l.length)throw new Error("Error reading bytes: expected "+l.length);if(2!==l[0]||2!==l[1]||0!==(128&l[2]))return e[n++]=l[0],e[n++]=l[1],e[n++]=l[2],e[n++]=l[3],void u(t,e,n,i*o-1);if(((255&l[2])<<8|255&l[3])!==i)throw new Error("Wrong scanline width "+((255&l[2])<<8|255&l[3])+", expected "+i);null===c&&(c=new Array(4*i)),f=0;for(var _=0;_<4;_++)for(h=(_+1)*i;f<h;){if(a(p)<p.length)throw new Error("Error reading 2-byte buffer");if((255&p[0])>128){if(d=(255&p[0])-128,0===d||d>h-f)throw new Error("Bad scanline data");for(;d-- >0;)c[f++]=p[1]}else{if(d=255&p[0],0===d||d>h-f)throw new Error("Bad scanline data");if(c[f++]=p[1],--d>0){if(s(c,f,d)<d)throw new Error("Error reading non-run data");f+=d}}}for(var m=0;m<i;m++)e[n+0]=c[m],e[n+1]=c[m+i],e[n+2]=c[m+2*i],e[n+3]=c[m+3*i],n+=4;o--}}function r(t){function e(){var e="";do{var n=t[r];if(n===c){++r;break}e+=String.fromCharCode(n)}while(++r<l);return e}t instanceof ArrayBuffer&&(t=new Uint8Array(t));for(var r=0,l=t.length,c=10,f=0,h=0,d=1,p=1,v=!1,_=0;_<20;_++){var m=e(),y=void 0;if(y=m.match(i));else if(y=m.match(s))v=!0;else if(y=m.match(a))d=Number(y[1]);else if(y=m.match(o));else if(y=m.match(u)){h=Number(y[1]),f=Number(y[2]);break}}if(!v)throw new Error("File is not run length encoded!");var g=new Uint8Array(f*h*4),b=f,x=h;n(t,g,0,r,b,x);for(var w=new Float32Array(f*h*4),M=0;M<g.length;M+=4){var T=g[M+0]/255,P=g[M+1]/255,S=g[M+2]/255,E=g[M+3],O=Math.pow(2,E-128);T*=O,P*=O,S*=O;var R=M;w[R+0]=T,w[R+1]=P,w[R+2]=S,w[R+3]=1}return{shape:[f,h],exposure:d,gamma:p,data:w}}Object.defineProperty(e,"__esModule",{value:!0});var i="#\\?RADIANCE",o="#.*",a="EXPOSURE=\\s*([0-9]*[.][0-9]*)",s="FORMAT=32-bit_rle_rgbe",u="-Y ([0-9]+) \\+X ([0-9]+)";e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),s=r(a),u=n(49),l=r(u),c=n(32),f=r(c),h=function(t,e){var n=e||{};return t.touches?(n.x=t.touches[0].pageX,n.y=t.touches[0].pageY):(n.x=t.clientX,n.y=t.clientY),n},d=function(){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?window:arguments[1],o=arguments.length<=2||void 0===arguments[2]?.1:arguments[2];i(this,t),this._target=e,this._listenerTarget=r,this.matrix=s.default.mat4.create(),this.m=s.default.mat4.create(),this._vZaxis=s.default.vec3.clone([0,0,0]),this._zAxis=s.default.vec3.clone([0,0,1]),this.preMouse={x:0,y:0},this.mouse={x:0,y:0},this._isMouseDown=!1,this._rotation=s.default.quat.create(),this.tempRotation=s.default.quat.create(),this._rotateZMargin=0,this._offset=.004,this._slerp=-1,this._isLocked=!1,this._diffX=new l.default(0,o),this._diffY=new l.default(0,o),this._listenerTarget.addEventListener("mousedown",function(t){return n._onDown(t)}),this._listenerTarget.addEventListener("touchstart",function(t){return n._onDown(t)}),this._listenerTarget.addEventListener("mousemove",function(t){return n._onMove(t)}),this._listenerTarget.addEventListener("touchmove",function(t){return n._onMove(t)}),window.addEventListener("touchend",function(){return n._onUp()}),window.addEventListener("mouseup",function(){return n._onUp()}),f.default.addEF(function(){return n._loop()})}return o(t,[{key:"inverseControl",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isInvert=t}},{key:"lock",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this._isLocked=t}},{key:"setCameraPos",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?.1:arguments[1];if(this.easing=e,!(this._slerp>0)){var n=s.default.quat.clone(this._rotation);this._updateRotation(n),this._rotation=s.default.quat.clone(n),this._currDiffX=this.diffX=0,this._currDiffY=this.diffY=0,this._isMouseDown=!1,this._isRotateZ=0,this._targetQuat=s.default.quat.clone(t),this._slerp=1}}},{key:"resetQuat",value:function(){this._rotation=s.default.quat.clone([0,0,1,0]),this.tempRotation=s.default.quat.clone([0,0,0,0]),this._targetQuat=void 0,this._slerp=-1}},{key:"_onDown",value:function(t){if(!this._isLocked){var e=h(t),n=s.default.quat.clone(this._rotation);this._updateRotation(n),this._rotation=n,this._isMouseDown=!0,this._isRotateZ=0,this.preMouse={x:e.x,y:e.y},e.y<this._rotateZMargin||e.y>window.innerHeight-this._rotateZMargin?this._isRotateZ=1:(e.x<this._rotateZMargin||e.x>window.innerWidth-this._rotateZMargin)&&(this._isRotateZ=2),this._diffX.setTo(0),this._diffY.setTo(0)}}},{key:"_onMove",value:function(t){this._isLocked||h(t,this.mouse)}},{key:"_onUp",value:function(){this._isLocked||(this._isMouseDown=!1)}},{key:"_updateRotation",value:function(t){this._isMouseDown&&!this._isLocked&&(this._diffX.value=-(this.mouse.x-this.preMouse.x),this._diffY.value=this.mouse.y-this.preMouse.y,this._isInvert&&(this._diffX.value=-this._diffX.targetValue,this._diffY.value=-this._diffY.targetValue));var e=void 0,n=void 0;if(this._isRotateZ>0)1===this._isRotateZ?(e=-this._diffX.value*this._offset,e*=this.preMouse.y<this._rotateZMargin?-1:1,n=s.default.quat.clone([0,0,Math.sin(e),Math.cos(e)]),s.default.quat.multiply(n,t,n)):(e=-this._diffY.value*this._offset,e*=this.preMouse.x<this._rotateZMargin?1:-1,n=s.default.quat.clone([0,0,Math.sin(e),Math.cos(e)]),s.default.quat.multiply(n,t,n));else{var r=s.default.vec3.clone([this._diffX.value,this._diffY.value,0]),i=s.default.vec3.create();s.default.vec3.cross(i,r,this._zAxis),s.default.vec3.normalize(i,i),e=s.default.vec3.length(r)*this._offset,n=s.default.quat.clone([Math.sin(e)*i[0],Math.sin(e)*i[1],Math.sin(e)*i[2],Math.cos(e)]),s.default.quat.multiply(t,n,t)}}},{key:"_loop",value:function(){s.default.mat4.identity(this.m),void 0===this._targetQuat?(s.default.quat.set(this.tempRotation,this._rotation[0],this._rotation[1],this._rotation[2],this._rotation[3]),this._updateRotation(this.tempRotation)):(this._slerp+=.1*(0-this._slerp),this._slerp<.001?(s.default.quat.set(this._rotation,this._targetQuat[0],this._targetQuat[1],this._targetQuat[2],this._targetQuat[3]),this._targetQuat=void 0,this._slerp=-1):(s.default.quat.set(this.tempRotation,0,0,0,0),s.default.quat.slerp(this.tempRotation,this._targetQuat,this._rotation,this._slerp))),s.default.vec3.transformQuat(this._vZaxis,this._vZaxis,this.tempRotation),s.default.mat4.fromQuat(this.matrix,this.tempRotation)}},{key:"easing",set:function(t){this._diffX.easing=t,this._diffY.easing=t},get:function(){return this._diffX.easing}}]),t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={simpleColorFrag:n(98),bigTriangleVert:n(192),generalVert:n(193),generalNormalVert:n(422)};e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function d(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:d(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=n(4),c=r(l),f=n(7),h=(c.default.GL,function(t){function e(t,n){arguments.length<=2||void 0===arguments[2]?{}:arguments[2];i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r._camera=t,r._position=f.vec3.fromValues(100,20,12.5),r._target=f.vec3.fromValues(0,0,0),r._direction=f.vec3.create(),r._viewMat=f.mat4.create(),r._upVec=f.vec3.fromValues(0,0,1),r._projectionMat=f.mat4.create(),r._dirty=!0,r.outerAngle=.15*Math.PI,r._projAngle=r.outerAngle*(180/Math.PI)*2,r._cameraViewMat=f.mat4.create(),r._cameraProjMat=f.mat4.create(),r}return a(e,t),s(e,[{key:"bind",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this),this._camera}},{key:"unbind",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbind",this).call(this),this._camera}},{key:"_getViewMat",value:function(){return f.mat4.lookAt(this._viewMat,this._camera.position,this._target,this._upVec),this._viewMat}},{key:"_getProjectionMat",value:function(){return f.mat4.perspective(this._projectionMat,this._camera._fov,this._camera._aspectRatio,.1,1e3),this._projectionMat}}]),e}(l.FrameBuffer));e.default=h},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["","WEBKIT_","MOZ_"],r=["attribute vec2 position;","attribute vec2 texture;","varying vec2 texCoord;","void main(void) {","   texCoord = texture;","   gl_Position = vec4(position, 0.0, 1.0);","}"].join("\n"),i=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 texCoord;","void main(void) {","   vec4 color = texture2D(diffuse, texCoord);","   gl_FragColor = vec4(color.rgb, color.a);","}"].join("\n"),o=null,a=null,s=new Uint8Array([255,255,255,255]),u=function(){function t(t){var e;o.length?(e=o.shift(),t.loadTexture(e.gl,e.src,e.texture,e.callback)):n[r++]=t}var e=16,n=new Array(e),r=0,i=e,o=[],a=function(t){var e=this;this.gl=null,this.texture=null,this.callback=null,this.image=new Image,this.image.addEventListener("load",function(){var n=e.gl;n.bindTexture(n.TEXTURE_2D,e.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e.image),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_NEAREST),n.generateMipmap(n.TEXTURE_2D),t(e),e.callback&&e.callback(e.texture)})};a.prototype.loadTexture=function(t,e,n,r){this.gl=t,this.texture=n,this.callback=r,this.image.src=e};var s=function(t,e,n,r){this.gl=t,this.src=e,this.texture=n,this.callback=r};return function(e,u,l,c){var f;r?(f=n[--r],f.loadTexture(e,u,l,c)):i?(f=new a(t),f.loadTexture(e,u,l,c),--i):o.push(new s(e,u,l,c))}}(),l=function(t,e){var n,r,i,o,a;for(this.program=e,this.attribute={},this.uniform={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=0;n<o;n++)r=t.getActiveAttrib(e,n),this.attribute[r.name]=t.getAttribLocation(e,r.name);for(o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<o;n++)i=t.getActiveUniform(e,n),a=i.name.replace("[0]",""),this.uniform[a]=t.getUniformLocation(e,a)},c={ShaderWrapper:l,getContext:function(t,e,n){var r;if(t.getContext)if(2==n)try{if(r=t.getContext("webgl2",e))return r}catch(i){}else{try{if(r=t.getContext("webgl",e))return r}catch(i){}try{if(r=t.getContext("experimental-webgl",e))return r}catch(i){}}return null},showGLFailed:function(t){var e="Either your browser does not support WebGL, or it may be disabled.<br/>";e+='Please visit <a href="http://get.webgl.org">http://get.webgl.org</a> for ',e+="details on how to get a WebGL enabled browser.",this.showFatalError(t,"Sorry, but a WebGL context could not be created",e)},showFatalError:function(t,e,n){var r=document.createElement("div"),i="<h3>"+e+"</h3>"+n;r.innerHTML=i,r.id="gl-error",t.parentNode.replaceChild(r,t)},createProgram:function(t,e,n){var r=t.createProgram(),i=this.compileShader(t,e,t.VERTEX_SHADER),o=this.compileShader(t,n,t.FRAGMENT_SHADER);return t.attachShader(r,i),t.attachShader(r,o),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)?new l(t,r):(console.error("Program Link error:",t.getProgramInfoLog(r)),t.deleteProgram(r),t.deleteShader(i),t.deleteShader(o),null)},compileShader:function(t,e,n){var r="\n",i=t.createShader(n);if(t.shaderSource(i,r+e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){var o="";switch(n){case t.VERTEX_SHADER:o="VERTEX_SHADER";break;case t.FRAGMENT_SHADER:o="FRAGMENT_SHADER"}return console.error(o,t.getShaderInfoLog(i)),t.deleteShader(i),null}return i},getExtension:function(t,e){var r,i;for(r in n)if(i=t.getExtension(n[r]+e))return i;return null},createSolidTexture:function(t,e){var n=new Uint8Array(e),r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGB,1,1,0,t.RGB,t.UNSIGNED_BYTE,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),r},loadTexture:function(t,e,n){var r=t.createTexture();return n||(t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGB,1,1,0,t.RGB,t.UNSIGNED_BYTE,s)),u(t,e,r,n),r},drawTexturedQuad:function(t,e,n,s,u,l){if(!o){var c=[-1,1,0,1,-1,-1,0,0,1,1,1,1,-1,-1,0,0,1,-1,1,0,1,1,1,1];a=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),o=this.createProgram(t,r,i)}t.getParameter(t.VIEWPORT);t.viewport(n,s,u,l),t.disable(t.DEPTH_TEST),t.useProgram(o.program),t.bindBuffer(t.ARRAY_BUFFER,a),t.enableVertexAttribArray(o.attribute.position),t.enableVertexAttribArray(o.attribute.texture),t.vertexAttribPointer(o.attribute.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(o.attribute.texture,2,t.FLOAT,!1,16,8),t.activeTexture(t.TEXTURE0),t.uniform1i(o.uniform.diffuse,0),t.bindTexture(t.TEXTURE_2D,e),t.drawArrays(t.TRIANGLES,0,6),t.enable(t.DEPTH_TEST)},getQueryVariable:function(t){for(var e=window.location.search.substring(1),n=e.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");if(i[0]==t)return unescape(i[1])}return null}};e.default=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision highp float;\nvarying vec2 vTextureCoord;\nuniform float time;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vec3(1.0, 0.0, 0.0), 1.0);\n}\n\n";e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision highp float;\nvarying vec2 vTextureCoord;\nuniform float time;\nuniform sampler2D texture;\n\nvoid main(void) {\n\tfloat n = 1.0;\n\tfloat f = 2000.0;\n\tfloat z = texture2D(texture, vTextureCoord.st).x;\n\tvec3 rrr = texture2D(texture, vTextureCoord.st).rgb;\n\tfloat grey = (2.0 * n) / (f + n - z*(f-n));\n\tvec4 color = vec4(grey, grey, grey, 1.0);\n\tgl_FragColor = color;\n\t//gl_FragColor = vec4(rrr, 1.0);\n    //gl_FragColor = vec4(vec3(1.0, 0.0, 0.0), 1.0);\n}\n\n";e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n#define SHADER_NAME REFLECTION_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform mat3 uModelViewMatrixInverse;\n\nuniform vec3 uLightPosition;\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\nuniform vec3 position;\nuniform vec3 scale;\nuniform float rotation;\nuniform float heightMap;\n\nvarying vec2 vTextureCoord;\n\nvarying vec3 vPosition;\nvarying vec3 vWsPosition;\nvarying vec3 vEyePosition;\n\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nvoid main(void) {\n\tvec3 pos \t\t\t\t= aVertexPosition;\n\t// pos.yz \t\t\t\t\t= rotate(pos.yz, 0.05);\n\t//pos.xz \t\t\t\t\t= rotate(pos.xz, rotation);\n\t//pos.y \t\t\t\t\t+= heightMap;\n\tpos \t\t\t\t\t=  pos * scale + position;\n\tvec4 worldSpacePosition\t= uModelMatrix * vec4(pos, 1.0);\n    vec4 viewSpacePosition\t= uViewMatrix * worldSpacePosition;\n\n    vPosition\t\t\t\t= viewSpacePosition.xyz;\n\tvWsPosition\t\t\t\t= worldSpacePosition.xyz;\n\t\n\tvec4 eyeDirViewSpace\t= viewSpacePosition - vec4( 0, 0, 0, 1 );\n\tvEyePosition\t\t\t= -vec3( uModelViewMatrixInverse * eyeDirViewSpace.xyz );\n\t\n    gl_Position\t\t\t\t= uProjectionMatrix * viewSpacePosition;\n\n\tvTextureCoord\t\t\t= aTextureCoord;\n}\n";e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n#define SHADER_NAME REFLECTION_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform mat3 uModelViewMatrixInverse;\n\nuniform vec3 uLightPosition;\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\nuniform vec3 position;\nuniform vec3 scale;\nuniform float radius;\nuniform float heightMap;\n\nvarying vec2 vTextureCoord;\n\nvarying vec3 vPosition;\nvarying vec3 vWsPosition;\nvarying vec3 vEyePosition;\n\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nvoid main(void) {\n\tvec3 pos \t\t\t\t= aVertexPosition;\n\tvec3 offsetPos = position;\n\toffsetPos.x *= radius;\n\toffsetPos.y *= radius;\n\t//pos *= radius;\n\t// pos.yz \t\t\t\t\t= rotate(pos.yz, 0.05);\n\t//pos.xz \t\t\t\t\t= rotate(pos.xz, rotation);\n\t//pos.y \t\t\t\t\t+= heightMap;\n\tpos \t\t\t\t\t=  pos * scale + offsetPos;\n\tvec4 worldSpacePosition\t= uModelMatrix * vec4(pos, 1.0);\n    vec4 viewSpacePosition\t= uViewMatrix * worldSpacePosition;\n\n    vPosition\t\t\t\t= viewSpacePosition.xyz;\n\tvWsPosition\t\t\t\t= worldSpacePosition.xyz;\n\t\n\tvec4 eyeDirViewSpace\t= viewSpacePosition - vec4( 0, 0, 0, 1 );\n\tvEyePosition\t\t\t= -vec3( uModelViewMatrixInverse * eyeDirViewSpace.xyz );\n\t\n    gl_Position\t\t\t\t= uProjectionMatrix * viewSpacePosition;\n\n\tvTextureCoord\t\t\t= aTextureCoord;\n}\n";e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(9),f=(r(c),n(135)),h=r(f),d=n(39),p=r(d),v=n(113),_=r(v),m=(n(13),n(18)),y=r(m),g=n(47),b=n(255),x=r(b),w=n(254),M=r(w),T=l.default.GL,P=30,S=256,E=256,O=128,R=5,k=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,x.default,M.default));return n._texures=[],n._texuresLength=0,n.baseColor=g.MARS_COLORS.baseColor,n.rotation=t.mesh.rotation||Math.PI/2,n.scale=t.mesh.scale||R,n._wsegments=t.mesh.widthSegments||O,n._hsegments=t.mesh.heightSegments||O,n._w=t.mesh.width||S,n._h=t.mesh.height||E,n._amp=t.mesh.amp||P,n.x=0,n.y=0,n.z=0,n._washOutFactor=0,n._wasOutTween={},n._initMesh(),n._initPosition(t.mesh.position||[0,-4,0]),n._pDark=[g.MARS_COLORS.darkColor[0]/255,g.MARS_COLORS.darkColor[1]/255,g.MARS_COLORS.darkColor[2]/255],n._pBase=[g.MARS_COLORS.baseColor[0]/255,g.MARS_COLORS.baseColor[1]/255,g.MARS_COLORS.baseColor[2]/255],n._pLight=[g.MARS_COLORS.lightColor[0]/255,g.MARS_COLORS.lightColor[1]/255,g.MARS_COLORS.lightColor[2]/255],n._pFog=[g.MARS_COLORS.fogColor[0]/255,g.MARS_COLORS.fogColor[1]/255,g.MARS_COLORS.fogColor[2]/255],n._scales=[n.scale,n.scale,n.scale],n._position=[n.x,n.y,n.z],n._terrainHeight=new _.default(Object.assign({},t.movement,{verbose:!1})),n._terrainHeight.setTerrains(t.mesh.heightmaps),n._terrainAo=new _.default(Object.assign({},t.movement,{verbose:!1})),n._terrainAo.setTerrains(t.mesh.textures),n._heightTexture=new l.default.GLTexture(n._terrainHeight.canvas),n._aoTexture=new l.default.GLTexture(n._terrainAo.canvas),y.default.on("movement:complete",function(){n._terrainHeight.next(),n._terrainAo.next(),n._sideViews[0].next(),n._sideViews[1].next(),n.blendSides(n._sideViews),n._heightTexture.updateTexture(n._terrainHeight.canvas),n._aoTexture.updateTexture(n._terrainAo.canvas)}),n}return a(e,t),s(e,[{key:"_initPosition",value:function(t){this.x=t[0],this.y=t[1],this.z=t[2]}},{key:"enterProductMode",value:function(t){var e=this;this._wasOutTween.val=this._washOutFactor,h.default.to(this._wasOutTween,t,{
val:1,overwrite:1,onUpdate:function(){e._washOutFactor=e._wasOutTween.val}})}},{key:"exitProductMode",value:function(){}},{key:"createFromAssetId",value:function(t){}},{key:"pixelValueAt",value:function(t,e){return this._terrainHeight.getPixelValueAt(t,e)*this._amp}},{key:"blendSides",value:function(t){var e=t[0].getSides(!0),n=t[1].getSides(!1);this._terrainHeight.blendSide(e[0],!0),this._terrainHeight.blendSide(n[0],!1),this._terrainAo.blendSide(e[1],!0),this._terrainAo.blendSide(n[1],!1),this._heightTexture.updateTexture(this._terrainHeight.canvas),this._aoTexture.updateTexture(this._terrainAo.canvas)}},{key:"_init",value:function(){}},{key:"_initMesh",value:function(){this.mesh=l.default.Geom.plane(this._w,this._h,this._wsegments,this._hsegments)}},{key:"render",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this._position[2]=p.default.z,this.shader.bind(),p.default.needsUpdate,this.shader.uniform("uAoMap","uniform1i",0),this.shader.uniform("uHeightMap","uniform1i",1),this._aoTexture.bind(0),this._heightTexture.bind(1),t&&(this._spotlight.bindUniforms(this.shader,2),this.shader.uniform("sunPosition","vec3",this._spotlight.position)),this.shader.uniform("baseColor","vec3",this._pBase),this.shader.uniform("lightColor","vec3",this._pLight),this.shader.uniform("darkColor","vec3",this._pDark),this.shader.uniform("fogColor","vec3",this._pFog),this.shader.uniform("position","vec3",this._position),this.shader.uniform("scale","vec3",this._scales),this.shader.uniform("rotation","float",this.rotation),this.shader.uniform("heightMap","float",this._amp),this.shader.uniform("washOutFactor","float",this._washOutFactor),this.shader.uniform("uAngle","float",this._sun.angle),T.draw(this.mesh)}},{key:"spotlight",set:function(t){this._spotlight=t}},{key:"sun",set:function(t){this._sun=t}},{key:"sideViews",set:function(t){this._sideViews=t,this.blendSides(this._sideViews)}}]),e}(l.default.View);e.default=k},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(9),f=(r(c),n(13)),h=n(47),d=n(121),p=r(d),v=n(120),_=r(v),m=l.default.GL,y=140,g=512,b=256,x=32,w=3,M=.001,T=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,p.default,_.default));return n._params=t,n._texures=[],n._texuresLength=0,n.baseColor=h.MARS_COLORS.baseColor,n.rotationX=Math.PI/2,n.rotationY=Math.PI/2,n.scale=t.scale||w,n._wsegments=t.widthSegments||x,n._hsegments=t.heightSegments||x,n._w=t.width||g,n._h=t.height||b,n._amp=t.amp||y,n.x=0,n.y=0,n.z=0,n._initMesh(),n._initPosition(t.position||[0,0,0]),n._pDark=[h.MARS_COLORS.darkColor[0]/255,h.MARS_COLORS.darkColor[1]/255,h.MARS_COLORS.darkColor[2]/255],n._pBase=[h.MARS_COLORS.baseColor[0]/255,h.MARS_COLORS.baseColor[1]/255,h.MARS_COLORS.baseColor[2]/255],n._pLight=[h.MARS_COLORS.lightColor[0]/255,h.MARS_COLORS.lightColor[1]/255,h.MARS_COLORS.lightColor[2]/255],n._pFog=[h.MARS_COLORS.fogColor[0]/255,h.MARS_COLORS.fogColor[1]/255,h.MARS_COLORS.fogColor[2]/255],n._c=0,n}return a(e,t),s(e,[{key:"_initPosition",value:function(t){this.x=t[0],this.y=t[1],this.z=t[2]}},{key:"_init",value:function(){}},{key:"_initMesh",value:function(){this.mesh=l.default.Geom.plane(this._w,this._h,this._wsegments,this._hsegments),this._tW=new l.default.GLTexture((0,f.getAsset)(this._params.heightmaps[0])),this._tWao=new l.default.GLTexture((0,f.getAsset)(this._params.textures[0]))}},{key:"render",value:function(){this._c+=M,this.shader.bind(),this.shader.uniform("uHeightMap","uniform1i",0),this.shader.uniform("uAoMap","uniform1i",1),this._tW.bind(0),this._tWao.bind(1),this.shader.uniform("heightMap","float",this._amp),this.shader.uniform("rotationY","float",this.rotationY),this.shader.uniform("rotationX","float",this.rotationX),this.shader.uniform("baseColor","vec3",this._pBase),this.shader.uniform("lightColor","vec3",this._pLight),this.shader.uniform("darkColor","vec3",this._pDark),this.shader.uniform("position","vec3",[this.x,this.y,this.z]),this.shader.uniform("scale","vec3",[this.scale,this.scale,this.scale]),this.shader.uniform("time","float",this._c),m.draw(this.mesh)}}]),e}(l.default.View);e.default=T},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(9),f=(r(c),n(39)),h=r(f),d=n(113),p=r(d),v=(n(13),n(18)),_=(r(v),n(47)),m=n(121),y=r(m),g=n(120),b=r(g),x=l.default.GL,w=30,M=256,T=256,P=128,S=5,E=.001,O=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,y.default,b.default));return n._params=t,n._texures=[],n._texuresLength=0,n.baseColor=_.MARS_COLORS.baseColor,n.rotationX=Math.PI/2,n.rotationY=Math.PI/2,n.scale=t.scale||S,n._wsegments=t.widthSegments||P,n._hsegments=t.heightSegments||P,n._w=t.width||M,n._h=t.height||T,n._amp=t.amp||w,n.x=0,n.y=0,n.z=0,n._washOutFactor=0,n._wasOutTween={},n._initMesh(),n._initPosition(t.position||[0,0,0]),n._pDark=[_.MARS_COLORS.darkColor[0]/255,_.MARS_COLORS.darkColor[1]/255,_.MARS_COLORS.darkColor[2]/255],n._pBase=[_.MARS_COLORS.baseColor[0]/255,_.MARS_COLORS.baseColor[1]/255,_.MARS_COLORS.baseColor[2]/255],n._pLight=[_.MARS_COLORS.lightColor[0]/255,_.MARS_COLORS.lightColor[1]/255,_.MARS_COLORS.lightColor[2]/255],n._pFog=[_.MARS_COLORS.fogColor[0]/255,_.MARS_COLORS.fogColor[1]/255,_.MARS_COLORS.fogColor[2]/255],n._c=0,n._scales=[n.scale,n.scale,n.scale],n._position=[n.x,n.y,n.z],console.log(n._position),n._terrainHeight=new p.default(Object.assign({},t.movement,{verbose:t.movement.verboseHeight})),n._terrainAo=new p.default(Object.assign({},t.movement,{verbose:t.movement.verboseAo})),n._terrainHeight.setTerrains(t.heightmaps),n._terrainAo.setTerrains(t.textures),n._heightTexture=new l.default.GLTexture(n._terrainHeight.canvas),n._aoTexture=new l.default.GLTexture(n._terrainAo.canvas),n}return a(e,t),s(e,[{key:"_initPosition",value:function(t){this.x=t[0],this.y=t[1],this.z=t[2]}},{key:"enterProductMode",value:function(t){var e=this;this._wasOutTween.val=this._washOutFactor,TweenLite.to(this._wasOutTween,t,{val:1,overwrite:1,onUpdate:function(){e._washOutFactor=e._wasOutTween.val}})}},{key:"exitProductMode",value:function(){}},{key:"_init",value:function(){}},{key:"_initMesh",value:function(){this.mesh=l.default.Geom.plane(this._w,this._h,this._wsegments,this._hsegments)}},{key:"getSides",value:function(t){return[this._terrainHeight.getSide(t),this._terrainAo.getSide(t)]}},{key:"next",value:function(){this._terrainHeight.next(),this._terrainAo.next(),this._heightTexture.updateTexture(this._terrainHeight.canvas),this._aoTexture.updateTexture(this._terrainAo.canvas)}},{key:"render",value:function(){!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this._c+=E,this._position[2]=h.default.z,this.shader.bind(),this.shader.uniform("uHeightMap","uniform1i",0),this.shader.uniform("uAoMap","uniform1i",1),this._heightTexture.bind(0),this._aoTexture.bind(1),this.shader.uniform("position","vec3",this._position),this.shader.uniform("scale","vec3",this._scales),this.shader.uniform("baseColor","vec3",this._pBase),this.shader.uniform("lightColor","vec3",this._pLight),this.shader.uniform("darkColor","vec3",this._pDark),this.shader.uniform("fogColor","vec3",this._pFog),this.shader.uniform("washOutFactor","float",this._washOutFactor),this.shader.uniform("rotationX","float",this.rotationX),this.shader.uniform("heightMap","float",this._amp),this.shader.uniform("uAngle","float",this._sun.angle),x.draw(this.mesh)}},{key:"sun",set:function(t){this._sun=t}}]),e}(l.default.View);e.default=O},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(125),f=r(c),h=n(124),d=r(h),p=l.default.GL,v=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.default,d.default));return n._r=t.radius||500,n._seg=t.segments||24,n.x=0,n.y=-200,n.z=0,n._washOutFactor=1,n._wasOutTween={},n._sunPosition=[],n._initMesh(),n}return a(e,t),s(e,[{key:"enterProductMode",value:function(t){var e=this;this._wasOutTween.val=this._washOutFactor,TweenLite.to(this._wasOutTween,t,{val:0,overwrite:1,onUpdate:function(){e._washOutFactor=e._wasOutTween.val}})}},{key:"exitProductMode",value:function(){}},{key:"_initMesh",value:function(){this.mesh=l.default.Geom.sphere(this._r,this._seg,!1,!1)}},{key:"render",value:function(t){this.shader.bind(),this.shader.uniform("uHorizon","uniform1i",0),this.shader.uniform("position","vec3",[this.x,this.y,this.z]),this.shader.uniform("uAngle","float",this._sun.angle),this.shader.uniform("washOutFactor","float",this._washOutFactor),t.bind(0),p.draw(this.mesh)}},{key:"sun",set:function(t){this._sun=t}}]),e}(l.default.View);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(244),f=r(c),h=n(243),d=r(h),p=l.default.GL,v=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.default,d.default));return t.x=0,t.y=3,t.z=10,t}return a(e,t),s(e,[{key:"_init",value:function(){this.mesh=l.default.Geom.plane(4,4,2,!1,!1)}},{key:"render",value:function(t){this.shader.bind(),this.shader.uniform("position","vec3",[this.x,this.y,this.z]),this.shader.uniform("scale","vec3",[1,1,1]),this.shader.uniform("texture","uniform1i",0),t.bind(0),p.draw(this.mesh)}}]),e}(l.default.View);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),s=r(a),u=n(246),l=r(u),c=n(248),f=r(c),h=n(249),d=r(h),p=n(252),v=r(p),_=n(247),m=(r(_),n(13)),y=s.default.GL,g=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),this.param=e,this._initTextures(),this._initMesh()}return o(t,[{key:"_initTextures",value:function(){this._tHorizon=new s.default.GLTexture((0,m.getAsset)("horizon"))}},{key:"_initMesh",value:function(){this._alysEnv=new d.default(this.param.sky),this._sky=new v.default(this.param.sky),this._terrain=new l.default(this.param.ground),this._sideLeft=new f.default(this.param.ground.mesh.sides.left),this._sideRight=new f.default(this.param.ground.mesh.sides.right),this._terrain.sideViews=[this._sideLeft,this._sideRight]}},{key:"enterProductMode",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?.7:arguments[0];this._sideLeft.enterProductMode(e),this._sideRight.enterProductMode(e),this._terrain.enterProductMode(e),this._sky.enterProductMode(e),this._isProductMode=!0,setTimeout(function(){t._pauseMars=!0},1e3*e)}},{key:"exitProductMode",value:function(){}},{key:"render",value:function(t){y.disable(y.CULL_FACE),this._isProductMode&&this._alysEnv.render(this._tHorizon),this._pauseMars||(this._sky.render(this._tHorizon),y.enable(y.CULL_FACE),this._sideLeft.render(),this._sideRight.render(),this._terrain.render(t))}},{key:"sun",set:function(t){this._sideRight.sun=t,this._sideLeft.sun=t,this._terrain.sun=t,this._sky.sun=t,this._alysEnv.sun=t}},{key:"terrain",get:function(){return this._terrain}}]),t}();e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(125),f=r(c),h=n(124),d=r(h),p=l.default.GL,v=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.default,d.default));return n._r=t.radius||500,n._seg=t.segments||24,n.x=0,n.y=-200,n.z=0,n._washOutFactor=0,n._wasOutTween={},n._sunPosition=[],n._initMesh(),n}return a(e,t),s(e,[{key:"enterProductMode",value:function(t){var e=this;this._wasOutTween.val=this._washOutFactor,TweenLite.to(this._wasOutTween,t,{val:1,overwrite:1,onUpdate:function(){e._washOutFactor=e._wasOutTween.val}})}},{key:"exitProductMode",value:function(){}},{key:"_initMesh",value:function(){this.mesh=l.default.Geom.sphere(this._r,this._seg,!1,!1)}},{key:"render",value:function(t){this.shader.bind(),this.shader.uniform("uHorizon","uniform1i",0),this.shader.uniform("position","vec3",[this.x,this.y,this.z]),this.shader.uniform("uAngle","float",this._sun.angle),this.shader.uniform("washOutFactor","float",this._washOutFactor),t.bind(0),p.draw(this.mesh)}},{key:"sun",set:function(t){this._sun=t}}]),e}(l.default.View);e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(245),f=r(c),h=n(242),d=r(h),p=l.default.GL,v=.005,_=20,m=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,f.default,d.default));return n._cameraControls=t,n._x=0,n._y=0,n._z=-256,n.scale=1,n.radius=_,n._c=Math.PI,n._position=[],n}return a(e,t),s(e,[{key:"_init",value:function(){this.mesh=l.default.Geom.sphere(3,6,!1,!1)}},{key:"updateAngle",value:function(){this._c+=v,this._x=Math.cos(this._c)*_,this._y=Math.sin(this._c)*_,this._position[0]=this._x,this._position[1]=this._y,this._position[2]=this._z}},{key:"render",value:function(){this._cameraControls&&(this.shader.bind(),this.shader.uniform("position","vec3",[this._x,this._y,this._z]),this.shader.uniform("scale","vec3",[this.scale,this.scale,this.scale]),this.shader.uniform("radius","float",_),p.draw(this.mesh))}},{key:"z",set:function(t){this._z=t}},{key:"position",get:function(){return this._position}},{key:"angle",get:function(){return this._c}}]),e}(l.default.View);e.default=m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(123),o=n(50),a=n(117),s=n(114),u=r(s),l=n(119),c=r(l),f=n(116),h=(r(f),n(115)),d=(r(h),n(118)),p=n(42),v="\n\n#extension GL_EXT_shader_texture_lod : enable\n#define EXPOSURE 4.6\n#define GAMMA 1.\n#define FOG 0.8\n//*** USED FOR THE HORIZON\n#define NEAR -1024.\n#define FAR 1024.\n#define SHADOW_INTENSITY .7\n\n\nprecision highp float;\n\nuniform float rotation;\nuniform sampler2D \tuHeightMap;\nuniform sampler2D \tuAoMap;\n\nuniform mat4 uViewMatrix;\n\nuniform vec3 uLightPosition;\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\nuniform vec3 baseColor;\nuniform vec3 uLightColor;\nuniform vec3 darkColor;\nuniform vec3 fogColor;\n\nuniform vec3 sunPosition;\nuniform vec3 position;\n\nuniform int sceneDepth;\nuniform float heightMap;\nuniform float washOutFactor;\nuniform float uAngle;\n\nvarying vec3        vNormal;\nvarying vec3        vPosition;\nvarying vec3\t\tvEyePosition;\nvarying vec3\t\tvWsNormal;\nvarying vec3\t\tvWsPosition;\nvarying vec3\t\tvVertexPosition;\n\nvarying vec2 \t\tvTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\n\n\n// Filmic tonemapping from\n// http://filmicgames.com/archives/75\n\nconst float A = 0.15;\nconst float B = 0.50;\nconst float C = 0.10;\nconst float D = 0.20;\nconst float E = 0.02;\nconst float F = 0.30;\n\n\n\n"+i.Uncharted2Tonemap+"\n"+i.EnvBRDFApprox+"\n"+i.FixCubeLookup+"\n"+i.correctGamma+"\n"+i.COLOR0+"\n"+i.COLOR1+"\n\n"+a.changeContrast+"\n\n"+u.default+"\n\n//"+p.spotFrag+"\n\n"+o.SUN_MORNING+"\n"+o.SUN_EVENING+"\n"+o.sunSkyPosition+"\n"+o.mixMorningEvening+"\n\n//"+d.applyFog+"\n\n"+c.default+"\n\n\nvoid main() {\n\tvec2 st = vTextureCoord;\n\n\t//vec4 dv = texture2D( uHeightMap, vTextureCoord );\n\tvec3 L = normalize(sunPosition);\n\tvec3 N = normalize(vNormal * 2.0 - 1.0);\n\n\tL.y *= -1.;\n\tL.x *= -1.;\n\tL.x *= 4.;\n\tfloat _lDot = dot(N, -L);\n\tfloat lambertTerm = max(_lDot,.1);\n\n\n\tfloat shadowValue = min(computeShadow(), 1.);\n\n\t// vec3 E = normalize(vEyePosition);\n\t// vec3 P = normalize(vPosition);\n\t// vec3 _pp = P - E;\n\n\n\t//****** THIS IS THE HORIZON linearDepth\n\tfloat _sinSun = sin(-uAngle);\n\tfloat _sunSkyPosition = sunSkyPosition(_sinSun);\n\tvec3 skyHue = mixMorningEvening(_sunSkyPosition);\n\n\t//****** THIS IS FOCAL LENGTH\n\tfloat _near = NEAR + position.z;\n\tfloat _far = FAR + position.z;\n\tfloat linearDepth = clamp(length(vPosition) / (_far - _near), 0., .9);\n\n\t//vec3 mixFogColor = mix(mix(fogColor, baseColor, clamp(_sunSkyPosition, 0., 1.)), skyHue, 0.2);\n\n\t//vec3 color = mix(skyHue, vec3(1.), 0.2);\n\n\tfloat heightMod  = texture2D( uHeightMap, st ).x;\n\t//****reduce the height 0.5-1.0\n\tfloat heightMapReduced = heightMod * .5 + 0.5;\n\n\t//**** color contrast from the textures\n\tvec3 color \t\t = texture2D(uAoMap, vTextureCoord).rgb;\n\tvec3 colorLambert = color * (lambertTerm * 0.2);\n\tcolor +=  colorLambert;\n\tcolor = clamp(color, 0., 1.);\n\n\tcolor *= changeContrast(color, heightMod * 2.5);\n\tfloat ssao \t\t\t= smoothstep(0.02, 1.0, heightMapReduced);\n\tcolor \t\t\t\t*= ssao;\n\n\tcolor += 0.2;\n\n\tvec3 gradientMap = mix(darkColor, lightColor, 1.-heightMod);\n\tgradientMap *= max((lambertTerm - 0.3),.4);\n\n\tvec3 gradientWithSky = mix(skyHue, gradientMap, 0.9);\n\n\tvec3 nColor = color * gradientWithSky;\n\tnColor = changeContrast(nColor, 0.1);\n\t//gradientMap = mix(skyHue, gr)\n\t//gradientMap + mix(skyHue, baseColor, clamp(_sunSkyPosition * 0.8, 0., 0.8 ));\n\n\t//color *= gradientMap;\n\n\t//color += color * lambertTerm;\n\t//color *= lambertTerm;\n\t//color *= clamp((1. - heightMod),0.1, 1.0);\n\n\t//vec3 nColor = blendScreen_20_19(color, gradientMap);\n\n\t//nColor = mix(nColor, baseColor, clamp(_sunSkyPosition * 0.8, 0., 0.8 ));\n\n\tnColor *= min(shadowValue + step(sunPosition.y, heightMod * heightMap) + SHADOW_INTENSITY, 1.0);\n\t//********* NO GAMMA\n\t// nColor\t\t\t\t= Uncharted2Tonemap( nColor * EXPOSURE );\n\t// nColor\t\t\t\t= nColor * ( 1.0 / Uncharted2Tonemap( vec3( 40.0 ) ) );\n\t// nColor\t\t\t\t= pow( nColor, vec3( 1.0 / GAMMA ) );\n\n\t//vec3 finalColor =  applyFog(nColor, mixFogColor, linearDepth * 0.5, FOG);\n\tvec3 horizonColor = skyHue * linearDepth;\n\tnColor += horizonColor;\n\t//nColor *= (1. - linearDepth);\n\n\tnColor += (skyHue * (1. - horizonBlend(vTextureCoord)) * .2);\n\t//finalColor += (skyHue *= (linearDepth));\n\n\tvec3 washOut = vec3(skyHue) * washOutFactor;\n\n\tgl_FragColor = vec4((nColor *(1. - washOutFactor)) + washOut, 1.0);//vec4(1.0, 0.0, 0.0, 1.0);\n\t//gl_FragColor = vec4(vec3(heightMod), 1.0);//vec4(1.0, 0.0, 0.0, 1.0);\n\t//gl_FragColor = vec4(vec3(horizonColor), 1.0);//vec4(1.0, 0.0, 0.0, 1.0);\n\t//gl_FragColor = vec4(vec3((1. - linearDepth)),1.0);\n}\n\n";e.default=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(122),o=r(i),a=n(42),s="\n\n#define SHADER_NAME REFLECTION_VERTEX\n#define BELL  20.\n\nprecision highp float;\n\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform sampler2D \tuHeightMap;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform mat3 uModelViewMatrixInverse;\n\nuniform vec3 position;\nuniform vec3 scale;\nuniform float rotation;\nuniform float heightMap;\n\nuniform vec3 uLightPosition;\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\nvarying vec2 vTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\nvarying vec3 vVertexPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 vWsPosition;\nvarying vec3 vEyePosition;\nvarying vec3 vWsNormal;\n\nfloat rand(float n){return fract(sin(n) * 43758.5453123);}\n\n"+a.spotVert+"\n\n"+o.default+"\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nvoid main(void) {\n\tvec3 pos \t\t\t\t= aVertexPosition;\n\tvec3 dv                 = texture2D( uHeightMap, aTextureCoord ).xyz;\n\n\t//********CAUSES BAD JUMP\n\t// float pct = 0.0;\n //    pct = 1.- distance(aTextureCoord,vec2(0.5, 0.));\n //    pct *= BELL;\n\n\t// pos.z = pct;\n\t// pos.z -= BELL;\n\n\tpos.z \t\t\t\t\t+= dv.x * heightMap;\n\tpos.yz \t\t\t\t\t= rotate(pos.yz, rotation);\n\t//pos.xz \t\t\t\t\t= rotate(pos.xz, rotation);\n\tpos \t\t\t\t\t=  pos * scale + position;\n\tvec4 worldSpacePosition\t= uModelMatrix * vec4(pos, 1.0);\n    vec4 viewSpacePosition\t= uViewMatrix * worldSpacePosition;\n\n    //vec4 vertex = viewSpacePosition * vec4(pos, 1.0);\n \t//vec4 light = vec4(uLightPosition,1.0);\n \t//vNormal = vec3(viewSpacePosition * vec4(aNormal, 1.0));\n \t//vLightRay = vertex.xyz-light.xyz;\n \t//vEyeVec = -vec3(vertex.xyz);\n\n \tsetupLight(worldSpacePosition.xyz);\n\tsetupShadow(worldSpacePosition);\n\n\tvVertexPosition = pos;\n\n    vNormal\t\t\t\t\t= uNormalMatrix * aNormal;\n    vPosition\t\t\t\t= viewSpacePosition.xyz;\n\tvWsPosition\t\t\t\t= worldSpacePosition.xyz;\n\n\tvec4 eyeDirViewSpace\t= viewSpacePosition - vec4( 0, 0, 0, 1 );\n\tvEyePosition\t\t\t= -vec3( uModelViewMatrixInverse * eyeDirViewSpace.xyz );\n\tvWsNormal\t\t\t\t= normalize( uModelViewMatrixInverse * vNormal );\n\n    gl_Position\t\t\t\t= uProjectionMatrix * viewSpacePosition;\n\n    vNormal = calculateNormals(uHeightMap, aTextureCoord);\n\n\tvTextureCoord\t\t\t= aTextureCoord;\n}\n";e.default=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="float map(float value, float sx, float sy, float tx, float ty) {\n\t\tfloat p = (value - sx) / ( sy - sx);\n\t\treturn tx + p * ( ty - tx);\n\t}";e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n// \n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n        + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n";e.default=n},221,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="float circle(in vec2 _st, in float _radiusX, in float _radiusY, in float feather, in float amp){\n    vec2 dist = _st - vec2(0.5);\n\treturn 1.-smoothstep(_radiusX-(_radiusX*feather),\n                         _radiusY+(_radiusY*feather),\n                         dot(dist,dist)*amp);\n}";e.circle=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n#define FBM_NOISE_RES 2\n\n//----------------------------------------------------------------------------------------\nfloat Hash(in vec2 p, in float scale)\n{\n\t// This is tiling part, adjusts with the scale...\n\tp = mod(p, scale);\n\treturn fract(sin(dot(p, vec2(27.16898, 38.90563))) * 5151.5473453);\n}\n\n//----------------------------------------------------------------------------------------\nfloat Noise(in vec2 p, in float scale )\n{\n\tvec2 f;\n\t\n\tp *= scale;\n\n\t\n\tf = fract(p);\t\t// Separate integer from fractional\n    p = floor(p);\n\t\n    f = f*f*(3.0-2.0*f);\t// Cosine interpolation approximation\n\t\n    float res = mix(mix(Hash(p, \t\t\t\t scale),\n\t\t\t\t\t\tHash(p + vec2(1.0, 0.0), scale), f.x),\n\t\t\t\t\tmix(Hash(p + vec2(0.0, 1.0), scale),\n\t\t\t\t\t\tHash(p + vec2(1.0, 1.0), scale), f.x), f.y);\n    return res;\n}\n\n//----------------------------------------------------------------------------------------\nfloat fBm(in vec2 p, in float time, in float amp)\n{\n\tfloat _s = sin(time * .7);\n\tfloat _c = cos(time * .45);\n    p += vec2(_s, _c)*(.01);\n    p += vec2(_s, _c)*(.01);\n    p += vec2(_s, _c)*(.01);\n\tfloat f = 0.0;\n\t// Change starting scale to any integer value...\n\tfloat scale = 7.;\n    p = mod(p, scale);\n\t\n\tfor (int i = 0; i < FBM_NOISE_RES; i++)\n\t{\n\t\tf += Noise(p, scale) * amp;\n\t\tamp *= .5;\n\t\t// Scale must be multiplied by an integer value...\n\t\tscale *= 2.;\n\t}\n\t// Clamp it just in case....\n\treturn min(f, 1.0);\n}";e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),o=r(i),a=function(){var t=void 0;return o.default.on("sculpture:near",function(e){t=e}),o.default.on("sculpture:out",function(e){t=void 0}),document.addEventListener("keydown",function(t){switch(t.which){case 40:case 83:o.default.emit("keyboard:down:down");break;case 38:case 87:o.default.emit("keyboard:down:up");break;case 68:case 39:o.default.emit("keyboard:down:right");break;case 37:case 65:o.default.emit("keyboard:down:left")}}),document.addEventListener("keyup",function(t){switch(t.which){case 40:case 83:o.default.emit("keyboard:up:down");break;case 38:
case 87:o.default.emit("keyboard:up:up");break;case 68:case 39:o.default.emit("keyboard:up:right");break;case 37:case 65:o.default.emit("keyboard:up:left");break;case 32:o.default.emit("keyboard:up:space")}}),{}}();e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(263),f=r(c),h=n(266),d=r(h),p=n(265),v=r(p),_=n(7),m=(r(_),n(9)),y=(r(m),n(13),l.default.GL),g={gamma:1,displace:1.6,exposure:2.8,baseColor:[1,.765557,.336057],baseColorAmount:1,diffuseColorAmount:0,saturation:1,ao:.2,metallic:0,roughness:1,specular:0,offset:0,fov:45,visible:!0},b=function(t){function e(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],a=arguments.length<=3||void 0===arguments[3]?0:arguments[3],s=arguments.length<=4||void 0===arguments[4]?4:arguments[4],u=arguments.length<=5||void 0===arguments[5]?{}:arguments[5];i(this,e);var l=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,d.default,v.default));return l.data=t,l.x=n,l.y=r,l.z=a,l.scale=s,l.rotation=u.rotation||Math.random()*Math.PI,l._heightValue=0,l._positionBase=[l.x,l.y,l.z],l._position=[l.x,l.y,l.z],l._positionOffset=[0,0,0],l._texures=[],l._texuresLength=0,l.isLow=!0,l.meshes={low:t.url,high:t.high},Object.keys(u,function(t){l[t]=u[t]}),l._hotspotIndex=0,l._loadMeshes(),l}return a(e,t),s(e,[{key:"_loadMeshes",value:function(){var t=this;this.mesh,this.isReady=!1,this.isLow=!0;var e=this.meshes[this._getMode()];this._objLoader=new l.default.ObjLoader,this._objLoader.load("https://storage.googleapis.com/samrad-mars/www-assets/"+e,function(e){return t._onObjLoaded(e)},!1)}},{key:"_getMode",value:function(){return this.isLow?"low":"high"}},{key:"_getPath",value:function(){return OBJS[this._getMode()]}},{key:"_onObjLoaded",value:function(t){this.mesh=t,this.isReady=!0;this.isLow?this.meshes.low=t:this.meshes.high=t}},{key:"toggleMesh",value:function(){var t=this;this.isLow=!this.isLow;var e=this._getPath();this.isLow?this.meshes.low?this.mesh=this.meshes.low:this._objLoader.load("https://storage.googleapis.com/samrad-mars/www-assets/"+e,function(e){t.meshes.low=e,t.mesh=t.meshes.low},!1):this.meshes.high?this.mesh=this.meshes.high:this._objLoader.load("https://storage.googleapis.com/samrad-mars/www-assets/"+e,function(e){t.meshes.high=e,t.mesh=t.meshes.high},!1)}},{key:"setHeightValue",value:function(t){this._heightValue=t}},{key:"useShadowMap",value:function(t){this._shadow=t}},{key:"_log",value:function(){console.log("Position:",this.x,this.y,this.z),console.log("Scale:",this.scale),console.log("Rotation:",this.rotation)}},{key:"render",value:function(t,e){if(this.isReady){this.shader.bind(),this.shader.uniform("uDiffuse","uniform1i",0),t&&this.shader.uniform("shadowMap","uniform1i",1),this._bindModelTextures(),t?(t.bind(1),this.shader.uniform("useDepth","int",1)):this.shader.uniform("useDepth","int",0);var n=.925*g.roughness,r=Math.pow(n,4),i=[g.baseColor[0],g.baseColor[1],g.baseColor[2]];this.shader.uniform("uBaseColor","uniform3fv",i),this.shader.uniform("uRoughness","uniform1f",n),this.shader.uniform("uRoughness4","uniform1f",r),this.shader.uniform("uMetallic","uniform1f",g.metallic),this.shader.uniform("uSpecular","uniform1f",g.specular);var o=1-g.offset;this.shader.uniform("position","vec3",this._position),this.shader.uniform("scale","vec3",[this.scale,this.scale,this.scale]),this.shader.uniform("rotation","float",this.rotation),this.shader.uniform("heightMap","float",this._heightValue),this.shader.uniform("uAngle","float",this._sun.angle),this.shader.uniform("uLightIntensity","float",0),this.shader.uniform("baseColorAmount","float",g.baseColorAmount),this.shader.uniform("diffuseColorAmount","float",g.diffuseColorAmount),this.shader.uniform("uExposure","uniform1f",g.exposure),this.shader.uniform("uGamma","uniform1f",g.gamma),this.shader.uniform("uAoStrength","uniform1f",g.ao),this.shader.uniform("uGreenOffset","float",o),y.draw(this.mesh)}}},{key:"sun",set:function(t){this._sun=t}},{key:"hotspotIndex",set:function(t){this._hotspotIndex=t},get:function(){return this._hotspotIndex}},{key:"position",get:function(){return this._position}},{key:"positionBase",get:function(){return this._positionBase}}]),e}(f.default);e.default=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(4),l=r(u),c=n(269),f=(r(c),n(268)),h=(r(f),n(7)),d=r(h),p=n(9),v=r(p),_=n(13),m=(l.default.GL,function(t){function e(t,n){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return a(e,t),s(e,[{key:"createTextures",value:function(t){var e=this;v.default.forIn(t,function(t){var n=t.id;e._texures.push(new l.default.GLTexture((0,_.getAsset)(n))),e._texuresLength++})}},{key:"_bindModelTextures",value:function(){for(var t=0;t<this._texuresLength;t++)this._texures[t].bind(t)}},{key:"destroy",value:function(){for(var t=0;t<this._texures.length;t++)this._texures[t].destroy();this._texures.length=0,this._texures=null}},{key:"position",get:function(){return d.default.vec3.add(this._worldPosition,this._position,this._positionOffset)}},{key:"animationPosition",get:function(){}},{key:"normalizedPosition",get:function(){return this._positionNormalized}}]),e}(l.default.View));e.default=m},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\nfloat lambertDiffuse(\n  vec3 lightDirection,\n  vec3 surfaceNormal) {\n  return max(0.0, dot(lightDirection, surfaceNormal));\n}\n\n";e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(264),o=r(i),a=(n(42),n(50)),s="\n\n#extension GL_EXT_shader_texture_lod : enable\n\nprecision highp float;\n\nuniform sampler2D \tuDiffuse;\nuniform sampler2D \tuAoMap;\nuniform sampler2D \tshadowMap;\n//uniform samplerCube uRadianceMap;\n//uniform samplerCube uIrradianceMap;\n\nuniform vec3\t\tuBaseColor;\nuniform float\t\tuRoughness;\nuniform float\t\tuRoughness4;\nuniform float\t\tuMetallic;\nuniform float\t\tuSpecular;\nuniform float \t\tuAoStrength;\nuniform float\t\tuExposure;\nuniform float\t\tuGamma;\nuniform float\t\tuGreenOffset;\n\nuniform float baseColorAmount;\nuniform float diffuseColorAmount;\nuniform float uLightIntensity;\n\nuniform int useDepth;\nuniform float uAngle;\n\nvarying vec3        vNormal;\nvarying vec3        vPosition;\nvarying vec3\t\tvEyePosition;\nvarying vec3\t\tvWsNormal;\nvarying vec3\t\tvWsPosition;\nvarying vec2 \t\tvTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\n\n#define saturate(x) clamp(x, 0.0, 1.0)\n#define PI 3.1415926535897932384626433832795\n\n\n// Filmic tonemapping from\n// http://filmicgames.com/archives/75\n\nconst float A = 0.15;\nconst float B = 0.50;\nconst float C = 0.10;\nconst float D = 0.20;\nconst float E = 0.02;\nconst float F = 0.30;\n\n"+a.SUN_MORNING+"\n"+a.SUN_EVENING+"\n"+a.sunSkyPosition+"\n"+a.mixMorningEvening+"\n\n\nvec3 Uncharted2Tonemap( vec3 x )\n{\n\treturn ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\n}\n\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile\nvec3 EnvBRDFApprox( vec3 SpecularColor, float Roughness, float NoV )\n{\n\tconst vec4 c0 = vec4( -1, -0.0275, -0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, -0.04 );\n\tvec4 r = Roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( -9.28 * NoV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn SpecularColor * AB.x + AB.y;\n}\n\n\n// http://the-witness.net/news/2012/02/seamless-cube-map-filtering/\nvec3 fix_cube_lookup( vec3 v, float cube_size, float lod ) {\n\tfloat M = max(max(abs(v.x), abs(v.y)), abs(v.z));\n\tfloat scale = 1.0 - exp2(lod) / cube_size;\n\tif (abs(v.x) != M) v.x *= scale;\n\tif (abs(v.y) != M) v.y *= scale;\n\tif (abs(v.z) != M) v.z *= scale;\n\treturn v;\n}\n\nvec3 correctGamma(vec3 color, float g) {\n\treturn pow(color, vec3(1.0/g));\n}\n\n"+o.default+"\n\nconst mat4 depthScaleMatrix = mat4(0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.5, 0.5, 0.5, 1.0);\n\nfloat computeShadow(vec4 pos) {\n      vec3 depth = pos.xyz / pos.w;\n       float shadowValue = texture2D(shadowMap, depth.xy).r;\n       depth.z *= 0.999;\n       float step = step(depth.z, shadowValue);\n       float mm = max(step, (1.-pos.x));\n       return mm;\n    }\n\n\nconst vec3 COLOR0 = 1.0 - vec3(198.0, 151.0, 75.0)/255.0;\nconst vec3 COLOR1 = vec3(1.0);\n\nvoid main() {\n\tfloat mRoughness    = uRoughness;\n\tfloat mMetallic     = uMetallic;\n\tfloat mSpecular     = uSpecular;\n\n\n\tvec3 N \t\t\t\t= normalize( vWsNormal );\n\tvec3 V \t\t\t\t= normalize( vEyePosition );\n\n\tvec3 L = normalize(vLightRay);\n\tfloat lambertTerm = max(dot(N,-L),0.33);\n\n\t//****** THIS IS THE HORIZON linearDepth\n\tfloat _sinSun = sin(-uAngle);\n\tfloat _sunSkyPosition = sunSkyPosition(_sinSun);\n\tvec3 skyHue = mixMorningEvening(_sunSkyPosition);\n\n\t// deduce the diffuse and specular color from the baseColor and how metallic the material is\n\tvec3 diffuseColor\t= uBaseColor - uBaseColor * mMetallic;\n\tdiffuseColor *= baseColorAmount;\n\tvec3 specularColor\t= mix( vec3( 0.08 * mSpecular ), uBaseColor, mMetallic );\n\n\tfloat colorOffset = smoothstep(12.0, 0.0, vWsPosition.y);\n\n\tfloat lambertDiffuseValue = min(lambertTerm + uLightIntensity, 1.0);//1.0;//lambertDiffuse(V, N);\n\n\tvec3 color;\n\n\t// sample the pre-filtered cubemap at the corresponding mipmap level\n\t// float numMips\t\t= 6.0;\n\t// float mip\t\t\t= numMips - 1.0 + log2(mRoughness);\n\t// vec3 lookup\t\t\t= -reflect( V, N );\n\t// lookup\t\t\t\t= fix_cube_lookup( lookup, 512.0, mip );\n\t// vec3 radiance\t\t= pow( textureCubeLodEXT( uRadianceMap, lookup, mip ).rgb, vec3( 2.2 ) );\n\t// vec3 irradiance\t\t= pow( textureCube( uIrradianceMap, N ).rgb, vec3( 1 ) );\n\n\t// get the approximate reflectance\n\tfloat NoV\t\t\t= saturate( dot( N, V ) );\n\tvec3 reflectance\t= EnvBRDFApprox( specularColor, uRoughness4, NoV );\n\n\t// combine the specular IBL and the BRDF\n\t// vec3 diffTexture \t= texture2D(uDiffuse, vTextureCoord).rgb;\n //    vec3 diffuse  \t\t= irradiance * diffuseColor + (irradiance * diffTexture + diffTexture);\n //    vec3 specular \t\t= radiance * reflectance;\n\t// color\t\t\t\t= diffuse + specular;\n\n\tvec3 diffTexture \t= texture2D(uDiffuse, vTextureCoord).rgb;\n\n\tdiffTexture += diffTexture * skyHue * 0.1;\n\t//vec3 ao \t\t\t= texture2D(uAoMap, vTextureCoord).rgb;\n\t//float ssao \t\t\t= smoothstep(uAoStrength, 1.0, ao.r);\n\t// ao  \t\t\t\t= smoothstep(vec3(.5), vec3(1.0), ap);\n\t//color \t\t\t\t*= ssao;\n\n\t// apply the tone-mapping\n\t//color\t\t\t\t= Uncharted2Tonemap( color * uExposure );\n\t// white balance\n\t//color\t\t\t\t= color * ( 1.0 / Uncharted2Tonemap( vec3( 40.0 ) ) );\n\n\t// gamma correction\n\t//color\t\t\t\t= pow( color, vec3( 1.0 / uGamma ) );\n\n\t// float opacity \t\t= smoothstep(0.0, 0.25, 1.0-uGreenOffset);\n\t// output the fragment color\n\n\tfloat ss = 0.;\n\tvec4 shdowPos = depthScaleMatrix * vec4(vWsPosition, 1.0);\n\tif(useDepth != 0){\n\t\tss = min(computeShadow(shdowPos), 1.);\n\t}\n\n    gl_FragColor\t\t= vec4( diffTexture, 1.0 );\n    //gl_FragColor\t\t= vec4( vec3(ss), 1.0 );\n\n}\n\n";e.default=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n#define SHADER_NAME REFLECTION_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform mat3 uModelViewMatrixInverse;\n\nuniform vec3 uLightPosition;\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\nuniform vec3 position;\nuniform vec3 scale;\nuniform float rotation;\nuniform float heightMap;\n\nvarying vec2 vTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\n\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 vWsPosition;\nvarying vec3 vEyePosition;\nvarying vec3 vWsNormal;\n\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nvoid main(void) {\n\tvec3 pos \t\t\t\t= aVertexPosition;\n\t// pos.yz \t\t\t\t\t= rotate(pos.yz, 0.05);\n\tpos.xz \t\t\t\t\t= rotate(pos.xz, rotation);\n\tpos \t\t\t\t\t=  pos * scale + position;\n\tpos.y \t\t\t\t\t+= heightMap;\n\tvec4 worldSpacePosition\t= uModelMatrix * vec4(pos, 1.0);\n    vec4 viewSpacePosition\t= uViewMatrix * worldSpacePosition;\n\n    vec4 vertex = viewSpacePosition * vec4(pos, 1.0);\n \tvec4 light = vec4(uLightPosition,1.0);\n \tvNormal = vec3(viewSpacePosition * vec4(aNormal, 1.0));\n \tvLightRay = vertex.xyz-light.xyz;\n \tvEyeVec = -vec3(vertex.xyz);\n\n\t\n    vNormal\t\t\t\t\t= uNormalMatrix * aNormal;\n    vPosition\t\t\t\t= viewSpacePosition.xyz;\n\tvWsPosition\t\t\t\t= worldSpacePosition.xyz;\n\t\n\tvec4 eyeDirViewSpace\t= viewSpacePosition - vec4( 0, 0, 0, 1 );\n\tvEyePosition\t\t\t= -vec3( uModelViewMatrixInverse * eyeDirViewSpace.xyz );\n\tvWsNormal\t\t\t\t= normalize( uModelViewMatrixInverse * vNormal );\n\t\n    gl_Position\t\t\t\t= uProjectionMatrix * viewSpacePosition;\n\n\tvTextureCoord\t\t\t= aTextureCoord;\n}\n";e.default=n},123,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(270),o=r(i),a=n(267),s="\n\n#extension GL_EXT_shader_texture_lod : enable\n\nprecision highp float;\n\nuniform sampler2D \tuDiffuse;\nuniform sampler2D textureHeight;\nuniform sampler2D \tuAoMap;\nuniform sampler2D \tuAlbedo;\nuniform samplerCube uIrradianceMap;\n\nuniform vec3\t\tuBaseColor;\nuniform float\t\tuRoughness;\nuniform float\t\tuRoughness4;\nuniform float\t\tuMetallic;\nuniform float\t\tuSpecular;\nuniform float \t\tuAoStrength;\nuniform float\t\tuExposure;\nuniform float\t\tuGamma;\nuniform float\t\tuGreenOffset;\n\nuniform float baseColorAmount;\nuniform float diffuseColorAmount;\n//uniform float uLightIntensity;\n\nvarying vec3        vNormal;\nvarying vec3        vPosition;\nvarying vec3\t\tvEyePosition;\nvarying vec3\t\tvWsNormal;\nvarying vec3\t\tvWsPosition;\nvarying vec2 \t\tvTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\n\n#define saturate(x) clamp(x, 0.0, 1.0)\n#define PI 3.1415926535897932384626433832795\n\n"+o.default+"\n\n// Filmic tonemapping from\n// http://filmicgames.com/archives/75\n\nconst float A = 0.15;\nconst float B = 0.50;\nconst float C = 0.10;\nconst float D = 0.20;\nconst float E = 0.02;\nconst float F = 0.30;\n\n\n"+a.Uncharted2Tonemap+"\n"+a.EnvBRDFApprox+"\n"+a.FixCubeLookup+"\n\n\nvec3 correctGamma(vec3 color, float g) {\n\treturn pow(color, vec3(1.0/g));\n}\n\nconst vec3 COLOR0 = 1.0 - vec3(198.0, 151.0, 75.0)/255.0;\nconst vec3 COLOR1 = vec3(1.0);\n\nvoid main() {\n\tfloat mRoughness    = uRoughness;\n\tfloat mMetallic     = uMetallic;\n\tfloat mSpecular     = uSpecular;\n\n\n\tvec3 N \t\t\t\t= normalize( vWsNormal );\n\tvec3 V \t\t\t\t= normalize( vEyePosition );\n\n\tvec3 L = normalize(vLightRay);\n\tfloat lambertTerm = max(dot(N,-L),0.33);\n\t\n\t// deduce the diffuse and specular color from the baseColor and how metallic the material is\n\tvec3 diffuseColor\t= uBaseColor - uBaseColor * mMetallic;\n\tdiffuseColor *= baseColorAmount;\n\tvec3 specularColor\t= mix( vec3( 0.08 * mSpecular ), uBaseColor, mMetallic );\n\n\tfloat colorOffset = smoothstep(12.0, 0.0, vWsPosition.y);\n\t\n\tfloat lambertDiffuseValue = min(lambertTerm , 1.0);\n\n\tvec3 color;\n\n\t// sample the pre-filtered cubemap at the corresponding mipmap level\n\tfloat numMips\t\t= 6.0;\n\tfloat mip\t\t\t= numMips - 1.0 + log2(mRoughness);\n\tvec3 lookup\t\t\t= -reflect( V, N );\n\tlookup\t\t\t\t= fix_cube_lookup( lookup, 512.0, mip );\n\tvec3 radiance\t\t= pow( textureCubeLodEXT( uIrradianceMap, lookup, mip ).rgb, vec3( 2.2 ) );\n\tvec3 irradiance\t\t= pow( textureCube( uIrradianceMap, N ).rgb, vec3( 1 ) );\n\t\n\t// get the approximate reflectance\n\tfloat NoV\t\t\t= saturate( dot( N, V ) );\n\tvec3 reflectance\t= EnvBRDFApprox( specularColor, uRoughness4, NoV );\n\t\n\t// combine the specular IBL and the BRDF\n\tvec3 diffTexture \t= texture2D(uDiffuse, vTextureCoord).rgb ;\n    vec3 diffuse  \t\t= irradiance * diffuseColor + (irradiance * diffTexture + diffTexture);\n    vec3 specular \t\t= radiance * reflectance;\n\tcolor\t\t\t\t= diffuse + specular;\n\t\n\tvec3 ao \t\t\t= texture2D(uAoMap, vTextureCoord).rgb;\n\tfloat ssao \t\t\t= smoothstep(uAoStrength, 1.0, ao.r);\n\t// ao  \t\t\t\t= smoothstep(vec3(.5), vec3(1.0), ap);\n\tcolor \t\t\t\t*= ssao;\n\n\t// apply the tone-mapping\n\tcolor\t\t\t\t= Uncharted2Tonemap( color * uExposure );\n\t// white balance\n\tcolor\t\t\t\t= color * ( 1.0 / Uncharted2Tonemap( vec3( 40.0 ) ) );\n\t\n\t// gamma correction\n\tcolor\t\t\t\t= pow( color, vec3( 1.0 / uGamma ) );\n\n\t// float opacity \t\t= smoothstep(0.0, 0.25, 1.0-uGreenOffset);\n\t// output the fragment color\n    gl_FragColor\t\t= vec4( diffTexture, 1.0 );\n\n}\n\n";e.default=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="\n\n#define SHADER_NAME REFLECTION_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform mat3 uModelViewMatrixInverse;\n\nuniform vec3 uLightPosition;\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\nuniform vec3 position;\nuniform vec3 scale;\nuniform float rotation;\nuniform float heightMap;\n\nvarying vec2 vTextureCoord;\n\nvarying vec3 vLightRay;\nvarying vec3 vEyeVec;\n\nvarying vec3 vNormal;\nvarying vec3 vPosition;\nvarying vec3 vWsPosition;\nvarying vec3 vEyePosition;\nvarying vec3 vWsNormal;\n\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\n\nvoid main(void) {\n\tvec3 pos \t\t\t\t= aVertexPosition;\n\t// pos.yz \t\t\t\t\t= rotate(pos.yz, 0.05);\n\tpos.xz \t\t\t\t\t= rotate(pos.xz, rotation);\n\tpos.y \t\t\t\t\t+= heightMap;\n\tpos \t\t\t\t\t=  pos * scale + position;\n\tvec4 worldSpacePosition\t= uModelMatrix * vec4(pos, 1.0);\n    vec4 viewSpacePosition\t= uViewMatrix * worldSpacePosition;\n\n    vec4 vertex = viewSpacePosition * vec4(pos, 1.0);\n \tvec4 light = vec4(uLightPosition,1.0);\n \tvNormal = vec3(viewSpacePosition * vec4(aNormal, 1.0));\n \tvLightRay = vertex.xyz-light.xyz;\n \tvEyeVec = -vec3(vertex.xyz);\n\t\n    vNormal\t\t\t\t\t= uNormalMatrix * aNormal;\n    vPosition\t\t\t\t= viewSpacePosition.xyz;\n\tvWsPosition\t\t\t\t= worldSpacePosition.xyz;\n\t\n\tvec4 eyeDirViewSpace\t= viewSpacePosition - vec4( 0, 0, 0, 1 );\n\tvEyePosition\t\t\t= -vec3( uModelViewMatrixInverse * eyeDirViewSpace.xyz );\n\tvWsNormal\t\t\t\t= normalize( uModelViewMatrixInverse * vNormal );\n\t\n    gl_Position\t\t\t\t= uProjectionMatrix * viewSpacePosition;\n\n\tvTextureCoord\t\t\t= aTextureCoord;\n}\n";e.default=n},224,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(281);var u=n(2),l=r(u),c=(n(38),n(37)),f=n(126),h=r(f),d=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){this.props.browser;return l.default.createElement("div",{className:"o-page"},l.default.createElement(h.default,null))}}]),e}(u.Component);d.propTypes={browser:u.PropTypes.object.isRequired},e.default=(0,c.connect)(function(t){var e=t.browser;return{browser:e}},{})(d)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(282);var u=n(2),l=r(u),c=n(37),f=n(313),h=(r(f),function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"componentDidMount",value:function(){var t=this.props;t.loadAlhambra,t.loadBodymovin,t.loadSequence}},{key:"render",value:function(){return l.default.createElement("div",{className:"app"},this.props.children)}}]),e}(u.Component));h.propTypes={children:u.PropTypes.node.isRequired,location:u.PropTypes.object.isRequired,params:u.PropTypes.object.isRequired},e.default=(0,c.connect)(function(t){return{}},{})(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(283);var u=n(2),l=r(u),c=(n(38),n(37)),f=n(126),h=r(f),d=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){this.props.browser;return l.default.createElement("div",{className:"o-page"},l.default.createElement(h.default,null))}}]),e}(u.Component);d.propTypes={browser:u.PropTypes.object.isRequired},e.default=(0,c.connect)(function(t){var e=t.browser;return{browser:e}})(d)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(66),i=n(97),o=n(188);e.default=(0,i.combineReducers)({routing:r.routerReducer,browser:(0,o.createResponsiveStateReducer)({mobile:360,phablet:540,tablet:768,tabletH:1024,desktop:1280,desktopM:1440,desktopL:1680,desktopXL:1920})})},function(t,e,n){function r(t){return null===t||void 0===t}function i(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function o(t,e,n){var o,c;if(r(t)||r(e))return!1;if(t.prototype!==e.prototype)return!1;if(u(t))return!!u(e)&&(t=a.call(t),e=a.call(e),l(t,e,n));if(i(t)){if(!i(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var f=s(t),h=s(e)}catch(d){return!1}if(f.length!=h.length)return!1;for(f.sort(),h.sort(),o=f.length-1;o>=0;o--)if(f[o]!=h[o])return!1;for(o=f.length-1;o>=0;o--)if(c=f[o],!l(t[c],e[c],n))return!1;return typeof t==typeof e}var a=Array.prototype.slice,s=n(277),u=n(276),l=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:o(t,e,n))}},function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=i?n:r,e.supported=n,e.unsupported=r},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"==typeof Object.keys?Object.keys:n,e.shim=n},function(t,e,n){(function(r,i){var o;/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.2.1
	 */
(function(){"use strict";function a(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return"function"==typeof t}function u(t){Q=t}function l(t){tt=t}function c(){return function(){r.nextTick(v)}}function f(){return function(){Z(v)}}function h(){var t=0,e=new rt(v),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function d(){var t=new MessageChannel;return t.port1.onmessage=v,function(){t.port2.postMessage(0)}}function p(){return function(){setTimeout(v,1)}}function v(){for(var t=0;t<J;t+=2){var e=at[t],n=at[t+1];e(n),at[t]=void 0,at[t+1]=void 0}J=0}function _(){try{var t=n(429);return Z=t.runOnLoop||t.runOnContext,f()}catch(e){return p()}}function m(t,e){var n=this,r=new this.constructor(g);void 0===r[lt]&&N(r);var i=n._state;if(i){var o=arguments[i-1];tt(function(){L(i,r,o,n._result)})}else A(n,r,t,e);return r}function y(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(g);return E(n,t),n}function g(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function x(){return new TypeError("A promises callback cannot return that same promise.")}function w(t){try{return t.then}catch(e){return dt.error=e,dt}}function M(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function T(t,e,n){tt(function(t){var r=!1,i=M(n,e,function(n){r||(r=!0,e!==n?E(t,n):R(t,n))},function(e){r||(r=!0,k(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,k(t,i))},t)}function P(t,e){e._state===ft?R(t,e._result):e._state===ht?k(t,e._result):A(e,void 0,function(e){E(t,e)},function(e){k(t,e)})}function S(t,e,n){e.constructor===t.constructor&&n===st&&constructor.resolve===ut?P(t,e):n===dt?k(t,dt.error):void 0===n?R(t,e):s(n)?T(t,e,n):R(t,e)}function E(t,e){t===e?k(t,b()):a(e)?S(t,e,w(e)):R(t,e)}function O(t){t._onerror&&t._onerror(t._result),C(t)}function R(t,e){t._state===ct&&(t._result=e,t._state=ft,0!==t._subscribers.length&&tt(C,t))}function k(t,e){t._state===ct&&(t._state=ht,t._result=e,tt(O,t))}function A(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+ft]=n,i[o+ht]=r,0===o&&t._state&&tt(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?L(n,r,i,o):i(o);t._subscribers.length=0}}function D(){this.error=null}function I(t,e){try{return t(e)}catch(n){return pt.error=n,pt}}function L(t,e,n,r){var i,o,a,u,l=s(n);if(l){if(i=I(n,r),i===pt?(u=!0,o=i.error,i=null):a=!0,e===i)return void k(e,x())}else i=r,a=!0;e._state!==ct||(l&&a?E(e,i):u?k(e,o):t===ft?R(e,i):t===ht&&k(e,i))}function F(t,e){try{e(function(e){E(t,e)},function(e){k(t,e)})}catch(n){k(t,n)}}function j(){return vt++}function N(t){t[lt]=vt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function z(t){return new bt(this,t).promise}function U(t){var e=this;return new e(K(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function B(t){var e=this,n=new e(g);return k(n,t),n}function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function X(t){this[lt]=j(),this._result=this._state=void 0,this._subscribers=[],g!==t&&("function"!=typeof t&&V(),this instanceof X?F(this,t):H())}function q(t,e){this._instanceConstructor=t,this.promise=new t(g),this.promise[lt]||N(this.promise),K(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&R(this.promise,this._result))):k(this.promise,G())}function G(){return new Error("Array Methods must be provided an Array")}function Y(){var t;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=gt)}var W;W=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var Z,Q,$,K=W,J=0,tt=function(t,e){at[J]=t,at[J+1]=e,J+=2,2===J&&(Q?Q(v):$())},et="undefined"!=typeof window?window:void 0,nt=et||{},rt=nt.MutationObserver||nt.WebKitMutationObserver,it="undefined"==typeof self&&"undefined"!=typeof r&&"[object process]"==={}.toString.call(r),ot="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,at=new Array(1e3);$=it?c():rt?h():ot?d():void 0===et?_():p();var st=m,ut=y,lt=Math.random().toString(36).substring(16),ct=void 0,ft=1,ht=2,dt=new D,pt=new D,vt=0,_t=z,mt=U,yt=B,gt=X;X.all=_t,X.race=mt,X.resolve=ut,X.reject=yt,X._setScheduler=u,X._setAsap=l,X._asap=tt,X.prototype={constructor:X,then:st,"catch":function(t){return this.then(null,t)}};var bt=q;q.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ct&&n<t;n++)this._eachEntry(e[n],n)},q.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===ut){var i=w(t);if(i===st&&t._state!==ct)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===gt){var o=new n(g);S(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(r(t),e)},q.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===ct&&(this._remaining--,t===ht?k(r,n):this._result[e]=n),0===this._remaining&&R(r,this._result)},q.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,function(t){n._settledAt(ft,e,t)},function(t){n._settledAt(ht,e,t)})};var xt=Y,wt={Promise:gt,polyfill:xt};o=function(){return wt}.call(e,n,e,t),!(void 0!==o&&(t.exports=o)),xt()}).call(this)}).call(e,n(312),n(65))},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,u=0;u<i;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},196,196,196,196,function(t,e,n){"use strict";function r(t,e){for(var n=t;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(e);return Array.prototype.indexOf.call(r,t)!==-1}var i=n(0),o={addClass:function(t,e){return/\s/.test(e)?i(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',e):void 0,e&&(t.classList?t.classList.add(e):o.hasClass(t,e)||(t.className=t.className+" "+e)),t},removeClass:function(t,e){return/\s/.test(e)?i(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',e):void 0,e&&(t.classList?t.classList.remove(e):o.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),t},conditionClass:function(t,e,n){return(n?o.addClass:o.removeClass)(t,e)},hasClass:function(t,e){return/\s/.test(e)?i(!1,"CSS.hasClass takes only a single class name."):void 0,t.classList?!!e&&t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},matchesSelector:function(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(e){return r(t,e)};return n.call(t,e)}};t.exports=o},,,,,,,,,,,,,,,function(t,e,n){var r=n(19),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.fromValues=function(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null},i.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},i.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*l+o*c,t[3]=i*l+a*c,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},t.exports=i},function(t,e,n){var r=n(19),i={};i.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.fromValues=function(t,e,n,i,o,a){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=i,s[4]=o,s[5]=a,s},i.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],f=n[2],h=n[3],d=n[4],p=n[5];return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*f+o*h,t[3]=i*f+a*h,t[4]=r*d+o*p+s,t[5]=i*d+a*p+u,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*-l+o*c,t[3]=i*-l+a*c,t[4]=s,t[5]=u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t},i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*l+o*c+s,t[5]=i*l+a*c+u,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=e[0],c=e[1],f=e[2],h=e[3],d=e[4],p=e[5];return Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-d)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-p)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))},t.exports=i},function(t,e,n){var r=n(19),i={scalar:{},SIMD:{}};i.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.fromValues=function(t,e,n,i,o,a,s,u,l,c,f,h,d,p,v,_){var m=new r.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=i,m[4]=o,m[5]=a,m[6]=s,m[7]=u,m[8]=l,m[9]=c,m[10]=f,m[11]=h,m[12]=d,m[13]=p,m[14]=v,m[15]=_,m},i.set=function(t,e,n,r,i,o,a,s,u,l,c,f,h,d,p,v,_){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=_,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},i.SIMD.transpose=function(t,e){var n,r,i,o,a,s,u,l,c,f;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),u=SIMD.Float32x4.shuffle(a,s,0,2,4,6),l=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,l),a=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(i,o,2,3,6,7),c=SIMD.Float32x4.shuffle(a,s,0,2,4,6),f=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},i.transpose=r.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],_=e[14],m=e[15],y=n*s-r*a,g=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,M=i*l-o*u,T=c*v-f*p,P=c*_-h*p,S=c*m-d*p,E=f*_-h*v,O=f*m-d*v,R=h*m-d*_,k=y*R-g*O+b*E+x*S-w*P+M*T;return k?(k=1/k,t[0]=(s*R-u*O+l*E)*k,t[1]=(i*O-r*R-o*E)*k,t[2]=(v*M-_*w+m*x)*k,t[3]=(h*w-f*M-d*x)*k,t[4]=(u*S-a*R-l*P)*k,t[5]=(n*R-i*S+o*P)*k,t[6]=(_*b-p*M-m*g)*k,t[7]=(c*M-h*b+d*g)*k,t[8]=(a*O-s*S+l*T)*k,t[9]=(r*S-n*O-o*T)*k,t[10]=(p*w-v*b+m*y)*k,t[11]=(f*b-c*w-d*y)*k,t[12]=(s*P-a*E-u*T)*k,t[13]=(n*E-r*P+i*T)*k,t[14]=(v*g-p*x-_*y)*k,t[15]=(c*x-f*g+h*y)*k,t):null},i.SIMD.invert=function(t,e){var n,r,i,o,a,s,u,l,c,f,h=SIMD.Float32x4.load(e,0),d=SIMD.Float32x4.load(e,4),p=SIMD.Float32x4.load(e,8),v=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(h,d,0,1,4,5),r=SIMD.Float32x4.shuffle(p,v,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(h,d,2,3,6,7),o=SIMD.Float32x4.shuffle(p,v,2,3,6,7),i=SIMD.Float32x4.shuffle(a,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,a,1,3,5,7),a=SIMD.Float32x4.mul(i,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(r,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(i,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(i,a)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),l),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),u),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),f=SIMD.Float32x4.mul(n,s),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),a=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(a,a))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},i.invert=r.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],_=e[14],m=e[15];return t[0]=s*(h*m-d*_)-f*(u*m-l*_)+v*(u*d-l*h),t[1]=-(r*(h*m-d*_)-f*(i*m-o*_)+v*(i*d-o*h)),t[2]=r*(u*m-l*_)-s*(i*m-o*_)+v*(i*l-o*u),t[3]=-(r*(u*d-l*h)-s*(i*d-o*h)+f*(i*l-o*u)),t[4]=-(a*(h*m-d*_)-c*(u*m-l*_)+p*(u*d-l*h)),t[5]=n*(h*m-d*_)-c*(i*m-o*_)+p*(i*d-o*h),t[6]=-(n*(u*m-l*_)-a*(i*m-o*_)+p*(i*l-o*u)),t[7]=n*(u*d-l*h)-a*(i*d-o*h)+c*(i*l-o*u),t[8]=a*(f*m-d*v)-c*(s*m-l*v)+p*(s*d-l*f),t[9]=-(n*(f*m-d*v)-c*(r*m-o*v)+p*(r*d-o*f)),t[10]=n*(s*m-l*v)-a*(r*m-o*v)+p*(r*l-o*s),t[11]=-(n*(s*d-l*f)-a*(r*d-o*f)+c*(r*l-o*s)),t[12]=-(a*(f*_-h*v)-c*(s*_-u*v)+p*(s*h-u*f)),t[13]=n*(f*_-h*v)-c*(r*_-i*v)+p*(r*h-i*f),t[14]=-(n*(s*_-u*v)-a*(r*_-i*v)+p*(r*u-i*s)),t[15]=n*(s*h-u*f)-a*(r*h-i*f)+c*(r*u-i*s),t},i.SIMD.adjoint=function(t,e){var n,r,i,o,a,s,u,l,c,f,h,d,p,n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),a=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.shuffle(n,r,2,3,6,7),l=SIMD.Float32x4.shuffle(i,o,2,3,6,7),u=SIMD.Float32x4.shuffle(c,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,c,1,3,5,7),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(s,c),h=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),f),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(s,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),p=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),f),d=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(a,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),d),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),p),c=SIMD.Float32x4.swizzle(c,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.mul(a,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.mul(a,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),h),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,c)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),p),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,d),SIMD.Float32x4.store(t,12,p),t},i.adjoint=r.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11],d=t[12],p=t[13],v=t[14],_=t[15],m=e*a-n*o,y=e*s-r*o,g=e*u-i*o,b=n*s-r*a,x=n*u-i*a,w=r*u-i*s,M=l*p-c*d,T=l*v-f*d,P=l*_-h*d,S=c*v-f*p,E=c*_-h*p,O=f*_-h*v;return m*O-y*E+g*S+b*P-x*T+w*M},i.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(n,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,u);var l=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),a))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(n,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),a))));SIMD.Float32x4.store(t,8,h);var d=SIMD.Float32x4.load(n,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,p),t},i.scalar.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],_=e[13],m=e[14],y=e[15],g=n[0],b=n[1],x=n[2],w=n[3];return t[0]=g*r+b*s+x*f+w*v,t[1]=g*i+b*u+x*h+w*_,t[2]=g*o+b*l+x*d+w*m,t[3]=g*a+b*c+x*p+w*y,g=n[4],b=n[5],x=n[6],w=n[7],t[4]=g*r+b*s+x*f+w*v,t[5]=g*i+b*u+x*h+w*_,t[6]=g*o+b*l+x*d+w*m,t[7]=g*a+b*c+x*p+w*y,g=n[8],b=n[9],x=n[10],w=n[11],t[8]=g*r+b*s+x*f+w*v,t[9]=g*i+b*u+x*h+w*_,t[10]=g*o+b*l+x*d+w*m,t[11]=g*a+b*c+x*p+w*y,g=n[12],b=n[13],x=n[14],w=n[15],t[12]=g*r+b*s+x*f+w*v,t[13]=g*i+b*u+x*h+w*_,t[14]=g*o+b*l+x*d+w*m,t[15]=g*a+b*c+x*p+w*y,t},i.multiply=r.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(t,e,n){var r,i,o,a,s,u,l,c,f,h,d,p,v=n[0],_=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*_+e[8]*m+e[12],t[13]=e[1]*v+e[5]*_+e[9]*m+e[13],t[14]=e[2]*v+e[6]*_+e[10]*m+e[14],t[15]=e[3]*v+e[7]*_+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+s*_+f*m+e[12],t[13]=i*v+u*_+h*m+e[13],t[14]=o*v+l*_+d*m+e[14],t[15]=a*v+c*_+p*m+e[15]),t},i.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var u=SIMD.Float32x4.add(r,SIMD.Float32x4.add(i,SIMD.Float32x4.add(o,a)));return SIMD.Float32x4.store(t,12,u),t},i.translate=r.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.SIMD.scale=function(t,e,n){var r,i,o,a=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,0,0,0,0))),i=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.scale=r.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(t,e,n,i){var o,a,s,u,l,c,f,h,d,p,v,_,m,y,g,b,x,w,M,T,P,S,E,O,R=i[0],k=i[1],A=i[2],C=Math.sqrt(R*R+k*k+A*A);return Math.abs(C)<r.EPSILON?null:(C=1/C,R*=C,k*=C,A*=C,o=Math.sin(n),a=Math.cos(n),s=1-a,u=e[0],l=e[1],c=e[2],f=e[3],h=e[4],d=e[5],p=e[6],v=e[7],_=e[8],m=e[9],y=e[10],g=e[11],b=R*R*s+a,x=k*R*s+A*o,w=A*R*s-k*o,M=R*k*s-A*o,T=k*k*s+a,P=A*k*s+R*o,S=R*A*s+k*o,E=k*A*s-R*o,O=A*A*s+a,t[0]=u*b+h*x+_*w,t[1]=l*b+d*x+m*w,t[2]=c*b+p*x+y*w,t[3]=f*b+v*x+g*w,t[4]=u*M+h*T+_*P,t[5]=l*M+d*T+m*P,t[6]=c*M+p*T+y*P,t[7]=f*M+v*T+g*P,t[8]=u*S+h*E+_*O,t[9]=l*S+d*E+m*O,t[10]=c*S+p*E+y*O,t[11]=f*S+v*E+g*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.scalar.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+h*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=h*i-u*r,t},i.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),t},i.rotateX=r.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,
t[2]=s*i-f*r,t[3]=u*i-h*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=u*r+h*i,t},i.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,i))),t},i.rotateY=r.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+h*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=h*i-u*r,t},i.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),t},i.rotateZ=r.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,e,n){var i,o,a,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);return Math.abs(c)<r.EPSILON?null:(c=1/c,s*=c,u*=c,l*=c,i=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+l*i,t[2]=l*s*a-u*i,t[3]=0,t[4]=s*u*a-l*i,t[5]=u*u*a+o,t[6]=l*u*a+s*i,t[7]=0,t[8]=s*l*a+u*i,t[9]=u*l*a-s*i,t[10]=l*l*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,f=r*u,h=r*l,d=i*u,p=i*l,v=o*l,_=a*s,m=a*u,y=a*l;return t[0]=1-(d+v),t[1]=f+y,t[2]=h-m,t[3]=0,t[4]=f-y,t[5]=1-(c+v),t[6]=p+_,t[7]=0,t[8]=h+m,t[9]=p-_,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},i.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},i.fromRotationTranslationScale=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,f=i*u,h=i*l,d=i*c,p=o*l,v=o*c,_=a*c,m=s*u,y=s*l,g=s*c,b=r[0],x=r[1],w=r[2];return t[0]=(1-(p+_))*b,t[1]=(h+g)*b,t[2]=(d-y)*b,t[3]=0,t[4]=(h-g)*x,t[5]=(1-(f+_))*x,t[6]=(v+m)*x,t[7]=0,t[8]=(d+y)*w,t[9]=(v-m)*w,t[10]=(1-(f+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,f=s+s,h=o*l,d=o*c,p=o*f,v=a*c,_=a*f,m=s*f,y=u*l,g=u*c,b=u*f,x=r[0],w=r[1],M=r[2],T=i[0],P=i[1],S=i[2];return t[0]=(1-(v+m))*x,t[1]=(d+b)*x,t[2]=(p-g)*x,t[3]=0,t[4]=(d-b)*w,t[5]=(1-(h+m))*w,t[6]=(_+y)*w,t[7]=0,t[8]=(p+g)*M,t[9]=(_-y)*M,t[10]=(1-(h+v))*M,t[11]=0,t[12]=n[0]+T-(t[0]*T+t[4]*P+t[8]*S),t[13]=n[1]+P-(t[1]*T+t[5]*P+t[9]*S),t[14]=n[2]+S-(t[2]*T+t[6]*P+t[10]*S),t[15]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*u,v=o*a,_=o*s,m=o*u;return t[0]=1-f-p,t[1]=c+m,t[2]=h-_,t[3]=0,t[4]=c-m,t[5]=1-l-p,t[6]=d+v,t[7]=0,t[8]=h+_,t[9]=d-v,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t},i.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((a-s)*u*.5),t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},i.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t},i.lookAt=function(t,e,n,o){var a,s,u,l,c,f,h,d,p,v,_=e[0],m=e[1],y=e[2],g=o[0],b=o[1],x=o[2],w=n[0],M=n[1],T=n[2];return Math.abs(_-w)<r.EPSILON&&Math.abs(m-M)<r.EPSILON&&Math.abs(y-T)<r.EPSILON?i.identity(t):(h=_-w,d=m-M,p=y-T,v=1/Math.sqrt(h*h+d*d+p*p),h*=v,d*=v,p*=v,a=b*p-x*d,s=x*h-g*p,u=g*d-b*h,v=Math.sqrt(a*a+s*s+u*u),v?(v=1/v,a*=v,s*=v,u*=v):(a=0,s=0,u=0),l=d*u-p*s,c=p*a-h*u,f=h*s-d*a,v=Math.sqrt(l*l+c*c+f*f),v?(v=1/v,l*=v,c*=v,f*=v):(l=0,c=0,f=0),t[0]=a,t[1]=l,t[2]=h,t[3]=0,t[4]=s,t[5]=c,t[6]=d,t[7]=0,t[8]=u,t[9]=f,t[10]=p,t[11]=0,t[12]=-(a*_+s*m+u*y),t[13]=-(l*_+c*m+f*y),t[14]=-(h*_+d*m+p*y),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],v=t[12],_=t[13],m=t[14],y=t[15],g=e[0],b=e[1],x=e[2],w=e[3],M=e[4],T=e[5],P=e[6],S=e[7],E=e[8],O=e[9],R=e[10],k=e[11],A=e[12],C=e[13],D=e[14],I=e[15];return Math.abs(n-g)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(i-b)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-x)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-M)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-T)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(l-P)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(c-S)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(f-E)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-O)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(d-R)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(p-k)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(v-A)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(_-C)<=r.EPSILON*Math.max(1,Math.abs(_),Math.abs(C))&&Math.abs(m-D)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(D))&&Math.abs(y-I)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(I))},t.exports=i},function(t,e,n){var r=n(19),i=n(132),o=n(133),a=n(134),s={};s.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,i,a){var u=o.dot(i,a);return u<-.999999?(o.cross(t,e,i),o.length(t)<1e-6&&o.cross(t,n,i),o.normalize(t,t),s.setAxisAngle(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,s.normalize(r,r))}}(),s.setAxes=function(){var t=i.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n=.5*n;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},s.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},s.add=a.add,s.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t},s.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t},s.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},s.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,n,r){var i,o,a,s,u,l=e[0],c=e[1],f=e[2],h=e[3],d=n[0],p=n[1],v=n[2],_=n[3];return o=l*d+c*p+f*v+h*_,o<0&&(o=-o,d=-d,p=-p,v=-v,_=-_),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),t[0]=s*l+u*d,t[1]=s*c+u*p,t[2]=s*f+u*v,t[3]=s*h+u*_,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(n,r,i,o,a,u){return s.slerp(t,r,a,u),s.slerp(e,i,o,u),s.slerp(n,t,e,2*u*(1-u)),n}}(),s.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,t.exports=s},function(t,e,n){var r=n(19),i={};i.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,n){return t[0]=e,t[1]=n,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))},t.exports=i},function(t,e){"use strict";function n(t,e,n){function i(){return s=!0,u?void(c=[].concat(r.call(arguments))):void n.apply(this,arguments)}function o(){if(!s&&(l=!0,!u)){for(u=!0;!s&&a<t&&l;)l=!1,e.call(this,a++,o,i);return u=!1,s?void n.apply(this,c):void(a>=t&&l&&(s=!0,n()))}}var a=0,s=!1,u=!1,l=!1,c=void 0;o()}e.__esModule=!0;var r=Array.prototype.slice;e.loopAsync=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(28),o=r(i),a=n(142),s=r(a);e.default=o.default(s.default,"enableBeforeUnload is deprecated, use useBeforeUnload instead"),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(28),o=r(i),a=n(33),s=r(a);e.default=o.default(s.default,"enableQueries is deprecated, use useQueries instead"),t.exports=e.default},function(t,e,n){"use strict";var r=n(423);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#|&)/,""),t?t.split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(r)?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i,t},{}):{})},e.stringify=function(t){return t?Object.keys(t).sort().map(function(e){var n=t[e];return void 0===n?"":null===n?e:Array.isArray(n)?n.slice().sort().map(function(t){return r(e)+"="+r(t)}).join("&"):r(e)+"="+r(n)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e,n){n(428),t.exports=self.fetch.bind(self)},function(t,e){function n(t){return r(Object(t))}var r=Object.getPrototypeOf;t.exports=n},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e){function n(){f&&l&&(f=!1,l.length?c=l.concat(c):h=-1,c.length&&r())}function r(){if(!f){var t=a(n);f=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,f=!1,s(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var a,s,u=t.exports={};!function(){try{a=setTimeout}catch(t){a=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var l,c=[],f=!1,h=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new i(t,e)),1!==c.length||f||a(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){t.exports=n(350)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){d||(d=!0,(0,h.default)("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}e.__esModule=!0,e.default=void 0;var u=n(2),l=n(144),c=r(l),f=n(145),h=r(f),d=!1,p=function(t){function e(n,r){i(this,e);var a=o(this,t.call(this,n,r));return a.store=n.store,a}return a(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return u.Children.only(t)},e}(u.Component);e.default=p,p.prototype.componentWillReceiveProps=function(t){var e=this.store,n=t.store;e!==n&&s()},p.propTypes={store:c.default.isRequired,children:u.PropTypes.element.isRequired},p.childContextTypes={store:c.default.isRequired}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.displayName||t.name||"Component"}function u(t,e){try{return t.apply(e)}catch(n){return R.value=n,R}}function l(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],l=Boolean(t),h=t||S,p=void 0;p="function"==typeof e?e:e?(0,m.default)(e):E;var _=n||O,y=r.pure,b=void 0===y||y,w=r.withRef,T=void 0!==w&&w,A=b&&_!==O,C=k++;return function(t){function e(t,e){(0,x.default)(t)||(0,g.default)(e+"() in "+r+" must return a plain object. "+("Instead received "+t+"."))}function n(t,n,r){var i=_(t,n,r);return e(i,"mergeProps"),i}var r="Connect("+s(t)+")",m=function(s){function d(t,e){i(this,d);var n=o(this,s.call(this,t,e));n.version=C,n.store=t.store||e.store,(0,P.default)(n.store,'Could not find "store" in either the context or '+('props of "'+r+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+r+'".'));var a=n.store.getState();return n.state={storeState:a},n.clearCache(),n}return a(d,s),d.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},d.prototype.computeStateProps=function(t,n){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,n);var r=t.getState(),i=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(r,n):this.finalMapStateToProps(r);return e(i,"mapStateToProps"),i},d.prototype.configureFinalMapState=function(t,n){var r=h(t.getState(),n),i="function"==typeof r;return this.finalMapStateToProps=i?r:h,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,i?this.computeStateProps(t,n):(e(r,"mapStateToProps"),r)},d.prototype.computeDispatchProps=function(t,n){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,n);var r=t.dispatch,i=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(r,n):this.finalMapDispatchToProps(r);return e(i,"mapDispatchToProps"),i},d.prototype.configureFinalMapDispatch=function(t,n){var r=p(t.dispatch,n),i="function"==typeof r;return this.finalMapDispatchToProps=i?r:p,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,i?this.computeDispatchProps(t,n):(e(r,"mapDispatchToProps"),r)},d.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,v.default)(t,this.stateProps))&&(this.stateProps=t,!0)},d.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,v.default)(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},d.prototype.updateMergedPropsIfNeeded=function(){var t=n(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&A&&(0,v.default)(t,this.mergedProps))&&(this.mergedProps=t,!0)},d.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},d.prototype.trySubscribe=function(){l&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},d.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},d.prototype.componentDidMount=function(){this.trySubscribe()},d.prototype.componentWillReceiveProps=function(t){b&&(0,v.default)(t,this.props)||(this.haveOwnPropsChanged=!0)},d.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},d.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},d.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!b||e!==t){if(b&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===R&&(this.statePropsPrecalculationError=R.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},d.prototype.getWrappedInstance=function(){return(0,P.default)(T,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},d.prototype.render=function(){var e=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var a=!0,s=!0;b&&o&&(a=n||e&&this.doStatePropsDependOnOwnProps,s=e&&this.doDispatchPropsDependOnOwnProps);var u=!1,l=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(l=this.updateDispatchPropsIfNeeded());var h=!0;return h=!!(u||l||e)&&this.updateMergedPropsIfNeeded(),!h&&o?o:(T?this.renderedElement=(0,f.createElement)(t,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,f.createElement)(t,this.mergedProps),this.renderedElement)},d}(f.Component);return m.displayName=r,m.WrappedComponent=t,m.contextTypes={store:d.default},m.propTypes={store:d.default},m.prototype.componentWillUpdate=function(){this.version!==C&&(this.version=C,this.trySubscribe(),this.clearCache())},(0,M.default)(m,t)}}var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.__esModule=!0,e.default=l;var f=n(2),h=n(144),d=r(h),p=n(316),v=r(p),_=n(317),m=r(_),y=n(145),g=r(y),b=n(74),x=r(b),w=n(143),M=r(w),T=n(11),P=r(T),S=function(t){return{}},E=function(t){return{dispatch:t}},O=function(t,e,n){return c({},n,t,e)},R={value:null},k=0},function(t,e){"use strict";function n(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!i.call(e,n[o])||t[n[o]]!==e[n[o]])return!1;return!0}e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function r(t){return function(e){return(0,i.bindActionCreators)(t,e)}}e.__esModule=!0,e.default=r;var i=n(97)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){return function(){return function(e){return function(n){if(n.type!==o.CALL_HISTORY_METHOD)return e(n);var i=n.payload,a=i.method,s=i.args;t[a].apply(t,r(s))}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(146)},function(t,e,n){"use strict";function r(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.selectLocationState,s=void 0===r?a:r,u=n.adjustUrlOnReplay,l=void 0===u||u;if("undefined"==typeof s(e.getState()))throw new Error("Expected the routing state to be available either as `state.routing` or as the custom expression you can specify as `selectLocationState` in the `syncHistoryWithStore()` options. Ensure you have added the `routerReducer` to your store's reducers via `combineReducers` or whatever method you use to isolate your reducers.");var c=void 0,f=void 0,h=void 0,d=void 0,p=function(t){var n=s(e.getState());return n.locationBeforeTransitions||(t?c:void 0)},v=p();if(l){var _=function(){var e=p(!0);v!==e&&(f=!0,v=e,t.transitionTo(i({},e,{action:"PUSH"})),f=!1)};h=e.subscribe(_),_()}var m=function(t){f||(v=t,!c&&(c=t,p())||e.dispatch({type:o.LOCATION_CHANGE,payload:t}))};return d=t.listen(m),i({},t,{listen:function(t){var n=p(!0),r=!1,i=e.subscribe(function(){var e=p(!0);e!==n&&(n=e,r||t(n))});return t(n),function(){r=!0,i()}},unsubscribe:function(){l&&h(),d()}})}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=r;var o=n(147),a=function(t){return t.routing}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(8),o=r(i),a=n(29),s={contextTypes:{history:a.history},componentWillMount:function(){(0,o.default)(!1,"the `History` mixin is deprecated, please access `context.router` with your own `contextTypes`. http://tiny.cc/router-historymixin"),this.history=this.context.history}};e.default=s,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(2),a=r(o),s=n(148),u=r(s),l=a.default.createClass({displayName:"IndexLink",render:function(){return a.default.createElement(u.default,i({},this.props,{onlyActiveOnIndex:!0}))}});e.default=l,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(8),s=r(a),u=n(11),l=r(u),c=n(149),f=r(c),h=n(29),d=o.default.PropTypes,p=d.string,v=d.object,_=o.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(t,e){e?e.indexRoute=f.default.createRouteFromReactElement(t):(0,s.default)(!1,"An <IndexRedirect> does not make sense at the root of your route config")}},propTypes:{to:p.isRequired,query:v,state:v,onEnter:h.falsy,children:h.falsy},render:function(){(0,l.default)(!1,"<IndexRedirect> elements are for router configuration only and should not be rendered")}});e.default=_,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(8),s=r(a),u=n(11),l=r(u),c=n(23),f=n(29),h=o.default.PropTypes.func,d=o.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(t,e){e?e.indexRoute=(0,c.createRouteFromReactElement)(t):(0,s.default)(!1,"An <IndexRoute> does not make sense at the root of your route config")}},propTypes:{path:f.falsy,component:f.component,components:f.components,getComponent:h,getComponents:h},render:function(){(0,l.default)(!1,"<IndexRoute> elements are for router configuration only and should not be rendered")}});e.default=d,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(8),o=r(i),a=n(2),s=r(a),u=n(11),l=r(u),c=s.default.PropTypes.object,f={contextTypes:{history:c.isRequired,route:c},propTypes:{route:c},componentDidMount:function(){(0,o.default)(!1,"the `Lifecycle` mixin is deprecated, please use `context.router.setRouteLeaveHook(route, hook)`. http://tiny.cc/router-lifecyclemixin"),this.routerWillLeave?void 0:(0,l.default)(!1,"The Lifecycle mixin requires you to define a routerWillLeave method");var t=this.props.route||this.context.route;
t?void 0:(0,l.default)(!1,"The Lifecycle mixin must be used on either a) a <Route component> or b) a descendant of a <Route component> that uses the RouteContext mixin"),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(t,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};e.default=f,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(11),s=r(a),u=n(23),l=n(29),c=o.default.PropTypes,f=c.string,h=c.func,d=o.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:f,component:l.component,components:l.components,getComponent:h,getComponents:h},render:function(){(0,s.default)(!1,"<Route> elements are for router configuration only and should not be rendered")}});e.default=d,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(8),o=r(i),a=n(2),s=r(a),u=s.default.PropTypes.object,l={propTypes:{route:u.isRequired},childContextTypes:{route:u.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){(0,o.default)(!1,"The `RouteContext` mixin is deprecated. You can provide `this.props.route` on context with your own `contextTypes`. http://tiny.cc/router-routecontextmixin")}};e.default=l,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return!t||!t.__v2_compatible__}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(71),u=r(s),l=n(33),c=r(l),f=n(2),h=r(f),d=n(77),p=r(d),v=n(29),_=n(54),m=r(_),y=n(23),g=n(150),b=n(8),x=r(b),w=h.default.PropTypes,M=w.func,T=w.object,P=h.default.createClass({displayName:"Router",propTypes:{history:T,children:v.routes,routes:v.routes,render:M,createElement:M,onError:M,onUpdate:M,matchContext:T},getDefaultProps:function(){return{render:function(t){return h.default.createElement(m.default,t)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(t){if(!this.props.onError)throw t;this.props.onError.call(this,t)},componentWillMount:function(){var t=this,e=this.props,n=e.parseQueryString,r=e.stringifyQuery;(0,x.default)(!(n||r),"`parseQueryString` and `stringifyQuery` are deprecated. Please create a custom history. http://tiny.cc/router-customquerystring");var i=this.createRouterObjects(),o=i.history,a=i.transitionManager,s=i.router;this._unlisten=a.listen(function(e,n){e?t.handleError(e):t.setState(n,t.props.onUpdate)}),this.history=o,this.router=s},createRouterObjects:function(){var t=this.props.matchContext;if(t)return t;var e=this.props.history,n=this.props,r=n.routes,i=n.children;o(e)&&(e=this.wrapDeprecatedHistory(e));var a=(0,p.default)(e,(0,y.createRoutes)(r||i)),s=(0,g.createRouterObject)(e,a),u=(0,g.createRoutingHistory)(e,a);return{history:u,transitionManager:a,router:s}},wrapDeprecatedHistory:function(t){var e=this.props,n=e.parseQueryString,r=e.stringifyQuery,i=void 0;return t?((0,x.default)(!1,"It appears you have provided a deprecated history object to `<Router/>`, please use a history provided by React Router with `import { browserHistory } from 'react-router'` or `import { hashHistory } from 'react-router'`. If you are using a custom history please create it with `useRouterHistory`, see http://tiny.cc/router-usinghistory for details."),i=function(){return t}):((0,x.default)(!1,"`Router` no longer defaults the history prop to hash history. Please use the `hashHistory` singleton instead. http://tiny.cc/router-defaulthistory"),i=u.default),(0,c.default)(i)({parseQueryString:n,stringifyQuery:r})},componentWillReceiveProps:function(t){(0,x.default)(t.history===this.props.history,"You cannot change <Router history>; it will be ignored"),(0,x.default)((t.routes||t.children)===(this.props.routes||this.props.children),"You cannot change <Router routes>; it will be ignored")},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function S(){var t=this.state,e=t.location,n=t.routes,r=t.params,o=t.components,s=this.props,u=s.createElement,S=s.render,l=i(s,["createElement","render"]);return null==e?null:(Object.keys(P.propTypes).forEach(function(t){return delete l[t]}),S(a({},l,{history:this.history,router:this.router,location:e,routes:n,params:r,components:o,createElement:u})))}});e.default=P,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(2),o=r(i),a=n(54),s=r(a),u=n(8),l=r(u),c=o.default.createClass({displayName:"RoutingContext",componentWillMount:function(){(0,l.default)(!1,"`RoutingContext` has been renamed to `RouterContext`. Please use `import { RouterContext } from 'react-router'`. http://tiny.cc/router-routercontext")},render:function(){return o.default.createElement(s.default,this.props)}});e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(t.apply(e,i),t.length<n){var a=i[i.length-1];a()}}}function o(t){return t.reduce(function(t,e){return e.onEnter&&t.push(i(e.onEnter,e,3)),t},[])}function a(t){return t.reduce(function(t,e){return e.onChange&&t.push(i(e.onChange,e,4)),t},[])}function s(t,e,n){function r(t,e,n){return e?((0,d.default)(!1,"`replaceState(state, pathname, query) is deprecated; use `replace(location)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated"),void(i={pathname:e,query:n,state:t})):void(i=t)}if(!t)return void n();var i=void 0;(0,f.loopAsync)(t,function(t,n,o){e(t,r,function(t){t||i?o(t,i):n()})},n)}function u(t,e,n){var r=o(t);return s(r.length,function(t,n,i){r[t](e,n,i)},n)}function l(t,e,n,r){var i=a(t);return s(i.length,function(t,r,o){i[t](e,n,r,o)},r)}function c(t){for(var e=0,n=t.length;e<n;++e)t[e].onLeave&&t[e].onLeave.call(t[e])}e.__esModule=!0,e.runEnterHooks=u,e.runChangeHooks=l,e.runLeaveHooks=c;var f=n(75),h=n(8),d=r(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(2),a=r(o),s=n(54),u=r(s);e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){return t.renderRouterContext}).filter(function(t){return t}),s=e.map(function(t){return t.renderRouteComponent}).filter(function(t){return t}),l=function(){var t=arguments.length<=0||void 0===arguments[0]?o.createElement:arguments[0];return function(e,n){return s.reduceRight(function(t,e){return e(t,n)},t(e,n))}};return function(t){return r.reduceRight(function(e,n){return n(e,t)},a.default.createElement(u.default,i({},t,{createElement:l(t.createElement)})))}},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(137),o=r(i),a=n(152),s=r(a);e.default=(0,s.default)(o.default),t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){if(!t.path)return!1;var r=(0,o.getParamNames)(t.path);return r.some(function(t){return e.params[t]!==n.params[t]})}function i(t,e){var n=t&&t.routes,i=e.routes,o=void 0,a=void 0,s=void 0;return n?!function(){var u=!1;o=n.filter(function(n){if(u)return!0;var o=i.indexOf(n)===-1||r(n,t,e);return o&&(u=!0),o}),o.reverse(),s=[],a=[],i.forEach(function(t){var e=n.indexOf(t)===-1,r=o.indexOf(t)!==-1;e||r?s.push(t):a.push(t)})}():(o=[],a=[],s=i),{leaveRoutes:o,changeRoutes:a,enterRoutes:s}}e.__esModule=!0;var o=n(34);e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){if(e.component||e.components)return void n(null,e.component||e.components);var r=e.getComponent||e.getComponents;if(!r)return void n();var i=t.location,o=(0,u.default)(t,i);r.call(e,o,n)}function o(t,e){(0,a.mapAsync)(t.routes,function(e,n,r){i(t,e,r)},e)}e.__esModule=!0;var a=n(75),s=n(153),u=r(s);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n={};return t.path?((0,i.getParamNames)(t.path).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n):n}e.__esModule=!0;var i=n(34);e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(71),o=r(i),a=n(152),s=r(a);e.default=(0,s.default)(o.default),t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(t==e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return r(t,e[n])});if("object"===("undefined"==typeof t?"undefined":u(t))){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))if(void 0===t[n]){if(void 0!==e[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(e,n))return!1;if(!r(t[n],e[n]))return!1}return!0}return String(t)===String(e)}function i(t,e){return"/"!==e.charAt(0)&&(e="/"+e),"/"!==t.charAt(t.length-1)&&(t+="/"),"/"!==e.charAt(e.length-1)&&(e+="/"),e===t}function o(t,e,n){for(var r=t,i=[],o=[],a=0,s=e.length;a<s;++a){var u=e[a],c=u.path||"";if("/"===c.charAt(0)&&(r=t,i=[],o=[]),null!==r&&c){var f=(0,l.matchPattern)(c,r);if(f?(r=f.remainingPathname,i=[].concat(i,f.paramNames),o=[].concat(o,f.paramValues)):r=null,""===r)return i.every(function(t,e){return String(o[e])===String(n[t])})}}return!1}function a(t,e){return null==e?null==t:null==t||r(t,e)}function s(t,e,n,r,s){var u=t.pathname,l=t.query;return null!=n&&("/"!==u.charAt(0)&&(u="/"+u),!!(i(u,n.pathname)||!e&&o(u,r,s))&&a(l,n.query))}e.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=s;var l=n(34);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){var n=t.history,r=t.routes,o=t.location,s=i(t,["history","routes","location"]);n||o?void 0:(0,u.default)(!1,"match needs a history or a location"),n=n?n:(0,c.default)(s);var l=(0,h.default)(n,(0,d.createRoutes)(r)),f=void 0;o?o=n.createLocation(o):f=n.listen(function(t){o=t});var v=(0,p.createRouterObject)(n,l);n=(0,p.createRoutingHistory)(n,l),l.match(o,function(t,r,i){e(t,r,i&&a({},i,{history:n,router:v,matchContext:{history:n,transitionManager:l,router:v}})),f&&f()})}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(11),u=r(s),l=n(151),c=r(l),f=n(77),h=r(f),d=n(23),p=n(150);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r,i){if(t.childRoutes)return[null,t.childRoutes];if(!t.getChildRoutes)return[];var o=!0,a=void 0,u={location:e,params:s(n,r)},l=(0,p.default)(u,e);return t.getChildRoutes(l,function(t,e){return e=!t&&(0,y.createRoutes)(e),o?void(a=[t,e]):void i(t,e)}),o=!1,a}function o(t,e,n,r,i){if(t.indexRoute)i(null,t.indexRoute);else if(t.getIndexRoute){var a={location:e,params:s(n,r)},u=(0,p.default)(a,e);t.getIndexRoute(u,function(t,e){i(t,!t&&(0,y.createRoutes)(e)[0])})}else t.childRoutes?!function(){var a=t.childRoutes.filter(function(t){return!t.path});(0,h.loopAsync)(a.length,function(t,i,s){o(a[t],e,n,r,function(e,n){if(e||n){var r=[a[t]].concat(Array.isArray(n)?n:[n]);s(e,r)}else i()})},function(t,e){i(null,e)})}():i()}function a(t,e,n){return e.reduce(function(t,e,r){var i=n&&n[r];return Array.isArray(t[e])?t[e].push(i):e in t?t[e]=[t[e],i]:t[e]=i,t},t)}function s(t,e){return a({},t,e)}function u(t,e,n,r,a,u){var c=t.path||"";if("/"===c.charAt(0)&&(n=e.pathname,r=[],a=[]),null!==n&&c){try{var h=(0,v.matchPattern)(c,n);h?(n=h.remainingPathname,r=[].concat(r,h.paramNames),a=[].concat(a,h.paramValues)):n=null}catch(d){u(d)}if(""===n){var p=function(){var n={routes:[t],params:s(r,a)};return o(t,e,r,a,function(t,e){if(t)u(t);else{if(Array.isArray(e)){var r;(0,m.default)(e.every(function(t){return!t.path}),"Index routes should not have paths"),(r=n.routes).push.apply(r,e)}else e&&((0,m.default)(!e.path,"Index routes should not have paths"),n.routes.push(e));u(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof p?"undefined":f(p)))return p.v}}if(null!=n||t.childRoutes){var _=function(i,o){i?u(i):o?l(o,e,function(e,n){e?u(e):n?(n.routes.unshift(t),u(null,n)):u()},n,r,a):u()},y=i(t,e,r,a,_);y&&_.apply(void 0,y)}else u()}function l(t,e,n,r){var i=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],o=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];void 0===r&&("/"!==e.pathname.charAt(0)&&(e=c({},e,{pathname:"/"+e.pathname})),r=e.pathname),(0,h.loopAsync)(t.length,function(n,a,s){u(t[n],e,r,i,o,function(t,e){t||e?s(t,e):a()})},n)}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=l;var h=n(75),d=n(153),p=r(d),v=n(34),_=n(8),m=r(_),y=n(23);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return(0,h.default)(!1,"`useRoutes` is deprecated. Please use `createTransitionManager` instead."),function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.routes,r=i(e,["routes"]),o=(0,u.default)(t)(r),s=(0,c.default)(o,n);return a({},o,s)}}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(33),u=r(s),l=n(77),c=r(l),f=n(8),h=r(f);e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.displayName||t.name||"Component"}function o(t){var e=u.default.createClass({displayName:"WithRouter",contextTypes:{router:f.routerShape},render:function(){return u.default.createElement(t,a({},this.props,{router:this.context.router}))}});return e.displayName="withRouter("+i(t)+")",e.WrappedComponent=t,(0,c.default)(e,t)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var s=n(2),u=r(s),l=n(143),c=r(l),f=n(76);t.exports=e.default},,,,,,,,,,function(t,e,n){"use strict";function r(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return new Error(e+" must be a number (in milliseconds)")}}}var i=n(3),o=n(58),a=n(387),s=n(351),u=o.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:s.propTypes.name,transitionAppear:o.PropTypes.bool,transitionEnter:o.PropTypes.bool,transitionLeave:o.PropTypes.bool,transitionAppearTimeout:r("Appear"),transitionEnterTimeout:r("Enter"),transitionLeaveTimeout:r("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(t){return o.createElement(s,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},t)},render:function(){return o.createElement(a,i({},this.props,{childFactory:this._wrapChild}))}});t.exports=u},function(t,e,n){"use strict";var r=n(58),i=n(162),o=n(284),a=n(386),s=n(186),u=17,l=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(t,e,n){var r=i.findDOMNode(this);if(!r)return void(e&&e());var s=this.props.name[t]||this.props.name+"-"+t,u=this.props.name[t+"Active"]||s+"-active",l=null,c=function(t){t&&t.target!==r||(clearTimeout(l),o.removeClass(r,s),o.removeClass(r,u),a.removeEndEventListener(r,c),e&&e())};o.addClass(r,s),this.queueClass(u),n?(l=setTimeout(c,n),this.transitionTimeouts.push(l)):a.addEndEventListener(r,c)},queueClass:function(t){this.classNameQueue.push(t),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,u))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(o.addClass.bind(o,i.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)})},componentWillAppear:function(t){this.props.appear?this.transition("appear",t,this.props.appearTimeout):t()},componentWillEnter:function(t){this.props.enter?this.transition("enter",t,this.props.enterTimeout):t()},componentWillLeave:function(t){this.props.leave?this.transition("leave",t,this.props.leaveTimeout):t()},render:function(){return s(this.props.children)}});t.exports=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(179),i={getChildMapping:function(t){return t?r(t):t},mergeChildMappings:function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var r={},i=[];for(var o in t)e.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var u in e){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}};t.exports=i},function(t,e,n){"use strict";function r(){var t=s("animationend"),e=s("transitionend");t&&u.push(t),e&&u.push(e)}function i(t,e,n){t.addEventListener(e,n,!1)}function o(t,e,n){t.removeEventListener(e,n,!1)}var a=n(6),s=n(183),u=[];a.canUseDOM&&r();var l={addEndEventListener:function(t,e){return 0===u.length?void window.setTimeout(e,0):void u.forEach(function(n){i(t,n,e)})},removeEndEventListener:function(t,e){0!==u.length&&u.forEach(function(n){o(t,n,e)})}};t.exports=l},function(t,e,n){"use strict";var r=n(3),i=n(58),o=n(385),a=n(10),s=i.createClass({displayName:"ReactTransitionGroup",propTypes:{component:i.PropTypes.any,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},componentWillReceiveProps:function(t){var e=o.getChildMapping(t.children),n=this.state.children;this.setState({children:o.mergeChildMappings(n,e)});var r;for(r in e){var i=n&&n.hasOwnProperty(r);!e[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=e&&e.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performAppear:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillAppear?e.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)},_handleDoneAppearing:function(t){var e=this.refs[t];e.componentDidAppear&&e.componentDidAppear(),delete this.currentlyTransitioningKeys[t];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performEnter:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)},_handleDoneEntering:function(t){var e=this.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete this.currentlyTransitioningKeys[t];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performLeave:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillLeave?e.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)},_handleDoneLeaving:function(t){var e=this.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[t];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)?this.performEnter(t):this.setState(function(e){var n=r({},e.children);return delete n[t],{children:n}})},render:function(){var t=[];for(var e in this.state.children){var n=this.state.children[e];n&&t.push(i.cloneElement(this.props.childFactory(n),{ref:e,key:e}))}return i.createElement(this.props.component,this.props,t)}});t.exports=s},,,,,,,,,,,,,,,,,,,,,function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function i(t,e,i,o){switch("undefined"==typeof t?"undefined":r(t)){case"object":return"function"==typeof t[o]?t[o].apply(t,n(i)):t[o];case"function":return t(e);default:return t}}function o(){function t(){S.forEach(function(t,e){var n=t.started,o=t.startedTime,s=t.action,l=t.prevState,c=t.error,h=t.took,d=t.nextState,v=S[e+1];v&&(d=v.prevState,h=v.started-n);var m=x(s),y="function"==typeof f?f(function(){return d},s):f,g=u(o),b=P.title?"color: "+P.title(m)+";":null,w="action "+(_?g:"")+" "+m.type+" "+(p?"(in "+h.toFixed(2)+" ms)":"");try{y?P.title?a.groupCollapsed("%c "+w,b):a.groupCollapsed(w):P.title?a.group("%c "+w,b):a.group(w)}catch(M){a.log(w)}var T=i(r,m,[l],"prevState"),E=i(r,m,[m],"action"),O=i(r,m,[c,l],"error"),R=i(r,m,[d],"nextState");T&&(P.prevState?a[T]("%c prev state","color: "+P.prevState(l)+"; font-weight: bold",l):a[T]("prev state",l)),E&&(P.action?a[E]("%c action","color: "+P.action(m)+"; font-weight: bold",m):a[E]("action",m)),c&&O&&(P.error?a[O]("%c error","color: "+P.error(c,l)+"; font-weight: bold",c):a[O]("error",c)),R&&(P.nextState?a[R]("%c next state","color: "+P.nextState(d)+"; font-weight: bold",d):a[R]("next state",d));try{a.groupEnd()}catch(M){a.log("—— log end ——")}}),S.length=0}var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.level,r=void 0===n?"log":n,o=e.logger,a=void 0===o?console:o,s=e.logErrors,c=void 0===s||s,f=e.collapsed,h=e.predicate,d=e.duration,p=void 0!==d&&d,v=e.timestamp,_=void 0===v||v,m=e.transformer,y=e.stateTransformer,g=void 0===y?function(t){return t}:y,b=e.actionTransformer,x=void 0===b?function(t){return t}:b,w=e.errorTransformer,M=void 0===w?function(t){return t}:w,T=e.colors,P=void 0===T?{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:T;if("undefined"==typeof a)return function(){return function(t){return function(e){return t(e)}}};m&&console.error("Option 'transformer' is deprecated, use stateTransformer instead");var S=[];return function(e){var n=e.getState;return function(e){return function(r){if("function"==typeof h&&!h(n,r))return e(r);var i={};S.push(i),i.started=l.now(),i.startedTime=new Date,i.prevState=g(n()),i.action=r;var o=void 0;if(c)try{o=e(r)}catch(a){i.error=M(a)}else o=e(r);if(i.took=l.now()-i.started,i.nextState=g(n()),t(),i.error)throw i.error;return o}}}}var a=function(t,e){return new Array(e+1).join(t)},s=function(t,e){return a("0",e-t.toString().length)+t},u=function(t){return"@ "+s(t.getHours(),2)+":"+s(t.getMinutes(),2)+":"+s(t.getSeconds(),2)+"."+s(t.getMilliseconds(),3)},l="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;t.exports=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.promiseTypeSuffixes||c;return function(t){var n=t.dispatch;return function(t){return function(r){if(!r.payload)return t(r);if(!(0,l.default)(r.payload)&&!(0,l.default)(r.payload.promise))return t(r);var i=r.type,u=r.payload,c=r.meta,f=(c||{}).promiseTypeSuffixes||e,h=s(f,3),d=h[0],p=h[1],v=h[2],_=function(t,e){return a({type:i+"_"+(e?v:p)},t?{payload:t}:{},c?{meta:c}:{},e?{error:!0}:{})},m=void 0,y=void 0;return(0,l.default)(r.payload)||"object"!==o(r.payload)?(m=u,y=null):(m=u.promise,y=u.data),t(a({type:i+"_"+d},y?{payload:y}:{},c?{meta:c}:{})),new Promise(function(t,e){m.then(function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],r=_(e,!1);n(r),t({value:e,action:r})},function(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],r=_(t,!0);n(r),e({reason:t,action:r})})})}}}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=i;var u=n(410),l=r(u),c=["PENDING","FULFILLED","REJECTED"]},function(t,e){"use strict";function n(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":r(t))&&(t&&"function"==typeof t.then)}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.default=n},function(t,e){"use strict";function n(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}e.__esModule=!0;var r=n();r.withExtraArgument=n,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,i){var a=t(n,r,i),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(t){return u(t)}};return l=e.map(function(t){return t(c)}),u=s.default.apply(void 0,l)(a.dispatch),o({},a,{dispatch:u})}}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var a=n(189),s=r(a)},function(t,e){"use strict";function n(t,e){return function(){return e(t.apply(void 0,arguments))}}function r(t,e){if("function"==typeof t)return n(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),i={},o=0;o<r.length;o++){var a=r[o],s=t[a];"function"==typeof s&&(i[a]=n(s,e))}return i}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(t,e,n){var r=Object.keys(e),i=n&&n.type===u.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,c.default)(t))return"The "+i+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var o=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)});return o.length>0?"Unexpected "+(o.length>1?"keys":"key")+" "+('"'+o.join('", "')+'" found in '+i+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];"function"==typeof t[s]&&(n[s]=t[s])}var u,l=Object.keys(n);try{a(n)}catch(c){u=c}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];if(u)throw u;var r=o(t,n,e);r&&(0,h.default)(r);for(var a=!1,s={},c=0;c<l.length;c++){var f=l[c],d=n[f],p=t[f],v=d(p,e);if("undefined"==typeof v){var _=i(f,e);throw new Error(_)}s[f]=v,a=a||v!==p}return a?s:t}}e.__esModule=!0,e.default=s;var u=n(190),l=n(74),c=r(l),f=n(191),h=r(f)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=60,o=function(){
function t(){n(this,t),this._delayTasks=[],this._nextTasks=[],this._deferTasks=[],this._highTasks=[],this._usurpTask=[],this._enterframeTasks=[],this._idTable=0,this._loop()}return r(t,[{key:"addEF",value:function(t,e){e=e||[];var n=this._idTable;return this._enterframeTasks[n]={func:t,params:e},this._idTable++,n}},{key:"removeEF",value:function(t){return void 0!==this._enterframeTasks[t]&&(this._enterframeTasks[t]=null),-1}},{key:"delay",value:function(t,e,n){var r=(new Date).getTime(),i={func:t,params:e,delay:n,time:r};this._delayTasks.push(i)}},{key:"defer",value:function(t,e){var n={func:t,params:e};this._deferTasks.push(n)}},{key:"next",value:function(t,e){var n={func:t,params:e};this._nextTasks.push(n)}},{key:"usurp",value:function(t,e){var n={func:t,params:e};this._usurpTask.push(n)}},{key:"_process",value:function(){var t=0,e=void 0,n=void 0,r=void 0;for(t=0;t<this._enterframeTasks.length;t++)e=this._enterframeTasks[t],null!==e&&void 0!==e&&e.func(e.params);for(;this._highTasks.length>0;)e=this._highTasks.pop(),e.func(e.params);var o=(new Date).getTime();for(t=0;t<this._delayTasks.length;t++)e=this._delayTasks[t],o-e.time>e.delay&&(e.func(e.params),this._delayTasks.splice(t,1));for(o=(new Date).getTime(),n=1e3/i;this._deferTasks.length>0;){if(e=this._deferTasks.shift(),r=(new Date).getTime(),!(r-o<n)){this._deferTasks.unshift(e);break}e.func(e.params)}for(o=(new Date).getTime(),n=1e3/i;this._usurpTask.length>0;)e=this._usurpTask.shift(),r=(new Date).getTime(),r-o<n&&e.func(e.params);this._highTasks=this._highTasks.concat(this._nextTasks),this._nextTasks=[],this._usurpTask=[]}},{key:"_loop",value:function(){var t=this;this._process(),window.requestAnimationFrame(function(){return t._loop()})}}]),t}(),a=new o;e.default=a},function(t,e){t.exports="// axis.frag\n\n#define SHADER_NAME SIMPLE_TEXTURE\n\nprecision highp float;\nvarying vec3 vColor;\n\nvoid main(void) {\n    gl_FragColor = vec4(vColor, 1.0);\n}"},function(t,e){t.exports="// axis.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec3 aColor;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec3 vColor;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vColor = aColor;\n}"},function(t,e){t.exports="// basic.frag\n\n#define SHADER_NAME BASIC_FRAGMENT\n\nprecision highp float;\nvarying vec2 vTextureCoord;\nuniform float time;\n// uniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = vec4(vTextureCoord, sin(time) * .5 + .5, 1.0);\n}"},function(t,e){t.exports="// basic.vert\n\n#define SHADER_NAME BASIC_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n}"},function(t,e){t.exports="// copy.frag\n\n#define SHADER_NAME COPY_FRAGMENT\n\nprecision highp float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D texture;\n\nvoid main(void) {\n    gl_FragColor = texture2D(texture, vTextureCoord);\n}"},function(t,e){t.exports="// basic.vert\n\n#define SHADER_NAME DOTS_PLANE_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);\n}"},function(t,e){t.exports="// generalWithNormal.vert\n\n#define SHADER_NAME GENERAL_VERTEX\n\nprecision highp float;\nattribute vec3 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec3 aNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec3 position;\nuniform vec3 scale;\n\nvarying vec2 vTextureCoord;\nvarying vec3 vNormal;\n\nvoid main(void) {\n\tvec3 pos      = aVertexPosition * scale;\n\tpos           += position;\n\tgl_Position   = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(pos, 1.0);\n\t\n\tvTextureCoord = aTextureCoord;\n\tvNormal       = normalize(uNormalMatrix * aNormal);\n}"},function(t,e){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){"use strict";(function(e){t.exports=n(425)(e||window||this)}).call(e,n(65))},function(t,e){"use strict";t.exports=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e){(function(e){t.exports=e}).call(e,{})},,function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader;return e.readAsArrayBuffer(t),a(e)}function u(t){var e=new FileReader;return e.readAsText(t),a(e)}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob?(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=c(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function d(t){var e=new i,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)}),e}function p(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof i?e.headers:new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];i||(i=[],this.map[t]=i),i.push(r)},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},i.prototype.getAll=function(t){return this.map[e(t)]||[]},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=[n(r)]},i.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){t.call(e,r,n,this)},this)},this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},l.call(f.prototype),l.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];p.redirect=function(t,e){if(m.indexOf(e)===-1)throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=f,t.Response=p,t.fetch=function(t,e){return new Promise(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:d(a),url:i()},e="response"in a?a.response:a.responseText;n(new p(e,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e){}],[203]);